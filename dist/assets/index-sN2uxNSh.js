(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function fp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mp={exports:{}},sa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=Symbol.for("react.transitional.element"),yx=Symbol.for("react.fragment");function pp(e,t,n){var o=null;if(n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),"key"in t){n={};for(var s in t)s!=="key"&&(n[s]=t[s])}else n=t;return t=n.ref,{$$typeof:gx,type:e,key:o,ref:t!==void 0?t:null,props:n}}sa.Fragment=yx;sa.jsx=pp;sa.jsxs=pp;mp.exports=sa;var u=mp.exports,hp={exports:{}},W={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=Symbol.for("react.transitional.element"),xx=Symbol.for("react.portal"),bx=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),Tx=Symbol.for("react.consumer"),Sx=Symbol.for("react.context"),Nx=Symbol.for("react.forward_ref"),Ex=Symbol.for("react.suspense"),wx=Symbol.for("react.memo"),gp=Symbol.for("react.lazy"),Ax=Symbol.for("react.activity"),id=Symbol.iterator;function Mx(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var yp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xp=Object.assign,bp={};function ds(e,t,n){this.props=e,this.context=t,this.refs=bp,this.updater=n||yp}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vp(){}vp.prototype=ds.prototype;function Bu(e,t,n){this.props=e,this.context=t,this.refs=bp,this.updater=n||yp}var Fu=Bu.prototype=new vp;Fu.constructor=Bu;xp(Fu,ds.prototype);Fu.isPureReactComponent=!0;var ld=Array.isArray;function Mr(){}var we={H:null,A:null,T:null,S:null},Cp=Object.prototype.hasOwnProperty;function Vu(e,t,n){var o=n.ref;return{$$typeof:Pu,type:e,key:t,ref:o!==void 0?o:null,props:n}}function _x(e,t){return Vu(e.type,t,e.props)}function ju(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pu}function Rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ad=/\/+/g;function ka(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rx(""+e.key):t.toString(36)}function Dx(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Mr,Mr):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function wo(e,t,n,o,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(i){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Pu:case xx:r=!0;break;case gp:return r=e._init,wo(r(e._payload),t,n,o,s)}}if(r)return s=s(e),r=o===""?"."+ka(e,0):o,ld(s)?(n="",r!=null&&(n=r.replace(ad,"$&/")+"/"),wo(s,t,n,"",function(d){return d})):s!=null&&(ju(s)&&(s=_x(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(ad,"$&/")+"/")+r)),t.push(s)),1;r=0;var c=o===""?".":o+":";if(ld(e))for(var f=0;f<e.length;f++)o=e[f],i=c+ka(o,f),r+=wo(o,t,n,i,s);else if(f=Mx(e),typeof f=="function")for(e=f.call(e),f=0;!(o=e.next()).done;)o=o.value,i=c+ka(o,f++),r+=wo(o,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return wo(Dx(e),t,n,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Li(e,t,n){if(e==null)return e;var o=[],s=0;return wo(e,o,"","",function(i){return t.call(n,i,s++)}),o}function kx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ix={map:Li,forEach:function(e,t,n){Li(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Li(e,function(){t++}),t},toArray:function(e){return Li(e,function(t){return t})||[]},only:function(e){if(!ju(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Activity=Ax;W.Children=Ix;W.Component=ds;W.Fragment=bx;W.Profiler=Cx;W.PureComponent=Bu;W.StrictMode=vx;W.Suspense=Ex;W.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=we;W.__COMPILER_RUNTIME={__proto__:null,c:function(e){return we.H.useMemoCache(e)}};W.cache=function(e){return function(){return e.apply(null,arguments)}};W.cacheSignal=function(){return null};W.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var o=xp({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!Cp.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(o[i]=t[i]);var i=arguments.length-2;if(i===1)o.children=n;else if(1<i){for(var r=Array(i),c=0;c<i;c++)r[c]=arguments[c+2];o.children=r}return Vu(e.type,s,o)};W.createContext=function(e){return e={$$typeof:Sx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Tx,_context:e},e};W.createElement=function(e,t,n){var o,s={},i=null;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)Cp.call(t,o)&&o!=="key"&&o!=="__self"&&o!=="__source"&&(s[o]=t[o]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var c=Array(r),f=0;f<r;f++)c[f]=arguments[f+2];s.children=c}if(e&&e.defaultProps)for(o in r=e.defaultProps,r)s[o]===void 0&&(s[o]=r[o]);return Vu(e,i,s)};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Nx,render:e}};W.isValidElement=ju;W.lazy=function(e){return{$$typeof:gp,_payload:{_status:-1,_result:e},_init:kx}};W.memo=function(e,t){return{$$typeof:wx,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=we.T,n={};we.T=n;try{var o=e(),s=we.S;s!==null&&s(n,o),typeof o=="object"&&o!==null&&typeof o.then=="function"&&o.then(Mr,rd)}catch(i){rd(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),we.T=t}};W.unstable_useCacheRefresh=function(){return we.H.useCacheRefresh()};W.use=function(e){return we.H.use(e)};W.useActionState=function(e,t,n){return we.H.useActionState(e,t,n)};W.useCallback=function(e,t){return we.H.useCallback(e,t)};W.useContext=function(e){return we.H.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e,t){return we.H.useDeferredValue(e,t)};W.useEffect=function(e,t){return we.H.useEffect(e,t)};W.useEffectEvent=function(e){return we.H.useEffectEvent(e)};W.useId=function(){return we.H.useId()};W.useImperativeHandle=function(e,t,n){return we.H.useImperativeHandle(e,t,n)};W.useInsertionEffect=function(e,t){return we.H.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return we.H.useLayoutEffect(e,t)};W.useMemo=function(e,t){return we.H.useMemo(e,t)};W.useOptimistic=function(e,t){return we.H.useOptimistic(e,t)};W.useReducer=function(e,t,n){return we.H.useReducer(e,t,n)};W.useRef=function(e){return we.H.useRef(e)};W.useState=function(e){return we.H.useState(e)};W.useSyncExternalStore=function(e,t,n){return we.H.useSyncExternalStore(e,t,n)};W.useTransition=function(){return we.H.useTransition()};W.version="19.2.0";hp.exports=W;var S=hp.exports;const ol=fp(S);var Tp={exports:{}},ia={},Sp={exports:{}},Np={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,H){var P=U.length;U.push(H);e:for(;0<P;){var z=P-1>>>1,k=U[z];if(0<s(k,H))U[z]=H,U[P]=k,P=z;else break e}}function n(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var H=U[0],P=U.pop();if(P!==H){U[0]=P;e:for(var z=0,k=U.length,V=k>>>1;z<V;){var Y=2*(z+1)-1,te=U[Y],Re=Y+1,G=U[Re];if(0>s(te,P))Re<k&&0>s(G,te)?(U[z]=G,U[Re]=P,z=Re):(U[z]=te,U[Y]=P,z=Y);else if(Re<k&&0>s(G,P))U[z]=G,U[Re]=P,z=Re;else break e}}return H}function s(U,H){var P=U.sortIndex-H.sortIndex;return P!==0?P:U.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var r=Date,c=r.now();e.unstable_now=function(){return r.now()-c}}var f=[],d=[],m=1,p=null,h=3,g=!1,C=!1,T=!1,N=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function v(U){for(var H=n(d);H!==null;){if(H.callback===null)o(d);else if(H.startTime<=U)o(d),H.sortIndex=H.expirationTime,t(f,H);else break;H=n(d)}}function A(U){if(T=!1,v(U),!C)if(n(f)!==null)C=!0,w||(w=!0,R());else{var H=n(d);H!==null&&K(A,H.startTime-U)}}var w=!1,E=-1,_=5,M=-1;function D(){return N?!0:!(e.unstable_now()-M<_)}function B(){if(N=!1,w){var U=e.unstable_now();M=U;var H=!0;try{e:{C=!1,T&&(T=!1,y(E),E=-1),g=!0;var P=h;try{t:{for(v(U),p=n(f);p!==null&&!(p.expirationTime>U&&D());){var z=p.callback;if(typeof z=="function"){p.callback=null,h=p.priorityLevel;var k=z(p.expirationTime<=U);if(U=e.unstable_now(),typeof k=="function"){p.callback=k,v(U),H=!0;break t}p===n(f)&&o(f),v(U)}else o(f);p=n(f)}if(p!==null)H=!0;else{var V=n(d);V!==null&&K(A,V.startTime-U),H=!1}}break e}finally{p=null,h=P,g=!1}H=void 0}}finally{H?R():w=!1}}}var R;if(typeof x=="function")R=function(){x(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Z=F.port2;F.port1.onmessage=B,R=function(){Z.postMessage(null)}}else R=function(){b(B,0)};function K(U,H){E=b(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var P=h;h=H;try{return U()}finally{h=P}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var P=h;h=U;try{return H()}finally{h=P}},e.unstable_scheduleCallback=function(U,H,P){var z=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?z+P:z):P=z,U){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=P+k,U={id:m++,callback:H,priorityLevel:U,startTime:P,expirationTime:k,sortIndex:-1},P>z?(U.sortIndex=P,t(d,U),n(f)===null&&U===n(d)&&(T?(y(E),E=-1):T=!0,K(A,P-z))):(U.sortIndex=k,t(f,U),C||g||(C=!0,w||(w=!0,R()))),U},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(U){var H=h;return function(){var P=h;h=H;try{return U.apply(this,arguments)}finally{h=P}}}})(Np);Sp.exports=Np;var Lx=Sp.exports,Ep={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=S;function wp(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Nn(){}var st={d:{f:Nn,r:function(){throw Error(wp(522))},D:Nn,C:Nn,L:Nn,m:Nn,X:Nn,S:Nn,M:Nn},p:0,findDOMNode:null},Px=Symbol.for("react.portal");function Bx(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Px,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}var zs=Ux.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function la(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(wp(299));return Bx(e,t,null,n)};it.flushSync=function(e){var t=zs.T,n=st.p;try{if(zs.T=null,st.p=2,e)return e()}finally{zs.T=t,st.p=n,st.d.f()}};it.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,st.d.C(e,t))};it.prefetchDNS=function(e){typeof e=="string"&&st.d.D(e)};it.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,o=la(n,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?st.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:o,integrity:s,fetchPriority:i}):n==="script"&&st.d.X(e,{crossOrigin:o,integrity:s,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};it.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=la(t.as,t.crossOrigin);st.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&st.d.M(e)};it.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,o=la(n,t.crossOrigin);st.d.L(e,n,{crossOrigin:o,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};it.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=la(t.as,t.crossOrigin);st.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else st.d.m(e)};it.requestFormReset=function(e){st.d.r(e)};it.unstable_batchedUpdates=function(e,t){return e(t)};it.useFormState=function(e,t,n){return zs.H.useFormState(e,t,n)};it.useFormStatus=function(){return zs.H.useHostTransitionStatus()};it.version="19.2.0";function Ap(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ap)}catch(e){console.error(e)}}Ap(),Ep.exports=it;var Fx=Ep.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=Lx,Mp=S,Vx=Fx;function L(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _p(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Rp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Dp(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ud(e){if(xi(e)!==e)throw Error(L(188))}function jx(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,o=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(o=s.return,o!==null){n=o;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ud(s),e;if(i===o)return ud(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==o.return)n=s,o=i;else{for(var r=!1,c=s.child;c;){if(c===n){r=!0,n=s,o=i;break}if(c===o){r=!0,o=s,n=i;break}c=c.sibling}if(!r){for(c=i.child;c;){if(c===n){r=!0,n=i,o=s;break}if(c===o){r=!0,o=i,n=s;break}c=c.sibling}if(!r)throw Error(L(189))}}if(n.alternate!==o)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function kp(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=kp(e),t!==null)return t;e=e.sibling}return null}var Ae=Object.assign,zx=Symbol.for("react.element"),Ui=Symbol.for("react.transitional.element"),Us=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Ip=Symbol.for("react.strict_mode"),_r=Symbol.for("react.profiler"),Lp=Symbol.for("react.consumer"),an=Symbol.for("react.context"),zu=Symbol.for("react.forward_ref"),Rr=Symbol.for("react.suspense"),Dr=Symbol.for("react.suspense_list"),Hu=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),kr=Symbol.for("react.activity"),Hx=Symbol.for("react.memo_cache_sentinel"),cd=Symbol.iterator;function ws(e){return e===null||typeof e!="object"?null:(e=cd&&e[cd]||e["@@iterator"],typeof e=="function"?e:null)}var qx=Symbol.for("react.client.reference");function Ir(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===qx?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case _r:return"Profiler";case Ip:return"StrictMode";case Rr:return"Suspense";case Dr:return"SuspenseList";case kr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Us:return"Portal";case an:return e.displayName||"Context";case Lp:return(e._context.displayName||"Context")+".Consumer";case zu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hu:return t=e.displayName||null,t!==null?t:Ir(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return Ir(e(t))}catch{}}return null}var Ps=Array.isArray,X=Mp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=Vx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oo={pending:!1,data:null,method:null,action:null},Lr=[],ko=-1;function Kt(e){return{current:e}}function Ye(e){0>ko||(e.current=Lr[ko],Lr[ko]=null,ko--)}function Te(e,t){ko++,Lr[ko]=e.current,e.current=t}var Jt=Kt(null),ni=Kt(null),Bn=Kt(null),Nl=Kt(null);function El(e,t){switch(Te(Bn,t),Te(ni,e),Te(Jt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yf(t),e=ey(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ye(Jt),Te(Jt,e)}function es(){Ye(Jt),Ye(ni),Ye(Bn)}function Ur(e){e.memoizedState!==null&&Te(Nl,e);var t=Jt.current,n=ey(t,e.type);t!==n&&(Te(ni,e),Te(Jt,n))}function wl(e){ni.current===e&&(Ye(Jt),Ye(ni)),Nl.current===e&&(Ye(Nl),mi._currentValue=oo)}var Ia,dd;function Zn(e){if(Ia===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ia=t&&t[1]||"",dd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+e+dd}var La=!1;function Ua(e,t){if(!e||La)return"";La=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(g){var h=g}Reflect.construct(e,[],p)}else{try{p.call()}catch(g){h=g}e.call(p.prototype)}}else{try{throw Error()}catch(g){h=g}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),r=i[0],c=i[1];if(r&&c){var f=r.split(`
`),d=c.split(`
`);for(s=o=0;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;for(;s<d.length&&!d[s].includes("DetermineComponentFrameRoot");)s++;if(o===f.length||s===d.length)for(o=f.length-1,s=d.length-1;1<=o&&0<=s&&f[o]!==d[s];)s--;for(;1<=o&&0<=s;o--,s--)if(f[o]!==d[s]){if(o!==1||s!==1)do if(o--,s--,0>s||f[o]!==d[s]){var m=`
`+f[o].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=o&&0<=s);break}}}finally{La=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Zn(n):""}function Gx(e,t){switch(e.tag){case 26:case 27:case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return e.child!==t&&t!==null?Zn("Suspense Fallback"):Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 15:return Ua(e.type,!1);case 11:return Ua(e.type.render,!1);case 1:return Ua(e.type,!0);case 31:return Zn("Activity");default:return""}}function fd(e){try{var t="",n=null;do t+=Gx(e,n),n=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Pr=Object.prototype.hasOwnProperty,qu=qe.unstable_scheduleCallback,Pa=qe.unstable_cancelCallback,Ox=qe.unstable_shouldYield,$x=qe.unstable_requestPaint,xt=qe.unstable_now,Jx=qe.unstable_getCurrentPriorityLevel,Up=qe.unstable_ImmediatePriority,Pp=qe.unstable_UserBlockingPriority,Al=qe.unstable_NormalPriority,Yx=qe.unstable_LowPriority,Bp=qe.unstable_IdlePriority,Kx=qe.log,Xx=qe.unstable_setDisableYieldValue,bi=null,bt=null;function kn(e){if(typeof Kx=="function"&&Xx(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(bi,e)}catch{}}var vt=Math.clz32?Math.clz32:Zx,Qx=Math.log,Wx=Math.LN2;function Zx(e){return e>>>=0,e===0?32:31-(Qx(e)/Wx|0)|0}var Pi=256,Bi=262144,Fi=4194304;function eo(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function aa(e,t,n){var o=e.pendingLanes;if(o===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var c=o&134217727;return c!==0?(o=c&~i,o!==0?s=eo(o):(r&=c,r!==0?s=eo(r):n||(n=c&~e,n!==0&&(s=eo(n))))):(c=o&~i,c!==0?s=eo(c):r!==0?s=eo(r):n||(n=o&~e,n!==0&&(s=eo(n)))),s===0?0:t!==0&&t!==s&&!(t&i)&&(i=s&-s,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:s}function vi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function eb(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(){var e=Fi;return Fi<<=1,!(Fi&62914560)&&(Fi=4194304),e}function Ba(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ci(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tb(e,t,n,o,s,i){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var c=e.entanglements,f=e.expirationTimes,d=e.hiddenUpdates;for(n=r&~n;0<n;){var m=31-vt(n),p=1<<m;c[m]=0,f[m]=-1;var h=d[m];if(h!==null)for(d[m]=null,m=0;m<h.length;m++){var g=h[m];g!==null&&(g.lane&=-536870913)}n&=~p}o!==0&&Vp(e,o,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Vp(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-vt(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|n&261930}function jp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-vt(n),s=1<<o;s&t|e[o]&t&&(e[o]|=t),n&=~s}}function zp(e,t){var n=t&-t;return n=n&42?1:Gu(n),n&(e.suspendedLanes|t)?0:n}function Gu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ou(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Hp(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:dy(e.type))}function md(e,t){var n=pe.p;try{return pe.p=e,t()}finally{pe.p=n}}var Xn=Math.random().toString(36).slice(2),Qe="__reactFiber$"+Xn,ft="__reactProps$"+Xn,fs="__reactContainer$"+Xn,Br="__reactEvents$"+Xn,nb="__reactListeners$"+Xn,ob="__reactHandles$"+Xn,pd="__reactResources$"+Xn,Ti="__reactMarker$"+Xn;function $u(e){delete e[Qe],delete e[ft],delete e[Br],delete e[nb],delete e[ob]}function Io(e){var t=e[Qe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[Qe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tf(e);e!==null;){if(n=e[Qe])return n;e=Tf(e)}return t}e=n,n=e.parentNode}return null}function ms(e){if(e=e[Qe]||e[fs]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Bs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(L(33))}function Go(e){var t=e[pd];return t||(t=e[pd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[Ti]=!0}var qp=new Set,Gp={};function ho(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(Gp[e]=t,e=0;e<t.length;e++)qp.add(t[e])}var sb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},gd={};function ib(e){return Pr.call(gd,e)?!0:Pr.call(hd,e)?!1:sb.test(e)?gd[e]=!0:(hd[e]=!0,!1)}function sl(e,t,n){if(ib(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Vi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Zt(e,t,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+o)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Op(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lb(e,t,n){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var s=o.get,i=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fr(e){if(!e._valueTracker){var t=Op(e)?"checked":"value";e._valueTracker=lb(e,t,""+e[t])}}function $p(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=Op(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ab=/[\n"\\]/g;function _t(e){return e.replace(ab,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vr(e,t,n,o,s,i,r,c){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?jr(e,r,wt(t)):n!=null?jr(e,r,wt(n)):o!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+wt(c):e.removeAttribute("name")}function Jp(e,t,n,o,s,i,r,c){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Fr(e);return}n=n!=null?""+wt(n):"",t=t!=null?""+wt(t):n,c||t===e.value||(e.value=t),e.defaultValue=t}o=o??s,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=c?e.checked:!!o,e.defaultChecked=!!o,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),Fr(e)}function jr(e,t,n){t==="number"&&Ml(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Oo(e,t,n,o){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&o&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,o&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Yp(e,t,n){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wt(n):""}function Kp(e,t,n,o){if(t==null){if(o!=null){if(n!=null)throw Error(L(92));if(Ps(o)){if(1<o.length)throw Error(L(93));o=o[0]}n=o}n==null&&(n=""),t=n}n=wt(t),e.defaultValue=n,o=e.textContent,o===n&&o!==""&&o!==null&&(e.value=o),Fr(e)}function ns(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yd(e,t,n){var o=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,n):typeof n!="number"||n===0||rb.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xp(e,t,n){if(t!=null&&typeof t!="object")throw Error(L(62));if(e=e.style,n!=null){for(var o in n)!n.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var s in t)o=t[s],t.hasOwnProperty(s)&&n[s]!==o&&yd(e,s,o)}else for(var i in t)t.hasOwnProperty(i)&&yd(e,i,t[i])}function Ju(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ub=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function il(e){return cb.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function rn(){}var zr=null;function Yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,$o=null;function xd(e){var t=ms(e);if(t&&(e=t.stateNode)){var n=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var s=o[ft]||null;if(!s)throw Error(L(90));Vr(o,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)o=n[t],o.form===e.form&&$p(o)}break e;case"textarea":Yp(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Oo(e,!!n.multiple,t,!1)}}}var Fa=!1;function Qp(e,t,n){if(Fa)return e(t,n);Fa=!0;try{var o=e(t);return o}finally{if(Fa=!1,(Lo!==null||$o!==null)&&(ba(),Lo&&(t=Lo,e=$o,$o=Lo=null,xd(t),e)))for(t=0;t<e.length;t++)xd(e[t])}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var o=n[ft]||null;if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(hn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Hr=!1}var In=null,Ku=null,ll=null;function Wp(){if(ll)return ll;var e,t=Ku,n=t.length,o,s="value"in In?In.value:In.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var r=n-e;for(o=1;o<=r&&t[n-o]===s[i-o];o++);return ll=s.slice(e,1<o?1-o:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function bd(){return!1}function mt(e){function t(n,o,s,i,r){this._reactName=n,this._targetInst=s,this.type=o,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ji:bd,this.isPropagationStopped=bd,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=mt(go),Si=Ae({},go,{view:0,detail:0}),db=mt(Si),Va,ja,Ms,ua=Ae({},Si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ms&&(Ms&&e.type==="mousemove"?(Va=e.screenX-Ms.screenX,ja=e.screenY-Ms.screenY):ja=Va=0,Ms=e),Va)},movementY:function(e){return"movementY"in e?e.movementY:ja}}),vd=mt(ua),fb=Ae({},ua,{dataTransfer:0}),mb=mt(fb),pb=Ae({},Si,{relatedTarget:0}),za=mt(pb),hb=Ae({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),gb=mt(hb),yb=Ae({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xb=mt(yb),bb=Ae({},go,{data:0}),Cd=mt(bb),vb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tb[e])?!!t[e]:!1}function Xu(){return Sb}var Nb=Ae({},Si,{key:function(e){if(e.key){var t=vb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eb=mt(Nb),wb=Ae({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=mt(wb),Ab=Ae({},Si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Mb=mt(Ab),_b=Ae({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rb=mt(_b),Db=Ae({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kb=mt(Db),Ib=Ae({},go,{newState:0,oldState:0}),Lb=mt(Ib),Ub=[9,13,27,32],Qu=hn&&"CompositionEvent"in window,Hs=null;hn&&"documentMode"in document&&(Hs=document.documentMode);var Pb=hn&&"TextEvent"in window&&!Hs,Zp=hn&&(!Qu||Hs&&8<Hs&&11>=Hs),Sd=" ",Nd=!1;function eh(e,t){switch(e){case"keyup":return Ub.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uo=!1;function Bb(e,t){switch(e){case"compositionend":return th(t);case"keypress":return t.which!==32?null:(Nd=!0,Sd);case"textInput":return e=t.data,e===Sd&&Nd?null:e;default:return null}}function Fb(e,t){if(Uo)return e==="compositionend"||!Qu&&eh(e,t)?(e=Wp(),ll=Ku=In=null,Uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zp&&t.locale!=="ko"?null:t.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vb[e.type]:t==="textarea"}function nh(e,t,n,o){Lo?$o?$o.push(o):$o=[o]:Lo=o,t=$l(t,"onChange"),0<t.length&&(n=new ra("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var qs=null,si=null;function jb(e){Qg(e,0)}function ca(e){var t=Bs(e);if($p(t))return e}function wd(e,t){if(e==="change")return t}var oh=!1;if(hn){var Ha;if(hn){var qa="oninput"in document;if(!qa){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),qa=typeof Ad.oninput=="function"}Ha=qa}else Ha=!1;oh=Ha&&(!document.documentMode||9<document.documentMode)}function Md(){qs&&(qs.detachEvent("onpropertychange",sh),si=qs=null)}function sh(e){if(e.propertyName==="value"&&ca(si)){var t=[];nh(t,si,e,Yu(e)),Qp(jb,t)}}function zb(e,t,n){e==="focusin"?(Md(),qs=t,si=n,qs.attachEvent("onpropertychange",sh)):e==="focusout"&&Md()}function Hb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ca(si)}function qb(e,t){if(e==="click")return ca(t)}function Gb(e,t){if(e==="input"||e==="change")return ca(t)}function Ob(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Ob;function ii(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var s=n[o];if(!Pr.call(t,s)||!Tt(e[s],t[s]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rd(e,t){var n=_d(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_d(n)}}function ih(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ih(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ml(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ml(e.document)}return t}function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $b=hn&&"documentMode"in document&&11>=document.documentMode,Po=null,qr=null,Gs=null,Gr=!1;function Dd(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gr||Po==null||Po!==Ml(o)||(o=Po,"selectionStart"in o&&Wu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Gs&&ii(Gs,o)||(Gs=o,o=$l(qr,"onSelect"),0<o.length&&(t=new ra("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Po)))}function Wn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bo={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},Ga={},ah={};hn&&(ah=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function yo(e){if(Ga[e])return Ga[e];if(!Bo[e])return e;var t=Bo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ah)return Ga[e]=t[n];return e}var rh=yo("animationend"),uh=yo("animationiteration"),ch=yo("animationstart"),Jb=yo("transitionrun"),Yb=yo("transitionstart"),Kb=yo("transitioncancel"),dh=yo("transitionend"),fh=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function zt(e,t){fh.set(e,t),ho(t,[e])}var _l=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Et=[],Fo=0,Zu=0;function da(){for(var e=Fo,t=Zu=Fo=0;t<e;){var n=Et[t];Et[t++]=null;var o=Et[t];Et[t++]=null;var s=Et[t];Et[t++]=null;var i=Et[t];if(Et[t++]=null,o!==null&&s!==null){var r=o.pending;r===null?s.next=s:(s.next=r.next,r.next=s),o.pending=s}i!==0&&mh(n,s,i)}}function fa(e,t,n,o){Et[Fo++]=e,Et[Fo++]=t,Et[Fo++]=n,Et[Fo++]=o,Zu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ec(e,t,n,o){return fa(e,t,n,o),Rl(e)}function xo(e,t){return fa(e,null,null,t),Rl(e)}function mh(e,t,n){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n);for(var s=!1,i=e.return;i!==null;)i.childLanes|=n,o=i.alternate,o!==null&&(o.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-vt(n),e=i.hiddenUpdates,o=e[s],o===null?e[s]=[t]:o.push(t),t.lane=n|536870912),i):null}function Rl(e){if(50<Zs)throw Zs=0,fu=null,Error(L(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Vo={};function Xb(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,o){return new Xb(e,t,n,o)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ph(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function rl(e,t,n,o,s,i){var r=0;if(o=e,typeof e=="function")tc(e)&&(r=1);else if(typeof e=="string")r=t0(e,n,Jt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case kr:return e=gt(31,n,t,s),e.elementType=kr,e.lanes=i,e;case Do:return so(n.children,s,i,t);case Ip:r=8,s|=24;break;case _r:return e=gt(12,n,t,s|2),e.elementType=_r,e.lanes=i,e;case Rr:return e=gt(13,n,t,s),e.elementType=Rr,e.lanes=i,e;case Dr:return e=gt(19,n,t,s),e.elementType=Dr,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case an:r=10;break e;case Lp:r=9;break e;case zu:r=11;break e;case Hu:r=14;break e;case wn:r=16,o=null;break e}r=29,n=Error(L(130,e===null?"null":typeof e,"")),o=null}return t=gt(r,n,t,s),t.elementType=e,t.type=o,t.lanes=i,t}function so(e,t,n,o){return e=gt(7,e,o,t),e.lanes=n,e}function Oa(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function hh(e){var t=gt(18,null,null,0);return t.stateNode=e,t}function $a(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var kd=new WeakMap;function Rt(e,t){if(typeof e=="object"&&e!==null){var n=kd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:fd(t)},kd.set(e,t),t)}return{value:e,source:t,stack:fd(t)}}var jo=[],zo=0,Dl=null,li=0,At=[],Mt=0,$n=null,Gt=1,Ot="";function sn(e,t){jo[zo++]=li,jo[zo++]=Dl,Dl=e,li=t}function gh(e,t,n){At[Mt++]=Gt,At[Mt++]=Ot,At[Mt++]=$n,$n=e;var o=Gt;e=Ot;var s=32-vt(o)-1;o&=~(1<<s),n+=1;var i=32-vt(t)+s;if(30<i){var r=s-s%5;i=(o&(1<<r)-1).toString(32),o>>=r,s-=r,Gt=1<<32-vt(t)+s|n<<s|o,Ot=i+e}else Gt=1<<i|n<<s|o,Ot=e}function nc(e){e.return!==null&&(sn(e,1),gh(e,1,0))}function oc(e){for(;e===Dl;)Dl=jo[--zo],jo[zo]=null,li=jo[--zo],jo[zo]=null;for(;e===$n;)$n=At[--Mt],At[Mt]=null,Ot=At[--Mt],At[Mt]=null,Gt=At[--Mt],At[Mt]=null}function yh(e,t){At[Mt++]=Gt,At[Mt++]=Ot,At[Mt++]=$n,Gt=t.id,Ot=t.overflow,$n=e}var We=null,Ee=null,ae=!1,Fn=null,Dt=!1,$r=Error(L(519));function Jn(e){var t=Error(L(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ai(Rt(t,e)),$r}function Id(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[Qe]=e,t[ft]=o,n){case"dialog":ne("cancel",t),ne("close",t);break;case"iframe":case"object":case"embed":ne("load",t);break;case"video":case"audio":for(n=0;n<di.length;n++)ne(di[n],t);break;case"source":ne("error",t);break;case"img":case"image":case"link":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"input":ne("invalid",t),Jp(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ne("invalid",t);break;case"textarea":ne("invalid",t),Kp(t,o.value,o.defaultValue,o.children)}n=o.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||o.suppressHydrationWarning===!0||Zg(t.textContent,n)?(o.popover!=null&&(ne("beforetoggle",t),ne("toggle",t)),o.onScroll!=null&&ne("scroll",t),o.onScrollEnd!=null&&ne("scrollend",t),o.onClick!=null&&(t.onclick=rn),t=!0):t=!1,t||Jn(e,!0)}function Ld(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:We=We.return}}function So(e){if(e!==We)return!1;if(!ae)return Ld(e),ae=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||yu(e.type,e.memoizedProps)),n=!n),n&&Ee&&Jn(e),Ld(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Ee=Cf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));Ee=Cf(e)}else t===27?(t=Ee,Qn(e.type)?(e=Cu,Cu=null,Ee=e):Ee=t):Ee=We?Lt(e.stateNode.nextSibling):null;return!0}function ro(){Ee=We=null,ae=!1}function Ja(){var e=Fn;return e!==null&&(ct===null?ct=e:ct.push.apply(ct,e),Fn=null),e}function ai(e){Fn===null?Fn=[e]:Fn.push(e)}var Jr=Kt(null),bo=null,un=null;function Mn(e,t,n){Te(Jr,t._currentValue),t._currentValue=n}function fn(e){e._currentValue=Jr.current,Ye(Jr)}function Yr(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Kr(e,t,n,o){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var c=i;i=s;for(var f=0;f<t.length;f++)if(c.context===t[f]){i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Yr(i.return,n,e),o||(r=null);break e}i=c.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(L(341));r.lanes|=n,i=r.alternate,i!==null&&(i.lanes|=n),Yr(r,n,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function ps(e,t,n,o){e=null;for(var s=t,i=!1;s!==null;){if(!i){if(s.flags&524288)i=!0;else if(s.flags&262144)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(L(387));if(r=r.memoizedProps,r!==null){var c=s.type;Tt(s.pendingProps.value,r.value)||(e!==null?e.push(c):e=[c])}}else if(s===Nl.current){if(r=s.alternate,r===null)throw Error(L(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(mi):e=[mi])}s=s.return}e!==null&&Kr(t,e,n,o),t.flags|=262144}function kl(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function uo(e){bo=e,un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return xh(bo,e)}function zi(e,t){return bo===null&&uo(e),xh(e,t)}function xh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},un===null){if(e===null)throw Error(L(308));un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else un=un.next=t;return n}var Qb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Wb=qe.unstable_scheduleCallback,Zb=qe.unstable_NormalPriority,Fe={$$typeof:an,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new Qb,data:new Map,refCount:0}}function Ni(e){e.refCount--,e.refCount===0&&Wb(Zb,function(){e.controller.abort()})}var Os=null,Xr=0,os=0,Jo=null;function ev(e,t){if(Os===null){var n=Os=[];Xr=0,os=_c(),Jo={status:"pending",value:void 0,then:function(o){n.push(o)}}}return Xr++,t.then(Ud,Ud),t}function Ud(){if(--Xr===0&&Os!==null){Jo!==null&&(Jo.status="fulfilled");var e=Os;Os=null,os=0,Jo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function tv(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(o.status="rejected",o.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),o}var Pd=X.S;X.S=function(e,t){kg=xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ev(e,t),Pd!==null&&Pd(e,t)};var io=Kt(null);function ic(){var e=io.current;return e!==null?e:ve.pooledCache}function ul(e,t){t===null?Te(io,io.current):Te(io,t.pool)}function bh(){var e=ic();return e===null?null:{parent:Fe._currentValue,pool:e}}var hs=Error(L(460)),lc=Error(L(474)),ma=Error(L(542)),Il={then:function(){}};function Bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(rn,rn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vd(e),e;default:if(typeof t.status=="string")t.then(rn,rn);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(L(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=o}},function(o){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vd(e),e}throw lo=t,hs}}function to(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(lo=n,hs):n}}var lo=null;function Fd(){if(lo===null)throw Error(L(459));var e=lo;return lo=null,e}function Vd(e){if(e===hs||e===ma)throw Error(L(483))}var Yo=null,ri=0;function Hi(e){var t=ri;return ri+=1,Yo===null&&(Yo=[]),vh(Yo,e,t)}function _s(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qi(e,t){throw t.$$typeof===zx?Error(L(525)):(e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ch(e){function t(b,y){if(e){var x=b.deletions;x===null?(b.deletions=[y],b.flags|=16):x.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function o(b){for(var y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function s(b,y){return b=dn(b,y),b.index=0,b.sibling=null,b}function i(b,y,x){return b.index=x,e?(x=b.alternate,x!==null?(x=x.index,x<y?(b.flags|=67108866,y):x):(b.flags|=67108866,y)):(b.flags|=1048576,y)}function r(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function c(b,y,x,v){return y===null||y.tag!==6?(y=Oa(x,b.mode,v),y.return=b,y):(y=s(y,x),y.return=b,y)}function f(b,y,x,v){var A=x.type;return A===Do?m(b,y,x.props.children,v,x.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wn&&to(A)===y.type)?(y=s(y,x.props),_s(y,x),y.return=b,y):(y=rl(x.type,x.key,x.props,null,b.mode,v),_s(y,x),y.return=b,y)}function d(b,y,x,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=$a(x,b.mode,v),y.return=b,y):(y=s(y,x.children||[]),y.return=b,y)}function m(b,y,x,v,A){return y===null||y.tag!==7?(y=so(x,b.mode,v,A),y.return=b,y):(y=s(y,x),y.return=b,y)}function p(b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Oa(""+y,b.mode,x),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ui:return x=rl(y.type,y.key,y.props,null,b.mode,x),_s(x,y),x.return=b,x;case Us:return y=$a(y,b.mode,x),y.return=b,y;case wn:return y=to(y),p(b,y,x)}if(Ps(y)||ws(y))return y=so(y,b.mode,x,null),y.return=b,y;if(typeof y.then=="function")return p(b,Hi(y),x);if(y.$$typeof===an)return p(b,zi(b,y),x);qi(b,y)}return null}function h(b,y,x,v){var A=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return A!==null?null:c(b,y,""+x,v);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ui:return x.key===A?f(b,y,x,v):null;case Us:return x.key===A?d(b,y,x,v):null;case wn:return x=to(x),h(b,y,x,v)}if(Ps(x)||ws(x))return A!==null?null:m(b,y,x,v,null);if(typeof x.then=="function")return h(b,y,Hi(x),v);if(x.$$typeof===an)return h(b,y,zi(b,x),v);qi(b,x)}return null}function g(b,y,x,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return b=b.get(x)||null,c(y,b,""+v,A);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ui:return b=b.get(v.key===null?x:v.key)||null,f(y,b,v,A);case Us:return b=b.get(v.key===null?x:v.key)||null,d(y,b,v,A);case wn:return v=to(v),g(b,y,x,v,A)}if(Ps(v)||ws(v))return b=b.get(x)||null,m(y,b,v,A,null);if(typeof v.then=="function")return g(b,y,x,Hi(v),A);if(v.$$typeof===an)return g(b,y,x,zi(y,v),A);qi(y,v)}return null}function C(b,y,x,v){for(var A=null,w=null,E=y,_=y=0,M=null;E!==null&&_<x.length;_++){E.index>_?(M=E,E=null):M=E.sibling;var D=h(b,E,x[_],v);if(D===null){E===null&&(E=M);break}e&&E&&D.alternate===null&&t(b,E),y=i(D,y,_),w===null?A=D:w.sibling=D,w=D,E=M}if(_===x.length)return n(b,E),ae&&sn(b,_),A;if(E===null){for(;_<x.length;_++)E=p(b,x[_],v),E!==null&&(y=i(E,y,_),w===null?A=E:w.sibling=E,w=E);return ae&&sn(b,_),A}for(E=o(E);_<x.length;_++)M=g(E,b,_,x[_],v),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?_:M.key),y=i(M,y,_),w===null?A=M:w.sibling=M,w=M);return e&&E.forEach(function(B){return t(b,B)}),ae&&sn(b,_),A}function T(b,y,x,v){if(x==null)throw Error(L(151));for(var A=null,w=null,E=y,_=y=0,M=null,D=x.next();E!==null&&!D.done;_++,D=x.next()){E.index>_?(M=E,E=null):M=E.sibling;var B=h(b,E,D.value,v);if(B===null){E===null&&(E=M);break}e&&E&&B.alternate===null&&t(b,E),y=i(B,y,_),w===null?A=B:w.sibling=B,w=B,E=M}if(D.done)return n(b,E),ae&&sn(b,_),A;if(E===null){for(;!D.done;_++,D=x.next())D=p(b,D.value,v),D!==null&&(y=i(D,y,_),w===null?A=D:w.sibling=D,w=D);return ae&&sn(b,_),A}for(E=o(E);!D.done;_++,D=x.next())D=g(E,b,_,D.value,v),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?_:D.key),y=i(D,y,_),w===null?A=D:w.sibling=D,w=D);return e&&E.forEach(function(R){return t(b,R)}),ae&&sn(b,_),A}function N(b,y,x,v){if(typeof x=="object"&&x!==null&&x.type===Do&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ui:e:{for(var A=x.key;y!==null;){if(y.key===A){if(A=x.type,A===Do){if(y.tag===7){n(b,y.sibling),v=s(y,x.props.children),v.return=b,b=v;break e}}else if(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===wn&&to(A)===y.type){n(b,y.sibling),v=s(y,x.props),_s(v,x),v.return=b,b=v;break e}n(b,y);break}else t(b,y);y=y.sibling}x.type===Do?(v=so(x.props.children,b.mode,v,x.key),v.return=b,b=v):(v=rl(x.type,x.key,x.props,null,b.mode,v),_s(v,x),v.return=b,b=v)}return r(b);case Us:e:{for(A=x.key;y!==null;){if(y.key===A)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(b,y.sibling),v=s(y,x.children||[]),v.return=b,b=v;break e}else{n(b,y);break}else t(b,y);y=y.sibling}v=$a(x,b.mode,v),v.return=b,b=v}return r(b);case wn:return x=to(x),N(b,y,x,v)}if(Ps(x))return C(b,y,x,v);if(ws(x)){if(A=ws(x),typeof A!="function")throw Error(L(150));return x=A.call(x),T(b,y,x,v)}if(typeof x.then=="function")return N(b,y,Hi(x),v);if(x.$$typeof===an)return N(b,y,zi(b,x),v);qi(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,y!==null&&y.tag===6?(n(b,y.sibling),v=s(y,x),v.return=b,b=v):(n(b,y),v=Oa(x,b.mode,v),v.return=b,b=v),r(b)):n(b,y)}return function(b,y,x,v){try{ri=0;var A=N(b,y,x,v);return Yo=null,A}catch(E){if(E===hs||E===ma)throw E;var w=gt(29,E,null,b.mode);return w.lanes=v,w.return=b,w}finally{}}}var co=Ch(!0),Th=Ch(!1),An=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,me&2){var s=o.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),o.pending=t,t=Rl(e),mh(e,null,n),t}return fa(e,o,t,n),Rl(e)}function $s(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,jp(e,n)}}function Ya(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:o.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wr=!1;function Js(){if(Wr){var e=Jo;if(e!==null)throw e}}function Ys(e,t,n,o){Wr=!1;var s=e.updateQueue;An=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var f=c,d=f.next;f.next=null,r===null?i=d:r.next=d,r=f;var m=e.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==r&&(c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=f))}if(i!==null){var p=s.baseState;r=0,m=d=f=null,c=i;do{var h=c.lane&-536870913,g=h!==c.lane;if(g?(le&h)===h:(o&h)===h){h!==0&&h===os&&(Wr=!0),m!==null&&(m=m.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var C=e,T=c;h=t;var N=n;switch(T.tag){case 1:if(C=T.payload,typeof C=="function"){p=C.call(N,p,h);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=T.payload,h=typeof C=="function"?C.call(N,p,h):C,h==null)break e;p=Ae({},p,h);break e;case 2:An=!0}}h=c.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[h]:g.push(h))}else g={lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(d=m=g,f=p):m=m.next=g,r|=h;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);m===null&&(f=p),s.baseState=f,s.firstBaseUpdate=d,s.lastBaseUpdate=m,i===null&&(s.shared.lanes=0),Kn|=r,e.lanes=r,e.memoizedState=p}}function Sh(e,t){if(typeof e!="function")throw Error(L(191,e));e.call(t)}function Nh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Sh(n[e],t)}var ss=Kt(null),Ll=Kt(0);function jd(e,t){e=bn,Te(Ll,e),Te(ss,t),bn=e|t.baseLanes}function Zr(){Te(Ll,bn),Te(ss,ss.current)}function rc(){bn=Ll.current,Ye(ss),Ye(Ll)}var St=Kt(null),It=null;function _n(e){var t=e.alternate;Te(Ie,Ie.current&1),Te(St,e),It===null&&(t===null||ss.current!==null||t.memoizedState!==null)&&(It=e)}function eu(e){Te(Ie,Ie.current),Te(St,e),It===null&&(It=e)}function Eh(e){e.tag===22?(Te(Ie,Ie.current),Te(St,e),It===null&&(It=e)):Rn()}function Rn(){Te(Ie,Ie.current),Te(St,St.current)}function ht(e){Ye(St),It===e&&(It=null),Ye(Ie)}var Ie=Kt(0);function Ul(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||bu(n)||vu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gn=0,ee=null,be=null,Pe=null,Pl=!1,Ko=!1,fo=!1,Bl=0,ui=0,Xo=null,nv=0;function De(){throw Error(L(321))}function uc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function cc(e,t,n,o,s,i){return gn=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?ng:Cc,fo=!1,i=n(o,s),fo=!1,Ko&&(i=Ah(t,n,o,s)),wh(e),i}function wh(e){X.H=ci;var t=be!==null&&be.next!==null;if(gn=0,Pe=be=ee=null,Pl=!1,ui=0,Xo=null,t)throw Error(L(300));e===null||Ve||(e=e.dependencies,e!==null&&kl(e)&&(Ve=!0))}function Ah(e,t,n,o){ee=e;var s=0;do{if(Ko&&(Xo=null),ui=0,Ko=!1,25<=s)throw Error(L(301));if(s+=1,Pe=be=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}X.H=og,i=t(n,o)}while(Ko);return i}function ov(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?Ei(t):t,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(ee.flags|=1024),t}function dc(){var e=Bl!==0;return Bl=0,e}function fc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function mc(e){if(Pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Pl=!1}gn=0,Pe=be=ee=null,Ko=!1,ui=Bl=0,Xo=null}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?ee.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Le(){if(be===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Pe===null?ee.memoizedState:Pe.next;if(t!==null)Pe=t,be=e;else{if(e===null)throw ee.alternate===null?Error(L(467)):Error(L(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Pe===null?ee.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function pa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ei(e){var t=ui;return ui+=1,Xo===null&&(Xo=[]),e=vh(Xo,e,t),t=ee,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?ng:Cc),e}function ha(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ei(e);if(e.$$typeof===an)return Ze(e)}throw Error(L(438,String(e)))}function pc(e){var t=null,n=ee.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var o=ee.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=pa(),ee.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=Hx;return t.index++,n}function yn(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=Le();return hc(t,be,e)}function hc(e,t,n){var o=e.queue;if(o===null)throw Error(L(311));o.lastRenderedReducer=n;var s=e.baseQueue,i=o.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,o.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var c=r=null,f=null,d=t,m=!1;do{var p=d.lane&-536870913;if(p!==d.lane?(le&p)===p:(gn&p)===p){var h=d.revertLane;if(h===0)f!==null&&(f=f.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===os&&(m=!0);else if((gn&h)===h){d=d.next,h===os&&(m=!0);continue}else p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},f===null?(c=f=p,r=i):f=f.next=p,ee.lanes|=h,Kn|=h;p=d.action,fo&&n(i,p),i=d.hasEagerState?d.eagerState:n(i,p)}else h={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},f===null?(c=f=h,r=i):f=f.next=h,ee.lanes|=p,Kn|=p;d=d.next}while(d!==null&&d!==t);if(f===null?r=i:f.next=c,!Tt(i,e.memoizedState)&&(Ve=!0,m&&(n=Jo,n!==null)))throw n;e.memoizedState=i,e.baseState=r,e.baseQueue=f,o.lastRenderedState=i}return s===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ka(e){var t=Le(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var o=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);Tt(i,t.memoizedState)||(Ve=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Mh(e,t,n){var o=ee,s=Le(),i=ae;if(i){if(n===void 0)throw Error(L(407));n=n()}else n=t();var r=!Tt((be||s).memoizedState,n);if(r&&(s.memoizedState=n,Ve=!0),s=s.queue,gc(Dh.bind(null,o,s,e),[e]),s.getSnapshot!==t||r||Pe!==null&&Pe.memoizedState.tag&1){if(o.flags|=2048,is(9,{destroy:void 0},Rh.bind(null,o,s,n,t),null),ve===null)throw Error(L(349));i||gn&127||_h(o,t,n)}return n}function _h(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t=pa(),ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rh(e,t,n,o){t.value=n,t.getSnapshot=o,kh(t)&&Ih(e)}function Dh(e,t,n){return n(function(){kh(t)&&Ih(e)})}function kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Ih(e){var t=xo(e,2);t!==null&&dt(t,e,2)}function tu(e){var t=ot();if(typeof e=="function"){var n=e;if(e=n(),fo){kn(!0);try{n()}finally{kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t}function Lh(e,t,n,o){return e.baseState=n,hc(e,be,typeof o=="function"?o:yn)}function sv(e,t,n,o,s){if(ya(e))throw Error(L(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};X.T!==null?n(!0):i.isTransition=!1,o(i),n=t.pending,n===null?(i.next=t.pending=i,Uh(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Uh(e,t){var n=t.action,o=t.payload,s=e.state;if(t.isTransition){var i=X.T,r={};X.T=r;try{var c=n(s,o),f=X.S;f!==null&&f(r,c),zd(e,t,c)}catch(d){nu(e,t,d)}finally{i!==null&&r.types!==null&&(i.types=r.types),X.T=i}}else try{i=n(s,o),zd(e,t,i)}catch(d){nu(e,t,d)}}function zd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(o){Hd(e,t,o)},function(o){return nu(e,t,o)}):Hd(e,t,n)}function Hd(e,t,n){t.status="fulfilled",t.value=n,Ph(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Uh(e,n)))}function nu(e,t,n){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=n,Ph(t),t=t.next;while(t!==o)}e.action=null}function Ph(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bh(e,t){return t}function qd(e,t){if(ae){var n=ve.formState;if(n!==null){e:{var o=ee;if(ae){if(Ee){t:{for(var s=Ee,i=Dt;s.nodeType!==8;){if(!i){s=null;break t}if(s=Lt(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Ee=Lt(s.nextSibling),o=s.data==="F!";break e}}Jn(o)}o=!1}o&&(t=n[0])}}return n=ot(),n.memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bh,lastRenderedState:t},n.queue=o,n=Zh.bind(null,ee,o),o.dispatch=n,o=tu(!1),i=vc.bind(null,ee,!1,o.queue),o=ot(),s={state:t,dispatch:null,action:e,pending:null},o.queue=s,n=sv.bind(null,ee,s,i,n),s.dispatch=n,o.memoizedState=e,[t,n,!1]}function Gd(e){var t=Le();return Fh(t,be,e)}function Fh(e,t,n){if(t=hc(e,t,Bh)[0],e=cl(yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Ei(t)}catch(r){throw r===hs?ma:r}else o=t;t=Le();var s=t.queue,i=s.dispatch;return n!==t.memoizedState&&(ee.flags|=2048,is(9,{destroy:void 0},iv.bind(null,s,n),null)),[o,i,e]}function iv(e,t){e.action=t}function Od(e){var t=Le(),n=be;if(n!==null)return Fh(t,n,e);Le(),t=t.memoizedState,n=Le();var o=n.queue.dispatch;return n.memoizedState=e,[t,o,!1]}function is(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},t=ee.updateQueue,t===null&&(t=pa(),ee.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function Vh(){return Le().memoizedState}function dl(e,t,n,o){var s=ot();ee.flags|=e,s.memoizedState=is(1|t,{destroy:void 0},n,o===void 0?null:o)}function ga(e,t,n,o){var s=Le();o=o===void 0?null:o;var i=s.memoizedState.inst;be!==null&&o!==null&&uc(o,be.memoizedState.deps)?s.memoizedState=is(t,i,n,o):(ee.flags|=e,s.memoizedState=is(1|t,i,n,o))}function $d(e,t){dl(8390656,8,e,t)}function gc(e,t){ga(2048,8,e,t)}function lv(e){ee.flags|=4;var t=ee.updateQueue;if(t===null)t=pa(),ee.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function jh(e){var t=Le().memoizedState;return lv({ref:t,nextImpl:e}),function(){if(me&2)throw Error(L(440));return t.impl.apply(void 0,arguments)}}function zh(e,t){return ga(4,2,e,t)}function Hh(e,t){return ga(4,4,e,t)}function qh(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gh(e,t,n){n=n!=null?n.concat([e]):null,ga(4,4,qh.bind(null,t,e),n)}function yc(){}function Oh(e,t){var n=Le();t=t===void 0?null:t;var o=n.memoizedState;return t!==null&&uc(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function $h(e,t){var n=Le();t=t===void 0?null:t;var o=n.memoizedState;if(t!==null&&uc(t,o[1]))return o[0];if(o=e(),fo){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[o,t],o}function xc(e,t,n){return n===void 0||gn&1073741824&&!(le&261930)?e.memoizedState=t:(e.memoizedState=n,e=Lg(),ee.lanes|=e,Kn|=e,n)}function Jh(e,t,n,o){return Tt(n,t)?n:ss.current!==null?(e=xc(e,n,o),Tt(e,t)||(Ve=!0),e):!(gn&42)||gn&1073741824&&!(le&261930)?(Ve=!0,e.memoizedState=n):(e=Lg(),ee.lanes|=e,Kn|=e,t)}function Yh(e,t,n,o,s){var i=pe.p;pe.p=i!==0&&8>i?i:8;var r=X.T,c={};X.T=c,vc(e,!1,t,n);try{var f=s(),d=X.S;if(d!==null&&d(c,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=tv(f,o);Ks(e,t,m,Ct(e))}else Ks(e,t,o,Ct(e))}catch(p){Ks(e,t,{then:function(){},status:"rejected",reason:p},Ct())}finally{pe.p=i,r!==null&&c.types!==null&&(r.types=c.types),X.T=r}}function av(){}function ou(e,t,n,o){if(e.tag!==5)throw Error(L(476));var s=Kh(e).queue;Yh(e,s,t,oo,n===null?av:function(){return Xh(e),n(o)})}function Kh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oo,baseState:oo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:oo},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Xh(e){var t=Kh(e);t.next===null&&(t=e.alternate.memoizedState),Ks(e,t.next.queue,{},Ct())}function bc(){return Ze(mi)}function Qh(){return Le().memoizedState}function Wh(){return Le().memoizedState}function rv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ct();e=Vn(n);var o=jn(t,e,n);o!==null&&(dt(o,t,n),$s(o,t,n)),t={cache:sc()},e.payload=t;return}t=t.return}}function uv(e,t,n){var o=Ct();n={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ya(e)?eg(t,n):(n=ec(e,t,n,o),n!==null&&(dt(n,e,o),tg(n,t,o)))}function Zh(e,t,n){var o=Ct();Ks(e,t,n,o)}function Ks(e,t,n,o){var s={lane:o,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ya(e))eg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,c=i(r,n);if(s.hasEagerState=!0,s.eagerState=c,Tt(c,r))return fa(e,t,s,0),ve===null&&da(),!1}catch{}finally{}if(n=ec(e,t,s,o),n!==null)return dt(n,e,o),tg(n,t,o),!0}return!1}function vc(e,t,n,o){if(o={lane:2,revertLane:_c(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ya(e)){if(t)throw Error(L(479))}else t=ec(e,n,o,2),t!==null&&dt(t,e,2)}function ya(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function eg(e,t){Ko=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tg(e,t,n){if(n&4194048){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,jp(e,n)}}var ci={readContext:Ze,use:ha,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};ci.useEffectEvent=De;var ng={readContext:Ze,use:ha,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:$d,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,dl(4194308,4,qh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){dl(4,2,e,t)},useMemo:function(e,t){var n=ot();t=t===void 0?null:t;var o=e();if(fo){kn(!0);try{e()}finally{kn(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=ot();if(n!==void 0){var s=n(t);if(fo){kn(!0);try{n(t)}finally{kn(!1)}}}else s=t;return o.memoizedState=o.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},o.queue=e,e=e.dispatch=uv.bind(null,ee,e),[o.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:function(e){e=tu(e);var t=e.queue,n=Zh.bind(null,ee,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:yc,useDeferredValue:function(e,t){var n=ot();return xc(n,e,t)},useTransition:function(){var e=tu(!1);return e=Yh.bind(null,ee,e.queue,!0,!1),ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=ee,s=ot();if(ae){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),ve===null)throw Error(L(349));le&127||_h(o,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$d(Dh.bind(null,o,i,e),[e]),o.flags|=2048,is(9,{destroy:void 0},Rh.bind(null,o,i,n,t),null),n},useId:function(){var e=ot(),t=ve.identifierPrefix;if(ae){var n=Ot,o=Gt;n=(o&~(1<<32-vt(o)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Bl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=nv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bc,useFormState:qd,useActionState:qd,useOptimistic:function(e){var t=ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=vc.bind(null,ee,!0,n),n.dispatch=t,[e,t]},useMemoCache:pc,useCacheRefresh:function(){return ot().memoizedState=rv.bind(null,ee)},useEffectEvent:function(e){var t=ot(),n={impl:e};return t.memoizedState=n,function(){if(me&2)throw Error(L(440));return n.impl.apply(void 0,arguments)}}},Cc={readContext:Ze,use:ha,useCallback:Oh,useContext:Ze,useEffect:gc,useImperativeHandle:Gh,useInsertionEffect:zh,useLayoutEffect:Hh,useMemo:$h,useReducer:cl,useRef:Vh,useState:function(){return cl(yn)},useDebugValue:yc,useDeferredValue:function(e,t){var n=Le();return Jh(n,be.memoizedState,e,t)},useTransition:function(){var e=cl(yn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Mh,useId:Qh,useHostTransitionStatus:bc,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,t){var n=Le();return Lh(n,be,e,t)},useMemoCache:pc,useCacheRefresh:Wh};Cc.useEffectEvent=jh;var og={readContext:Ze,use:ha,useCallback:Oh,useContext:Ze,useEffect:gc,useImperativeHandle:Gh,useInsertionEffect:zh,useLayoutEffect:Hh,useMemo:$h,useReducer:Ka,useRef:Vh,useState:function(){return Ka(yn)},useDebugValue:yc,useDeferredValue:function(e,t){var n=Le();return be===null?xc(n,e,t):Jh(n,be.memoizedState,e,t)},useTransition:function(){var e=Ka(yn)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Ei(e),t]},useSyncExternalStore:Mh,useId:Qh,useHostTransitionStatus:bc,useFormState:Od,useActionState:Od,useOptimistic:function(e,t){var n=Le();return be!==null?Lh(n,be,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pc,useCacheRefresh:Wh};og.useEffectEvent=jh;function Xa(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:Ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var su={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Ct(),s=Vn(o);s.payload=t,n!=null&&(s.callback=n),t=jn(e,s,o),t!==null&&(dt(t,e,o),$s(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Ct(),s=Vn(o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jn(e,s,o),t!==null&&(dt(t,e,o),$s(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ct(),o=Vn(n);o.tag=2,t!=null&&(o.callback=t),t=jn(e,o,n),t!==null&&(dt(t,e,n),$s(t,e,n))}};function Jd(e,t,n,o,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,r):t.prototype&&t.prototype.isPureReactComponent?!ii(n,o)||!ii(s,i):!0}function Yd(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&su.enqueueReplaceState(t,t.state,null)}function mo(e,t){var n=t;if("ref"in t){n={};for(var o in t)o!=="ref"&&(n[o]=t[o])}if(e=e.defaultProps){n===t&&(n=Ae({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function sg(e){_l(e)}function ig(e){console.error(e)}function lg(e){_l(e)}function Fl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Kd(e,t,n){try{var o=e.onCaughtError;o(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function iu(e,t,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){Fl(e,t)},n}function ag(e){return e=Vn(e),e.tag=3,e}function rg(e,t,n,o){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var i=o.value;e.payload=function(){return s(i)},e.callback=function(){Kd(t,n,o)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Kd(t,n,o),typeof s!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var c=o.stack;this.componentDidCatch(o.value,{componentStack:c!==null?c:""})})}function cv(e,t,n,o,s){if(n.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=n.alternate,t!==null&&ps(t,n,s,!0),n=St.current,n!==null){switch(n.tag){case 31:case 13:return It===null?ql():n.alternate===null&&ke===0&&(ke=3),n.flags&=-257,n.flags|=65536,n.lanes=s,o===Il?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([o]):t.add(o),ar(e,o,s)),!1;case 22:return n.flags|=65536,o===Il?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([o]):n.add(o)),ar(e,o,s)),!1}throw Error(L(435,n.tag))}return ar(e,o,s),ql(),!1}if(ae)return t=St.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,o!==$r&&(e=Error(L(422),{cause:o}),ai(Rt(e,n)))):(o!==$r&&(t=Error(L(423),{cause:o}),ai(Rt(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,o=Rt(o,n),s=iu(e.stateNode,o,s),Ya(e,s),ke!==4&&(ke=2)),!1;var i=Error(L(520),{cause:o});if(i=Rt(i,n),Ws===null?Ws=[i]:Ws.push(i),ke!==4&&(ke=2),t===null)return!0;o=Rt(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=iu(n.stateNode,o,e),Ya(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(zn===null||!zn.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,s=ag(s),rg(s,e,n,o),Ya(n,s),!1}n=n.return}while(n!==null);return!1}var Tc=Error(L(461)),Ve=!1;function Xe(e,t,n,o){t.child=e===null?Th(t,null,n,o):co(t,e.child,n,o)}function Xd(e,t,n,o,s){n=n.render;var i=t.ref;if("ref"in o){var r={};for(var c in o)c!=="ref"&&(r[c]=o[c])}else r=o;return uo(t),o=cc(e,t,n,r,i,s),c=dc(),e!==null&&!Ve?(fc(e,t,s),xn(e,t,s)):(ae&&c&&nc(t),t.flags|=1,Xe(e,t,o,s),t.child)}function Qd(e,t,n,o,s){if(e===null){var i=n.type;return typeof i=="function"&&!tc(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,ug(e,t,i,o,s)):(e=rl(n.type,null,o,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Sc(e,s)){var r=i.memoizedProps;if(n=n.compare,n=n!==null?n:ii,n(r,o)&&e.ref===t.ref)return xn(e,t,s)}return t.flags|=1,e=dn(i,o),e.ref=t.ref,e.return=t,t.child=e}function ug(e,t,n,o,s){if(e!==null){var i=e.memoizedProps;if(ii(i,o)&&e.ref===t.ref)if(Ve=!1,t.pendingProps=o=i,Sc(e,s))e.flags&131072&&(Ve=!0);else return t.lanes=e.lanes,xn(e,t,s)}return lu(e,t,n,o,s)}function cg(e,t,n,o){var s=o.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(o=t.child=e.child,s=0;o!==null;)s=s|o.lanes|o.childLanes,o=o.sibling;o=s&~i}else o=0,t.child=null;return Wd(e,t,i,n,o)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ul(t,i!==null?i.cachePool:null),i!==null?jd(t,i):Zr(),Eh(t);else return o=t.lanes=536870912,Wd(e,t,i!==null?i.baseLanes|n:n,n,o)}else i!==null?(ul(t,i.cachePool),jd(t,i),Rn(),t.memoizedState=null):(e!==null&&ul(t,null),Zr(),Rn());return Xe(e,t,s,n),t.child}function Fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wd(e,t,n,o,s){var i=ic();return i=i===null?null:{parent:Fe._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&ul(t,null),Zr(),Eh(t),e!==null&&ps(e,t,o,!0),t.childLanes=s,null}function fl(e,t){return t=Vl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Zd(e,t,n){return co(t,e.child,null,n),e=fl(t,t.pendingProps),e.flags|=2,ht(t),t.memoizedState=null,e}function dv(e,t,n){var o=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ae){if(o.mode==="hidden")return e=fl(t,o),t.lanes=536870912,Fs(null,e);if(eu(t),(e=Ee)?(e=ny(e,Dt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:Gt,overflow:Ot}:null,retryLane:536870912,hydrationErrors:null},n=hh(e),n.return=t,t.child=n,We=t,Ee=null)):e=null,e===null)throw Jn(t);return t.lanes=536870912,null}return fl(t,o)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(eu(t),s)if(t.flags&256)t.flags&=-257,t=Zd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(L(558));else if(Ve||ps(e,t,n,!1),s=(n&e.childLanes)!==0,Ve||s){if(o=ve,o!==null&&(r=zp(o,n),r!==0&&r!==i.retryLane))throw i.retryLane=r,xo(e,r),dt(o,e,r),Tc;ql(),t=Zd(e,t,n)}else e=i.treeContext,Ee=Lt(r.nextSibling),We=t,ae=!0,Fn=null,Dt=!1,e!==null&&yh(t,e),t=fl(t,o),t.flags|=4096;return t}return e=dn(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ml(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(L(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lu(e,t,n,o,s){return uo(t),n=cc(e,t,n,o,void 0,s),o=dc(),e!==null&&!Ve?(fc(e,t,s),xn(e,t,s)):(ae&&o&&nc(t),t.flags|=1,Xe(e,t,n,s),t.child)}function ef(e,t,n,o,s,i){return uo(t),t.updateQueue=null,n=Ah(t,o,n,s),wh(e),o=dc(),e!==null&&!Ve?(fc(e,t,i),xn(e,t,i)):(ae&&o&&nc(t),t.flags|=1,Xe(e,t,n,i),t.child)}function tf(e,t,n,o,s){if(uo(t),t.stateNode===null){var i=Vo,r=n.contextType;typeof r=="object"&&r!==null&&(i=Ze(r)),i=new n(o,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=su,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=o,i.state=t.memoizedState,i.refs={},ac(t),r=n.contextType,i.context=typeof r=="object"&&r!==null?Ze(r):Vo,i.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Xa(t,n,r,o),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&su.enqueueReplaceState(i,i.state,null),Ys(t,o,i,s),Js(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){i=t.stateNode;var c=t.memoizedProps,f=mo(n,c);i.props=f;var d=i.context,m=n.contextType;r=Vo,typeof m=="object"&&m!==null&&(r=Ze(m));var p=n.getDerivedStateFromProps;m=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c||d!==r)&&Yd(t,i,o,r),An=!1;var h=t.memoizedState;i.state=h,Ys(t,o,i,s),Js(),d=t.memoizedState,c||h!==d||An?(typeof p=="function"&&(Xa(t,n,p,o),d=t.memoizedState),(f=An||Jd(t,n,f,o,h,d,r))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),i.props=o,i.state=d,i.context=r,o=f):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,Qr(e,t),r=t.memoizedProps,m=mo(n,r),i.props=m,p=t.pendingProps,h=i.context,d=n.contextType,f=Vo,typeof d=="object"&&d!==null&&(f=Ze(d)),c=n.getDerivedStateFromProps,(d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==p||h!==f)&&Yd(t,i,o,f),An=!1,h=t.memoizedState,i.state=h,Ys(t,o,i,s),Js();var g=t.memoizedState;r!==p||h!==g||An||e!==null&&e.dependencies!==null&&kl(e.dependencies)?(typeof c=="function"&&(Xa(t,n,c,o),g=t.memoizedState),(m=An||Jd(t,n,m,o,h,g,f)||e!==null&&e.dependencies!==null&&kl(e.dependencies))?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(o,g,f),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(o,g,f)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=g),i.props=o,i.state=g,i.context=f,o=m):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),o=!1)}return i=o,ml(e,t),o=(t.flags&128)!==0,i||o?(i=t.stateNode,n=o&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&o?(t.child=co(t,e.child,null,s),t.child=co(t,null,n,s)):Xe(e,t,n,s),t.memoizedState=i.state,e=t.child):e=xn(e,t,s),e}function nf(e,t,n,o){return ro(),t.flags|=256,Xe(e,t,n,o),t.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wa(e){return{baseLanes:e,cachePool:bh()}}function Za(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yt),e}function dg(e,t,n){var o=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ae){if(s?_n(t):Rn(),(e=Ee)?(e=ny(e,Dt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:Gt,overflow:Ot}:null,retryLane:536870912,hydrationErrors:null},n=hh(e),n.return=t,t.child=n,We=t,Ee=null)):e=null,e===null)throw Jn(t);return vu(e)?t.lanes=32:t.lanes=536870912,null}var c=o.children;return o=o.fallback,s?(Rn(),s=t.mode,c=Vl({mode:"hidden",children:c},s),o=so(o,s,n,null),c.return=t,o.return=t,c.sibling=o,t.child=c,o=t.child,o.memoizedState=Wa(n),o.childLanes=Za(e,r,n),t.memoizedState=Qa,Fs(null,o)):(_n(t),au(t,c))}var f=e.memoizedState;if(f!==null&&(c=f.dehydrated,c!==null)){if(i)t.flags&256?(_n(t),t.flags&=-257,t=er(e,t,n)):t.memoizedState!==null?(Rn(),t.child=e.child,t.flags|=128,t=null):(Rn(),c=o.fallback,s=t.mode,o=Vl({mode:"visible",children:o.children},s),c=so(c,s,n,null),c.flags|=2,o.return=t,c.return=t,o.sibling=c,t.child=o,co(t,e.child,null,n),o=t.child,o.memoizedState=Wa(n),o.childLanes=Za(e,r,n),t.memoizedState=Qa,t=Fs(null,o));else if(_n(t),vu(c)){if(r=c.nextSibling&&c.nextSibling.dataset,r)var d=r.dgst;r=d,o=Error(L(419)),o.stack="",o.digest=r,ai({value:o,source:null,stack:null}),t=er(e,t,n)}else if(Ve||ps(e,t,n,!1),r=(n&e.childLanes)!==0,Ve||r){if(r=ve,r!==null&&(o=zp(r,n),o!==0&&o!==f.retryLane))throw f.retryLane=o,xo(e,o),dt(r,e,o),Tc;bu(c)||ql(),t=er(e,t,n)}else bu(c)?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Ee=Lt(c.nextSibling),We=t,ae=!0,Fn=null,Dt=!1,e!==null&&yh(t,e),t=au(t,o.children),t.flags|=4096);return t}return s?(Rn(),c=o.fallback,s=t.mode,f=e.child,d=f.sibling,o=dn(f,{mode:"hidden",children:o.children}),o.subtreeFlags=f.subtreeFlags&65011712,d!==null?c=dn(d,c):(c=so(c,s,n,null),c.flags|=2),c.return=t,o.return=t,o.sibling=c,t.child=o,Fs(null,o),o=t.child,c=e.child.memoizedState,c===null?c=Wa(n):(s=c.cachePool,s!==null?(f=Fe._currentValue,s=s.parent!==f?{parent:f,pool:f}:s):s=bh(),c={baseLanes:c.baseLanes|n,cachePool:s}),o.memoizedState=c,o.childLanes=Za(e,r,n),t.memoizedState=Qa,Fs(e.child,o)):(_n(t),n=e.child,e=n.sibling,n=dn(n,{mode:"visible",children:o.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function au(e,t){return t=Vl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vl(e,t){return e=gt(22,e,null,t),e.lanes=0,e}function er(e,t,n){return co(t,e.child,null,n),e=au(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function of(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Yr(e.return,t,n)}function tr(e,t,n,o,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=n,r.tailMode=s,r.treeForkCount=i)}function fg(e,t,n){var o=t.pendingProps,s=o.revealOrder,i=o.tail;o=o.children;var r=Ie.current,c=(r&2)!==0;if(c?(r=r&1|2,t.flags|=128):r&=1,Te(Ie,r),Xe(e,t,o,n),o=ae?li:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&of(e,n,t);else if(e.tag===19)of(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ul(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),tr(t,!1,s,n,i,o);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ul(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}tr(t,!0,n,null,i,o);break;case"together":tr(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,!(n&t.childLanes))if(e!==null){if(ps(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&kl(e)))}function fv(e,t,n){switch(t.tag){case 3:El(t,t.stateNode.containerInfo),Mn(t,Fe,e.memoizedState.cache),ro();break;case 27:case 5:Ur(t);break;case 4:El(t,t.stateNode.containerInfo);break;case 10:Mn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,eu(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(_n(t),t.flags|=128,null):n&t.child.childLanes?dg(e,t,n):(_n(t),e=xn(e,t,n),e!==null?e.sibling:null);_n(t);break;case 19:var s=(e.flags&128)!==0;if(o=(n&t.childLanes)!==0,o||(ps(e,t,n,!1),o=(n&t.childLanes)!==0),s){if(o)return fg(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Ie,Ie.current),o)break;return null;case 22:return t.lanes=0,cg(e,t,n,t.pendingProps);case 24:Mn(t,Fe,e.memoizedState.cache)}return xn(e,t,n)}function mg(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ve=!0;else{if(!Sc(e,n)&&!(t.flags&128))return Ve=!1,fv(e,t,n);Ve=!!(e.flags&131072)}else Ve=!1,ae&&t.flags&1048576&&gh(t,li,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=to(t.elementType),t.type=e,typeof e=="function")tc(e)?(o=mo(e,o),t.tag=1,t=tf(null,t,e,o,n)):(t.tag=0,t=lu(null,t,e,o,n));else{if(e!=null){var s=e.$$typeof;if(s===zu){t.tag=11,t=Xd(null,t,e,o,n);break e}else if(s===Hu){t.tag=14,t=Qd(null,t,e,o,n);break e}}throw t=Ir(e)||e,Error(L(306,t,""))}}return t;case 0:return lu(e,t,t.type,t.pendingProps,n);case 1:return o=t.type,s=mo(o,t.pendingProps),tf(e,t,o,s,n);case 3:e:{if(El(t,t.stateNode.containerInfo),e===null)throw Error(L(387));o=t.pendingProps;var i=t.memoizedState;s=i.element,Qr(e,t),Ys(t,o,null,n);var r=t.memoizedState;if(o=r.cache,Mn(t,Fe,o),o!==i.cache&&Kr(t,[Fe],n,!0),Js(),o=r.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=nf(e,t,o,n);break e}else if(o!==s){s=Rt(Error(L(424)),t),ai(s),t=nf(e,t,o,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ee=Lt(e.firstChild),We=t,ae=!0,Fn=null,Dt=!0,n=Th(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ro(),o===s){t=xn(e,t,n);break e}Xe(e,t,o,n)}t=t.child}return t;case 26:return ml(e,t),e===null?(n=Nf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ae||(n=t.type,e=t.pendingProps,o=Jl(Bn.current).createElement(n),o[Qe]=t,o[ft]=e,et(o,n,e),$e(o),t.stateNode=o):t.memoizedState=Nf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ur(t),e===null&&ae&&(o=t.stateNode=oy(t.type,t.pendingProps,Bn.current),We=t,Dt=!0,s=Ee,Qn(t.type)?(Cu=s,Ee=Lt(o.firstChild)):Ee=s),Xe(e,t,t.pendingProps.children,n),ml(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ae&&((s=o=Ee)&&(o=Hv(o,t.type,t.pendingProps,Dt),o!==null?(t.stateNode=o,We=t,Ee=Lt(o.firstChild),Dt=!1,s=!0):s=!1),s||Jn(t)),Ur(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,o=i.children,yu(s,i)?o=null:r!==null&&yu(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=cc(e,t,ov,null,null,n),mi._currentValue=s),ml(e,t),Xe(e,t,o,n),t.child;case 6:return e===null&&ae&&((e=n=Ee)&&(n=qv(n,t.pendingProps,Dt),n!==null?(t.stateNode=n,We=t,Ee=null,e=!0):e=!1),e||Jn(t)),null;case 13:return dg(e,t,n);case 4:return El(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=co(t,null,o,n):Xe(e,t,o,n),t.child;case 11:return Xd(e,t,t.type,t.pendingProps,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Mn(t,t.type,o.value),Xe(e,t,o.children,n),t.child;case 9:return s=t.type._context,o=t.pendingProps.children,uo(t),s=Ze(s),o=o(s),t.flags|=1,Xe(e,t,o,n),t.child;case 14:return Qd(e,t,t.type,t.pendingProps,n);case 15:return ug(e,t,t.type,t.pendingProps,n);case 19:return fg(e,t,n);case 31:return dv(e,t,n);case 22:return cg(e,t,n,t.pendingProps);case 24:return uo(t),o=Ze(Fe),e===null?(s=ic(),s===null&&(s=ve,i=sc(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:o,cache:s},ac(t),Mn(t,Fe,s)):(e.lanes&n&&(Qr(e,t),Ys(t,null,null,n),Js()),s=e.memoizedState,i=t.memoizedState,s.parent!==o?(s={parent:o,cache:o},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Mn(t,Fe,o)):(o=i.cache,Mn(t,Fe,o),o!==s.cache&&Kr(t,[Fe],n,!0))),Xe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(L(156,t.tag))}function en(e){e.flags|=4}function nr(e,t,n,o,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Bg())e.flags|=8192;else throw lo=Il,lc}else e.flags&=-16777217}function sf(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ly(t))if(Bg())e.flags|=8192;else throw lo=Il,lc}function Gi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fp():536870912,e.lanes|=t,ls|=t)}function Rs(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags&65011712,o|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,o|=s.subtreeFlags,o|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function mv(e,t,n){var o=t.pendingProps;switch(oc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Se(t),null;case 3:return n=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),fn(Fe),es(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(So(t)?en(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ja())),Se(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(en(t),i!==null?(Se(t),sf(t,i)):(Se(t),nr(t,s,null,o,n))):i?i!==e.memoizedState?(en(t),Se(t),sf(t,i)):(Se(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&en(t),Se(t),nr(t,s,e,o,n)),null;case 27:if(wl(t),n=Bn.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&en(t);else{if(!o){if(t.stateNode===null)throw Error(L(166));return Se(t),null}e=Jt.current,So(t)?Id(t):(e=oy(s,o,n),t.stateNode=e,en(t))}return Se(t),null;case 5:if(wl(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&en(t);else{if(!o){if(t.stateNode===null)throw Error(L(166));return Se(t),null}if(i=Jt.current,So(t))Id(t);else{var r=Jl(Bn.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof o.is=="string"?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?i.multiple=!0:o.size&&(i.size=o.size);break;default:i=typeof o.is=="string"?r.createElement(s,{is:o.is}):r.createElement(s)}}i[Qe]=t,i[ft]=o;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(et(i,s,o),s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&en(t)}}return Se(t),nr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&en(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(L(166));if(e=Bn.current,So(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,s=We,s!==null)switch(s.tag){case 27:case 5:o=s.memoizedProps}e[Qe]=t,e=!!(e.nodeValue===n||o!==null&&o.suppressHydrationWarning===!0||Zg(e.nodeValue,n)),e||Jn(t,!0)}else e=Jl(e).createTextNode(o),e[Qe]=t,t.stateNode=e}return Se(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(o=So(t),n!==null){if(e===null){if(!o)throw Error(L(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(557));e[Qe]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),e=!1}else n=Ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(ht(t),t):(ht(t),null);if(t.flags&128)throw Error(L(558))}return Se(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=So(t),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(L(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[Qe]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),s=!1}else s=Ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(ht(t),t):(ht(t),null)}return ht(t),t.flags&128?(t.lanes=n,t):(n=o!==null,e=e!==null&&e.memoizedState!==null,n&&(o=t.child,s=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(s=o.alternate.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==s&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Gi(t,t.updateQueue),Se(t),null);case 4:return es(),e===null&&Rc(t.stateNode.containerInfo),Se(t),null;case 10:return fn(t.type),Se(t),null;case 19:if(Ye(Ie),o=t.memoizedState,o===null)return Se(t),null;if(s=(t.flags&128)!==0,i=o.rendering,i===null)if(s)Rs(o,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ul(e),i!==null){for(t.flags|=128,Rs(o,!1),e=i.updateQueue,t.updateQueue=e,Gi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ph(n,e),n=n.sibling;return Te(Ie,Ie.current&1|2),ae&&sn(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&xt()>zl&&(t.flags|=128,s=!0,Rs(o,!1),t.lanes=4194304)}else{if(!s)if(e=Ul(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Gi(t,e),Rs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ae)return Se(t),null}else 2*xt()-o.renderingStartTime>zl&&n!==536870912&&(t.flags|=128,s=!0,Rs(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(e=o.last,e!==null?e.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,n=Ie.current,Te(Ie,s?n&1|2:n&1),ae&&sn(t,o.treeForkCount),e):(Se(t),null);case 22:case 23:return ht(t),rc(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?n&536870912&&!(t.flags&128)&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),n=t.updateQueue,n!==null&&Gi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),e!==null&&Ye(io),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),fn(Fe),Se(t),null;case 25:return null;case 30:return null}throw Error(L(156,t.tag))}function pv(e,t){switch(oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(Fe),es(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wl(t),null;case 31:if(t.memoizedState!==null){if(ht(t),t.alternate===null)throw Error(L(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ye(Ie),null;case 4:return es(),null;case 10:return fn(t.type),null;case 22:case 23:return ht(t),rc(),e!==null&&Ye(io),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fn(Fe),null;case 25:return null;default:return null}}function pg(e,t){switch(oc(t),t.tag){case 3:fn(Fe),es();break;case 26:case 27:case 5:wl(t);break;case 4:es();break;case 31:t.memoizedState!==null&&ht(t);break;case 13:ht(t);break;case 19:Ye(Ie);break;case 10:fn(t.type);break;case 22:case 23:ht(t),rc(),e!==null&&Ye(io);break;case 24:fn(Fe)}}function wi(e,t){try{var n=t.updateQueue,o=n!==null?n.lastEffect:null;if(o!==null){var s=o.next;n=s;do{if((n.tag&e)===e){o=void 0;var i=n.create,r=n.inst;o=i(),r.destroy=o}n=n.next}while(n!==s)}}catch(c){ye(t,t.return,c)}}function Yn(e,t,n){try{var o=t.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var i=s.next;o=i;do{if((o.tag&e)===e){var r=o.inst,c=r.destroy;if(c!==void 0){r.destroy=void 0,s=t;var f=n,d=c;try{d()}catch(m){ye(s,f,m)}}}o=o.next}while(o!==i)}}catch(m){ye(t,t.return,m)}}function hg(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Nh(t,n)}catch(o){ye(e,e.return,o)}}}function gg(e,t,n){n.props=mo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){ye(e,t,o)}}function Xs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof n=="function"?e.refCleanup=n(o):n.current=o}}catch(s){ye(e,t,s)}}function $t(e,t){var n=e.ref,o=e.refCleanup;if(n!==null)if(typeof o=="function")try{o()}catch(s){ye(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function yg(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(s){ye(e,e.return,s)}}function or(e,t,n){try{var o=e.stateNode;Pv(o,e.type,n,t),o[ft]=t}catch(s){ye(e,e.return,s)}}function xg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function sr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ru(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=rn));else if(o!==4&&(o===27&&Qn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ru(e,t,n),e=e.sibling;e!==null;)ru(e,t,n),e=e.sibling}function jl(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(o===27&&Qn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(jl(e,t,n),e=e.sibling;e!==null;)jl(e,t,n),e=e.sibling}function bg(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);et(t,o,n),t[Qe]=e,t[ft]=n}catch(i){ye(e,e.return,i)}}var ln=!1,Be=!1,ir=!1,lf=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function hv(e,t){if(e=e.containerInfo,hu=Ql,e=lh(e),Wu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var s=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var r=0,c=-1,f=-1,d=0,m=0,p=e,h=null;t:for(;;){for(var g;p!==n||s!==0&&p.nodeType!==3||(c=r+s),p!==i||o!==0&&p.nodeType!==3||(f=r+o),p.nodeType===3&&(r+=p.nodeValue.length),(g=p.firstChild)!==null;)h=p,p=g;for(;;){if(p===e)break t;if(h===n&&++d===s&&(c=r),h===i&&++m===o&&(f=r),(g=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=g}n=c===-1||f===-1?null:{start:c,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(gu={focusedElem:e,selectionRange:n},Ql=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){switch(t=Oe,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,o=n.stateNode;try{var C=mo(n.type,s);e=o.getSnapshotBeforeUpdate(C,i),o.__reactInternalSnapshotBeforeUpdate=e}catch(T){ye(n,n.return,T)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)xu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(L(163))}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}}function vg(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:nn(e,n),o&4&&wi(5,n);break;case 1:if(nn(e,n),o&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){ye(n,n.return,r)}else{var s=mo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ye(n,n.return,r)}}o&64&&hg(n),o&512&&Xs(n,n.return);break;case 3:if(nn(e,n),o&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Nh(e,t)}catch(r){ye(n,n.return,r)}}break;case 27:t===null&&o&4&&bg(n);case 26:case 5:nn(e,n),t===null&&o&4&&yg(n),o&512&&Xs(n,n.return);break;case 12:nn(e,n);break;case 31:nn(e,n),o&4&&Sg(e,n);break;case 13:nn(e,n),o&4&&Ng(e,n),o&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Nv.bind(null,n),Gv(e,n))));break;case 22:if(o=n.memoizedState!==null||ln,!o){t=t!==null&&t.memoizedState!==null||Be,s=ln;var i=Be;ln=o,(Be=t)&&!i?on(e,n,(n.subtreeFlags&8772)!==0):nn(e,n),ln=s,Be=i}break;case 30:break;default:nn(e,n)}}function Cg(e){var t=e.alternate;t!==null&&(e.alternate=null,Cg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$u(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Me=null,ut=!1;function tn(e,t,n){for(n=n.child;n!==null;)Tg(e,t,n),n=n.sibling}function Tg(e,t,n){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(bi,n)}catch{}switch(n.tag){case 26:Be||$t(n,t),tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Be||$t(n,t);var o=Me,s=ut;Qn(n.type)&&(Me=n.stateNode,ut=!1),tn(e,t,n),ei(n.stateNode),Me=o,ut=s;break;case 5:Be||$t(n,t);case 6:if(o=Me,s=ut,Me=null,tn(e,t,n),Me=o,ut=s,Me!==null)if(ut)try{(Me.nodeType===9?Me.body:Me.nodeName==="HTML"?Me.ownerDocument.body:Me).removeChild(n.stateNode)}catch(i){ye(n,t,i)}else try{Me.removeChild(n.stateNode)}catch(i){ye(n,t,i)}break;case 18:Me!==null&&(ut?(e=Me,bf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),cs(e)):bf(Me,n.stateNode));break;case 4:o=Me,s=ut,Me=n.stateNode.containerInfo,ut=!0,tn(e,t,n),Me=o,ut=s;break;case 0:case 11:case 14:case 15:Yn(2,n,t),Be||Yn(4,n,t),tn(e,t,n);break;case 1:Be||($t(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"&&gg(n,t,o)),tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:Be=(o=Be)||n.memoizedState!==null,tn(e,t,n),Be=o;break;default:tn(e,t,n)}}function Sg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{cs(e)}catch(n){ye(t,t.return,n)}}}function Ng(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cs(e)}catch(n){ye(t,t.return,n)}}function gv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lf),t;default:throw Error(L(435,e.tag))}}function Oi(e,t){var n=gv(e);t.forEach(function(o){if(!n.has(o)){n.add(o);var s=Ev.bind(null,e,o);o.then(s,s)}})}function at(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var s=n[o],i=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 27:if(Qn(c.type)){Me=c.stateNode,ut=!1;break e}break;case 5:Me=c.stateNode,ut=!1;break e;case 3:case 4:Me=c.stateNode.containerInfo,ut=!0;break e}c=c.return}if(Me===null)throw Error(L(160));Tg(i,r,s),Me=null,ut=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Eg(t,e),t=t.sibling}var jt=null;function Eg(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:at(t,e),rt(e),o&4&&(Yn(3,e,e.return),wi(3,e),Yn(5,e,e.return));break;case 1:at(t,e),rt(e),o&512&&(Be||n===null||$t(n,n.return)),o&64&&ln&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?o:n.concat(o))));break;case 26:var s=jt;if(at(t,e),rt(e),o&512&&(Be||n===null||$t(n,n.return)),o&4){var i=n!==null?n.memoizedState:null;if(o=e.memoizedState,n===null)if(o===null)if(e.stateNode===null){e:{o=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(o){case"title":i=s.getElementsByTagName("title")[0],(!i||i[Ti]||i[Qe]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(o),s.head.insertBefore(i,s.querySelector("head > title"))),et(i,o,n),i[Qe]=e,$e(i),o=i;break e;case"link":var r=wf("link","href",s).get(o+(n.href||""));if(r){for(var c=0;c<r.length;c++)if(i=r[c],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(c,1);break t}}i=s.createElement(o),et(i,o,n),s.head.appendChild(i);break;case"meta":if(r=wf("meta","content",s).get(o+(n.content||""))){for(c=0;c<r.length;c++)if(i=r[c],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(c,1);break t}}i=s.createElement(o),et(i,o,n),s.head.appendChild(i);break;default:throw Error(L(468,o))}i[Qe]=e,$e(i),o=i}e.stateNode=o}else Af(s,e.type,e.stateNode);else e.stateNode=Ef(s,o,e.memoizedProps);else i!==o?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,o===null?Af(s,e.type,e.stateNode):Ef(s,o,e.memoizedProps)):o===null&&e.stateNode!==null&&or(e,e.memoizedProps,n.memoizedProps)}break;case 27:at(t,e),rt(e),o&512&&(Be||n===null||$t(n,n.return)),n!==null&&o&4&&or(e,e.memoizedProps,n.memoizedProps);break;case 5:if(at(t,e),rt(e),o&512&&(Be||n===null||$t(n,n.return)),e.flags&32){s=e.stateNode;try{ns(s,"")}catch(C){ye(e,e.return,C)}}o&4&&e.stateNode!=null&&(s=e.memoizedProps,or(e,s,n!==null?n.memoizedProps:s)),o&1024&&(ir=!0);break;case 6:if(at(t,e),rt(e),o&4){if(e.stateNode===null)throw Error(L(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(C){ye(e,e.return,C)}}break;case 3:if(gl=null,s=jt,jt=Yl(t.containerInfo),at(t,e),jt=s,rt(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(C){ye(e,e.return,C)}ir&&(ir=!1,wg(e));break;case 4:o=jt,jt=Yl(e.stateNode.containerInfo),at(t,e),rt(e),jt=o;break;case 12:at(t,e),rt(e);break;case 31:at(t,e),rt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oi(e,o)));break;case 13:at(t,e),rt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xa=xt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oi(e,o)));break;case 22:s=e.memoizedState!==null;var f=n!==null&&n.memoizedState!==null,d=ln,m=Be;if(ln=d||s,Be=m||f,at(t,e),Be=m,ln=d,rt(e),o&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||f||ln||Be||no(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){f=n=t;try{if(i=f.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{c=f.stateNode;var p=f.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null;c.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(C){ye(f,f.return,C)}}}else if(t.tag===6){if(n===null){f=t;try{f.stateNode.nodeValue=s?"":f.memoizedProps}catch(C){ye(f,f.return,C)}}}else if(t.tag===18){if(n===null){f=t;try{var g=f.stateNode;s?vf(g,!0):vf(f.stateNode,!1)}catch(C){ye(f,f.return,C)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(n=o.retryQueue,n!==null&&(o.retryQueue=null,Oi(e,n))));break;case 19:at(t,e),rt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oi(e,o)));break;case 30:break;case 21:break;default:at(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{for(var n,o=e.return;o!==null;){if(xg(o)){n=o;break}o=o.return}if(n==null)throw Error(L(160));switch(n.tag){case 27:var s=n.stateNode,i=sr(e);jl(e,i,s);break;case 5:var r=n.stateNode;n.flags&32&&(ns(r,""),n.flags&=-33);var c=sr(e);jl(e,c,r);break;case 3:case 4:var f=n.stateNode.containerInfo,d=sr(e);ru(e,d,f);break;default:throw Error(L(161))}}catch(m){ye(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function nn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vg(e,t.alternate,t),t=t.sibling}function no(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Yn(4,t,t.return),no(t);break;case 1:$t(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&gg(t,t.return,n),no(t);break;case 27:ei(t.stateNode);case 26:case 5:$t(t,t.return),no(t);break;case 22:t.memoizedState===null&&no(t);break;case 30:no(t);break;default:no(t)}e=e.sibling}}function on(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:on(s,i,n),wi(4,i);break;case 1:if(on(s,i,n),o=i,s=o.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(d){ye(o,o.return,d)}if(o=i,s=o.updateQueue,s!==null){var c=o.stateNode;try{var f=s.shared.hiddenCallbacks;if(f!==null)for(s.shared.hiddenCallbacks=null,s=0;s<f.length;s++)Sh(f[s],c)}catch(d){ye(o,o.return,d)}}n&&r&64&&hg(i),Xs(i,i.return);break;case 27:bg(i);case 26:case 5:on(s,i,n),n&&o===null&&r&4&&yg(i),Xs(i,i.return);break;case 12:on(s,i,n);break;case 31:on(s,i,n),n&&r&4&&Sg(s,i);break;case 13:on(s,i,n),n&&r&4&&Ng(s,i);break;case 22:i.memoizedState===null&&on(s,i,n),Xs(i,i.return);break;case 30:break;default:on(s,i,n)}t=t.sibling}}function Nc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Ni(n))}function Ec(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ni(e))}function Ft(e,t,n,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ag(e,t,n,o),t=t.sibling}function Ag(e,t,n,o){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,n,o),s&2048&&wi(9,t);break;case 1:Ft(e,t,n,o);break;case 3:Ft(e,t,n,o),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ni(e)));break;case 12:if(s&2048){Ft(e,t,n,o),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,c=i.onPostCommit;typeof c=="function"&&c(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){ye(t,t.return,f)}}else Ft(e,t,n,o);break;case 31:Ft(e,t,n,o);break;case 13:Ft(e,t,n,o);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Ft(e,t,n,o):Qs(e,t):i._visibility&2?Ft(e,t,n,o):(i._visibility|=2,Ao(e,t,n,o,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Nc(r,t);break;case 24:Ft(e,t,n,o),s&2048&&Ec(t.alternate,t);break;default:Ft(e,t,n,o)}}function Ao(e,t,n,o,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,c=n,f=o,d=r.flags;switch(r.tag){case 0:case 11:case 15:Ao(i,r,c,f,s),wi(8,r);break;case 23:break;case 22:var m=r.stateNode;r.memoizedState!==null?m._visibility&2?Ao(i,r,c,f,s):Qs(i,r):(m._visibility|=2,Ao(i,r,c,f,s)),s&&d&2048&&Nc(r.alternate,r);break;case 24:Ao(i,r,c,f,s),s&&d&2048&&Ec(r.alternate,r);break;default:Ao(i,r,c,f,s)}t=t.sibling}}function Qs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,o=t,s=o.flags;switch(o.tag){case 22:Qs(n,o),s&2048&&Nc(o.alternate,o);break;case 24:Qs(n,o),s&2048&&Ec(o.alternate,o);break;default:Qs(n,o)}t=t.sibling}}var Vs=8192;function No(e,t,n){if(e.subtreeFlags&Vs)for(e=e.child;e!==null;)Mg(e,t,n),e=e.sibling}function Mg(e,t,n){switch(e.tag){case 26:No(e,t,n),e.flags&Vs&&e.memoizedState!==null&&n0(n,jt,e.memoizedState,e.memoizedProps);break;case 5:No(e,t,n);break;case 3:case 4:var o=jt;jt=Yl(e.stateNode.containerInfo),No(e,t,n),jt=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Vs,Vs=16777216,No(e,t,n),Vs=o):No(e,t,n));break;default:No(e,t,n)}}function _g(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ds(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];Oe=o,Dg(o,e)}_g(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Rg(e),e=e.sibling}function Rg(e){switch(e.tag){case 0:case 11:case 15:Ds(e),e.flags&2048&&Yn(9,e,e.return);break;case 3:Ds(e);break;case 12:Ds(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,pl(e)):Ds(e);break;default:Ds(e)}}function pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var o=t[n];Oe=o,Dg(o,e)}_g(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Yn(8,t,t.return),pl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,pl(t));break;default:pl(t)}e=e.sibling}}function Dg(e,t){for(;Oe!==null;){var n=Oe;switch(n.tag){case 0:case 11:case 15:Yn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var o=n.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ni(n.memoizedState.cache)}if(o=n.child,o!==null)o.return=n,Oe=o;else e:for(n=e;Oe!==null;){o=Oe;var s=o.sibling,i=o.return;if(Cg(o),o===n){Oe=null;break e}if(s!==null){s.return=i,Oe=s;break e}Oe=i}}}var yv={getCacheForType:function(e){var t=Ze(Fe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ze(Fe).controller.signal}},xv=typeof WeakMap=="function"?WeakMap:Map,me=0,ve=null,oe=null,le=0,ge=0,pt=null,Ln=!1,gs=!1,wc=!1,bn=0,ke=0,Kn=0,ao=0,Ac=0,yt=0,ls=0,Ws=null,ct=null,uu=!1,xa=0,kg=0,zl=1/0,Hl=null,zn=null,He=0,Hn=null,as=null,mn=0,cu=0,du=null,Ig=null,Zs=0,fu=null;function Ct(){return me&2&&le!==0?le&-le:X.T!==null?_c():Hp()}function Lg(){if(yt===0)if(!(le&536870912)||ae){var e=Bi;Bi<<=1,!(Bi&3932160)&&(Bi=262144),yt=e}else yt=536870912;return e=St.current,e!==null&&(e.flags|=32),yt}function dt(e,t,n){(e===ve&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(rs(e,0),Un(e,le,yt,!1)),Ci(e,n),(!(me&2)||e!==ve)&&(e===ve&&(!(me&2)&&(ao|=n),ke===4&&Un(e,le,yt,!1)),Xt(e))}function Ug(e,t,n){if(me&6)throw Error(L(327));var o=!n&&(t&127)===0&&(t&e.expiredLanes)===0||vi(e,t),s=o?Cv(e,t):lr(e,t,!0),i=o;do{if(s===0){gs&&!o&&Un(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!bv(n)){s=lr(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var c=e;s=Ws;var f=c.current.memoizedState.isDehydrated;if(f&&(rs(c,r).flags|=256),r=lr(c,r,!1),r!==2){if(wc&&!f){c.errorRecoveryDisabledLanes|=i,ao|=i,s=4;break e}i=ct,ct=s,i!==null&&(ct===null?ct=i:ct.push.apply(ct,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){rs(e,0),Un(e,t,0,!0);break}e:{switch(o=e,i=s,i){case 0:case 1:throw Error(L(345));case 4:if((t&4194048)!==t)break;case 6:Un(o,t,yt,!Ln);break e;case 2:ct=null;break;case 3:case 5:break;default:throw Error(L(329))}if((t&62914560)===t&&(s=xa+300-xt(),10<s)){if(Un(o,t,yt,!Ln),aa(o,0,!0)!==0)break e;mn=t,o.timeoutHandle=ty(af.bind(null,o,n,ct,Hl,uu,t,yt,ao,ls,Ln,i,"Throttled",-0,0),s);break e}af(o,n,ct,Hl,uu,t,yt,ao,ls,Ln,i,null,-0,0)}}break}while(!0);Xt(e)}function af(e,t,n,o,s,i,r,c,f,d,m,p,h,g){if(e.timeoutHandle=-1,p=t.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rn},Mg(t,i,p);var C=(i&62914560)===i?xa-xt():(i&4194048)===i?kg-xt():0;if(C=o0(p,C),C!==null){mn=i,e.cancelPendingCommit=C(uf.bind(null,e,t,i,n,o,s,r,c,f,m,p,null,h,g)),Un(e,i,r,!d);return}}uf(e,t,i,n,o,s,r,c,f)}function bv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var o=0;o<n.length;o++){var s=n[o],i=s.getSnapshot;s=s.value;try{if(!Tt(i(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t,n,o){t&=~Ac,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var s=t;0<s;){var i=31-vt(s),r=1<<i;o[i]=-1,s&=~r}n!==0&&Vp(e,n,t)}function ba(){return me&6?!0:(Ai(0),!1)}function Mc(){if(oe!==null){if(ge===0)var e=oe.return;else e=oe,un=bo=null,mc(e),Yo=null,ri=0,e=oe;for(;e!==null;)pg(e.alternate,e),e=e.return;oe=null}}function rs(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Vv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),mn=0,Mc(),ve=e,oe=n=dn(e.current,null),le=t,ge=0,pt=null,Ln=!1,gs=vi(e,t),wc=!1,ls=yt=Ac=ao=Kn=ke=0,ct=Ws=null,uu=!1,t&8&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var s=31-vt(o),i=1<<s;t|=e[s],o&=~i}return bn=t,da(),n}function Pg(e,t){ee=null,X.H=ci,t===hs||t===ma?(t=Fd(),ge=3):t===lc?(t=Fd(),ge=4):ge=t===Tc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,pt=t,oe===null&&(ke=1,Fl(e,Rt(t,e.current)))}function Bg(){var e=St.current;return e===null?!0:(le&4194048)===le?It===null:(le&62914560)===le||le&536870912?e===It:!1}function Fg(){var e=X.H;return X.H=ci,e===null?ci:e}function Vg(){var e=X.A;return X.A=yv,e}function ql(){ke=4,Ln||(le&4194048)!==le&&St.current!==null||(gs=!0),!(Kn&134217727)&&!(ao&134217727)||ve===null||Un(ve,le,yt,!1)}function lr(e,t,n){var o=me;me|=2;var s=Fg(),i=Vg();(ve!==e||le!==t)&&(Hl=null,rs(e,t)),t=!1;var r=ke;e:do try{if(ge!==0&&oe!==null){var c=oe,f=pt;switch(ge){case 8:Mc(),r=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(t=!0);var d=ge;if(ge=0,pt=null,Ho(e,c,f,d),n&&gs){r=0;break e}break;default:d=ge,ge=0,pt=null,Ho(e,c,f,d)}}vv(),r=ke;break}catch(m){Pg(e,m)}while(!0);return t&&e.shellSuspendCounter++,un=bo=null,me=o,X.H=s,X.A=i,oe===null&&(ve=null,le=0,da()),r}function vv(){for(;oe!==null;)jg(oe)}function Cv(e,t){var n=me;me|=2;var o=Fg(),s=Vg();ve!==e||le!==t?(Hl=null,zl=xt()+500,rs(e,t)):gs=vi(e,t);e:do try{if(ge!==0&&oe!==null){t=oe;var i=pt;t:switch(ge){case 1:ge=0,pt=null,Ho(e,t,i,1);break;case 2:case 9:if(Bd(i)){ge=0,pt=null,rf(t);break}t=function(){ge!==2&&ge!==9||ve!==e||(ge=7),Xt(e)},i.then(t,t);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:Bd(i)?(ge=0,pt=null,rf(t)):(ge=0,pt=null,Ho(e,t,i,7));break;case 5:var r=null;switch(oe.tag){case 26:r=oe.memoizedState;case 5:case 27:var c=oe;if(r?ly(r):c.stateNode.complete){ge=0,pt=null;var f=c.sibling;if(f!==null)oe=f;else{var d=c.return;d!==null?(oe=d,va(d)):oe=null}break t}}ge=0,pt=null,Ho(e,t,i,5);break;case 6:ge=0,pt=null,Ho(e,t,i,6);break;case 8:Mc(),ke=6;break e;default:throw Error(L(462))}}Tv();break}catch(m){Pg(e,m)}while(!0);return un=bo=null,X.H=o,X.A=s,me=n,oe!==null?0:(ve=null,le=0,da(),ke)}function Tv(){for(;oe!==null&&!Ox();)jg(oe)}function jg(e){var t=mg(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?va(e):oe=t}function rf(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ef(n,t,t.pendingProps,t.type,void 0,le);break;case 11:t=ef(n,t,t.pendingProps,t.type.render,t.ref,le);break;case 5:mc(t);default:pg(n,t),t=oe=ph(t,bn),t=mg(n,t,bn)}e.memoizedProps=e.pendingProps,t===null?va(e):oe=t}function Ho(e,t,n,o){un=bo=null,mc(t),Yo=null,ri=0;var s=t.return;try{if(cv(e,s,t,n,le)){ke=1,Fl(e,Rt(n,e.current)),oe=null;return}}catch(i){if(s!==null)throw oe=s,i;ke=1,Fl(e,Rt(n,e.current)),oe=null;return}t.flags&32768?(ae||o===1?e=!0:gs||le&536870912?e=!1:(Ln=e=!0,(o===2||o===9||o===3||o===6)&&(o=St.current,o!==null&&o.tag===13&&(o.flags|=16384))),zg(t,e)):va(t)}function va(e){var t=e;do{if(t.flags&32768){zg(t,Ln);return}e=t.return;var n=mv(t.alternate,t,bn);if(n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ke===0&&(ke=5)}function zg(e,t){do{var n=pv(e.alternate,e);if(n!==null){n.flags&=32767,oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=n}while(e!==null);ke=6,oe=null}function uf(e,t,n,o,s,i,r,c,f){e.cancelPendingCommit=null;do Ca();while(He!==0);if(me&6)throw Error(L(327));if(t!==null){if(t===e.current)throw Error(L(177));if(i=t.lanes|t.childLanes,i|=Zu,tb(e,n,i,r,c,f),e===ve&&(oe=ve=null,le=0),as=t,Hn=e,mn=n,cu=i,du=s,Ig=o,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,wv(Al,function(){return $g(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,t.subtreeFlags&13878||o){o=X.T,X.T=null,s=pe.p,pe.p=2,r=me,me|=4;try{hv(e,t,n)}finally{me=r,pe.p=s,X.T=o}}He=1,Hg(),qg(),Gg()}}function Hg(){if(He===1){He=0;var e=Hn,t=as,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=X.T,X.T=null;var o=pe.p;pe.p=2;var s=me;me|=4;try{Eg(t,e);var i=gu,r=lh(e.containerInfo),c=i.focusedElem,f=i.selectionRange;if(r!==c&&c&&c.ownerDocument&&ih(c.ownerDocument.documentElement,c)){if(f!==null&&Wu(c)){var d=f.start,m=f.end;if(m===void 0&&(m=d),"selectionStart"in c)c.selectionStart=d,c.selectionEnd=Math.min(m,c.value.length);else{var p=c.ownerDocument||document,h=p&&p.defaultView||window;if(h.getSelection){var g=h.getSelection(),C=c.textContent.length,T=Math.min(f.start,C),N=f.end===void 0?T:Math.min(f.end,C);!g.extend&&T>N&&(r=N,N=T,T=r);var b=Rd(c,T),y=Rd(c,N);if(b&&y&&(g.rangeCount!==1||g.anchorNode!==b.node||g.anchorOffset!==b.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var x=p.createRange();x.setStart(b.node,b.offset),g.removeAllRanges(),T>N?(g.addRange(x),g.extend(y.node,y.offset)):(x.setEnd(y.node,y.offset),g.addRange(x))}}}}for(p=[],g=c;g=g.parentNode;)g.nodeType===1&&p.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<p.length;c++){var v=p[c];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Ql=!!hu,gu=hu=null}finally{me=s,pe.p=o,X.T=n}}e.current=t,He=2}}function qg(){if(He===2){He=0;var e=Hn,t=as,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=X.T,X.T=null;var o=pe.p;pe.p=2;var s=me;me|=4;try{vg(e,t.alternate,t)}finally{me=s,pe.p=o,X.T=n}}He=3}}function Gg(){if(He===4||He===3){He=0,$x();var e=Hn,t=as,n=mn,o=Ig;t.subtreeFlags&10256||t.flags&10256?He=5:(He=0,as=Hn=null,Og(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(zn=null),Ou(n),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(bi,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=X.T,s=pe.p,pe.p=2,X.T=null;try{for(var i=e.onRecoverableError,r=0;r<o.length;r++){var c=o[r];i(c.value,{componentStack:c.stack})}}finally{X.T=t,pe.p=s}}mn&3&&Ca(),Xt(e),s=e.pendingLanes,n&261930&&s&42?e===fu?Zs++:(Zs=0,fu=e):Zs=0,Ai(0)}}function Og(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ni(t)))}function Ca(){return Hg(),qg(),Gg(),$g()}function $g(){if(He!==5)return!1;var e=Hn,t=cu;cu=0;var n=Ou(mn),o=X.T,s=pe.p;try{pe.p=32>n?32:n,X.T=null,n=du,du=null;var i=Hn,r=mn;if(He=0,as=Hn=null,mn=0,me&6)throw Error(L(331));var c=me;if(me|=4,Rg(i.current),Ag(i,i.current,r,n),me=c,Ai(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(bi,i)}catch{}return!0}finally{pe.p=s,X.T=o,Og(e,t)}}function cf(e,t,n){t=Rt(n,t),t=iu(e.stateNode,t,2),e=jn(e,t,2),e!==null&&(Ci(e,2),Xt(e))}function ye(e,t,n){if(e.tag===3)cf(e,e,n);else for(;t!==null;){if(t.tag===3){cf(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zn===null||!zn.has(o))){e=Rt(n,e),n=ag(2),o=jn(t,n,2),o!==null&&(rg(n,o,t,e),Ci(o,2),Xt(o));break}}t=t.return}}function ar(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new xv;var s=new Set;o.set(t,s)}else s=o.get(t),s===void 0&&(s=new Set,o.set(t,s));s.has(n)||(wc=!0,s.add(n),e=Sv.bind(null,e,t,n),t.then(e,e))}function Sv(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ve===e&&(le&n)===n&&(ke===4||ke===3&&(le&62914560)===le&&300>xt()-xa?!(me&2)&&rs(e,0):Ac|=n,ls===le&&(ls=0)),Xt(e)}function Jg(e,t){t===0&&(t=Fp()),e=xo(e,t),e!==null&&(Ci(e,t),Xt(e))}function Nv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jg(e,n)}function Ev(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(L(314))}o!==null&&o.delete(t),Jg(e,n)}function wv(e,t){return qu(e,t)}var Gl=null,Mo=null,mu=!1,Ol=!1,rr=!1,Pn=0;function Xt(e){e!==Mo&&e.next===null&&(Mo===null?Gl=Mo=e:Mo=Mo.next=e),Ol=!0,mu||(mu=!0,Mv())}function Ai(e,t){if(!rr&&Ol){rr=!0;do for(var n=!1,o=Gl;o!==null;){if(e!==0){var s=o.pendingLanes;if(s===0)var i=0;else{var r=o.suspendedLanes,c=o.pingedLanes;i=(1<<31-vt(42|e)+1)-1,i&=s&~(r&~c),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,df(o,i))}else i=le,i=aa(o,o===ve?i:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),!(i&3)||vi(o,i)||(n=!0,df(o,i));o=o.next}while(n);rr=!1}}function Av(){Yg()}function Yg(){Ol=mu=!1;var e=0;Pn!==0&&Fv()&&(e=Pn);for(var t=xt(),n=null,o=Gl;o!==null;){var s=o.next,i=Kg(o,t);i===0?(o.next=null,n===null?Gl=s:n.next=s,s===null&&(Mo=n)):(n=o,(e!==0||i&3)&&(Ol=!0)),o=s}He!==0&&He!==5||Ai(e),Pn!==0&&(Pn=0)}function Kg(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-vt(i),c=1<<r,f=s[r];f===-1?(!(c&n)||c&o)&&(s[r]=eb(c,t)):f<=t&&(e.expiredLanes|=c),i&=~c}if(t=ve,n=le,n=aa(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,n===0||e===t&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Pa(o),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||vi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(o!==null&&Pa(o),Ou(n)){case 2:case 8:n=Pp;break;case 32:n=Al;break;case 268435456:n=Bp;break;default:n=Al}return o=Xg.bind(null,e),n=qu(n,o),e.callbackPriority=t,e.callbackNode=n,t}return o!==null&&o!==null&&Pa(o),e.callbackPriority=2,e.callbackNode=null,2}function Xg(e,t){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ca()&&e.callbackNode!==n)return null;var o=le;return o=aa(e,e===ve?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ug(e,o,t),Kg(e,xt()),e.callbackNode!=null&&e.callbackNode===n?Xg.bind(null,e):null)}function df(e,t){if(Ca())return null;Ug(e,t,!0)}function Mv(){jv(function(){me&6?qu(Up,Av):Yg()})}function _c(){if(Pn===0){var e=os;e===0&&(e=Pi,Pi<<=1,!(Pi&261888)&&(Pi=256)),Pn=e}return Pn}function ff(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:il(""+e)}function mf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function _v(e,t,n,o,s){if(t==="submit"&&n&&n.stateNode===s){var i=ff((s[ft]||null).action),r=o.submitter;r&&(t=(t=r[ft]||null)?ff(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var c=new ra("action","action",null,o,s);e.push({event:c,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Pn!==0){var f=r?mf(s,r):new FormData(s);ou(n,{pending:!0,data:f,method:s.method,action:i},null,f)}}else typeof i=="function"&&(c.preventDefault(),f=r?mf(s,r):new FormData(s),ou(n,{pending:!0,data:f,method:s.method,action:i},i,f))},currentTarget:s}]})}}for(var ur=0;ur<Or.length;ur++){var cr=Or[ur],Rv=cr.toLowerCase(),Dv=cr[0].toUpperCase()+cr.slice(1);zt(Rv,"on"+Dv)}zt(rh,"onAnimationEnd");zt(uh,"onAnimationIteration");zt(ch,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(Jb,"onTransitionRun");zt(Yb,"onTransitionStart");zt(Kb,"onTransitionCancel");zt(dh,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(di));function Qg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],s=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var r=o.length-1;0<=r;r--){var c=o[r],f=c.instance,d=c.currentTarget;if(c=c.listener,f!==i&&s.isPropagationStopped())break e;i=c,s.currentTarget=d;try{i(s)}catch(m){_l(m)}s.currentTarget=null,i=f}else for(r=0;r<o.length;r++){if(c=o[r],f=c.instance,d=c.currentTarget,c=c.listener,f!==i&&s.isPropagationStopped())break e;i=c,s.currentTarget=d;try{i(s)}catch(m){_l(m)}s.currentTarget=null,i=f}}}}function ne(e,t){var n=t[Br];n===void 0&&(n=t[Br]=new Set);var o=e+"__bubble";n.has(o)||(Wg(t,e,2,!1),n.add(o))}function dr(e,t,n){var o=0;t&&(o|=4),Wg(n,e,o,t)}var $i="_reactListening"+Math.random().toString(36).slice(2);function Rc(e){if(!e[$i]){e[$i]=!0,qp.forEach(function(n){n!=="selectionchange"&&(kv.has(n)||dr(n,!1,e),dr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$i]||(t[$i]=!0,dr("selectionchange",!1,t))}}function Wg(e,t,n,o){switch(dy(t)){case 2:var s=l0;break;case 8:s=a0;break;default:s=Lc}n=s.bind(null,t,n,e),s=void 0,!Hr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),o?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function fr(e,t,n,o,s){var i=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var r=o.tag;if(r===3||r===4){var c=o.stateNode.containerInfo;if(c===s)break;if(r===4)for(r=o.return;r!==null;){var f=r.tag;if((f===3||f===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;c!==null;){if(r=Io(c),r===null)return;if(f=r.tag,f===5||f===6||f===26||f===27){o=i=r;continue e}c=c.parentNode}}o=o.return}Qp(function(){var d=i,m=Yu(n),p=[];e:{var h=fh.get(e);if(h!==void 0){var g=ra,C=e;switch(e){case"keypress":if(al(n)===0)break e;case"keydown":case"keyup":g=Eb;break;case"focusin":C="focus",g=za;break;case"focusout":C="blur",g=za;break;case"beforeblur":case"afterblur":g=za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Mb;break;case rh:case uh:case ch:g=gb;break;case dh:g=Rb;break;case"scroll":case"scrollend":g=db;break;case"wheel":g=kb;break;case"copy":case"cut":case"paste":g=xb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Td;break;case"toggle":case"beforetoggle":g=Lb}var T=(t&4)!==0,N=!T&&(e==="scroll"||e==="scrollend"),b=T?h!==null?h+"Capture":null:h;T=[];for(var y=d,x;y!==null;){var v=y;if(x=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||x===null||b===null||(v=oi(y,b),v!=null&&T.push(fi(y,v,x))),N)break;y=y.return}0<T.length&&(h=new g(h,C,null,n,m),p.push({event:h,listeners:T}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==zr&&(C=n.relatedTarget||n.fromElement)&&(Io(C)||C[fs]))break e;if((g||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,g?(C=n.relatedTarget||n.toElement,g=d,C=C?Io(C):null,C!==null&&(N=xi(C),T=C.tag,C!==N||T!==5&&T!==27&&T!==6)&&(C=null)):(g=null,C=d),g!==C)){if(T=vd,v="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(T=Td,v="onPointerLeave",b="onPointerEnter",y="pointer"),N=g==null?h:Bs(g),x=C==null?h:Bs(C),h=new T(v,y+"leave",g,n,m),h.target=N,h.relatedTarget=x,v=null,Io(m)===d&&(T=new T(b,y+"enter",C,n,m),T.target=x,T.relatedTarget=N,v=T),N=v,g&&C)t:{for(T=Iv,b=g,y=C,x=0,v=b;v;v=T(v))x++;v=0;for(var A=y;A;A=T(A))v++;for(;0<x-v;)b=T(b),x--;for(;0<v-x;)y=T(y),v--;for(;x--;){if(b===y||y!==null&&b===y.alternate){T=b;break t}b=T(b),y=T(y)}T=null}else T=null;g!==null&&pf(p,h,g,T,!1),C!==null&&N!==null&&pf(p,N,C,T,!0)}}e:{if(h=d?Bs(d):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=wd;else if(Ed(h))if(oh)w=Gb;else{w=Hb;var E=zb}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?d&&Ju(d.elementType)&&(w=wd):w=qb;if(w&&(w=w(e,d))){nh(p,w,n,m);break e}E&&E(e,h,d),e==="focusout"&&d&&h.type==="number"&&d.memoizedProps.value!=null&&jr(h,"number",h.value)}switch(E=d?Bs(d):window,e){case"focusin":(Ed(E)||E.contentEditable==="true")&&(Po=E,qr=d,Gs=null);break;case"focusout":Gs=qr=Po=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,Dd(p,n,m);break;case"selectionchange":if($b)break;case"keydown":case"keyup":Dd(p,n,m)}var _;if(Qu)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Uo?eh(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Zp&&n.locale!=="ko"&&(Uo||M!=="onCompositionStart"?M==="onCompositionEnd"&&Uo&&(_=Wp()):(In=m,Ku="value"in In?In.value:In.textContent,Uo=!0)),E=$l(d,M),0<E.length&&(M=new Cd(M,e,null,n,m),p.push({event:M,listeners:E}),_?M.data=_:(_=th(n),_!==null&&(M.data=_)))),(_=Pb?Bb(e,n):Fb(e,n))&&(M=$l(d,"onBeforeInput"),0<M.length&&(E=new Cd("onBeforeInput","beforeinput",null,n,m),p.push({event:E,listeners:M}),E.data=_)),_v(p,e,d,n,m)}Qg(p,t)})}function fi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $l(e,t){for(var n=t+"Capture",o=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=oi(e,n),s!=null&&o.unshift(fi(e,s,i)),s=oi(e,t),s!=null&&o.push(fi(e,s,i))),e.tag===3)return o;e=e.return}return[]}function Iv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pf(e,t,n,o,s){for(var i=t._reactName,r=[];n!==null&&n!==o;){var c=n,f=c.alternate,d=c.stateNode;if(c=c.tag,f!==null&&f===o)break;c!==5&&c!==26&&c!==27||d===null||(f=d,s?(d=oi(n,i),d!=null&&r.unshift(fi(n,d,f))):s||(d=oi(n,i),d!=null&&r.push(fi(n,d,f)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Lv=/\r\n?/g,Uv=/\u0000|\uFFFD/g;function hf(e){return(typeof e=="string"?e:""+e).replace(Lv,`
`).replace(Uv,"")}function Zg(e,t){return t=hf(t),hf(e)===t}function xe(e,t,n,o,s,i){switch(n){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||ns(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&ns(e,""+o);break;case"className":Vi(e,"class",o);break;case"tabIndex":Vi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(e,n,o);break;case"style":Xp(e,o,i);break;case"data":if(t!=="object"){Vi(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=il(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&xe(e,t,"name",s.name,s,null),xe(e,t,"formEncType",s.formEncType,s,null),xe(e,t,"formMethod",s.formMethod,s,null),xe(e,t,"formTarget",s.formTarget,s,null)):(xe(e,t,"encType",s.encType,s,null),xe(e,t,"method",s.method,s,null),xe(e,t,"target",s.target,s,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(n);break}o=il(""+o),e.setAttribute(n,o);break;case"onClick":o!=null&&(e.onclick=rn);break;case"onScroll":o!=null&&ne("scroll",e);break;case"onScrollEnd":o!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(L(61));if(n=o.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}n=il(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":o===!0?e.setAttribute(n,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":ne("beforetoggle",e),ne("toggle",e),sl(e,"popover",o);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ub.get(n)||n,sl(e,n,o))}}function pu(e,t,n,o,s,i){switch(n){case"style":Xp(e,o,i);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(L(61));if(n=o.__html,n!=null){if(s.children!=null)throw Error(L(60));e.innerHTML=n}}break;case"children":typeof o=="string"?ns(e,o):(typeof o=="number"||typeof o=="bigint")&&ns(e,""+o);break;case"onScroll":o!=null&&ne("scroll",e);break;case"onScrollEnd":o!=null&&ne("scrollend",e);break;case"onClick":o!=null&&(e.onclick=rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gp.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),i=e[ft]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof o=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,s);break e}n in e?e[n]=o:o===!0?e.setAttribute(n,""):sl(e,n,o)}}}function et(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var o=!1,s=!1,i;for(i in n)if(n.hasOwnProperty(i)){var r=n[i];if(r!=null)switch(i){case"src":o=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:xe(e,t,i,r,n,null)}}s&&xe(e,t,"srcSet",n.srcSet,n,null),o&&xe(e,t,"src",n.src,n,null);return;case"input":ne("invalid",e);var c=i=r=s=null,f=null,d=null;for(o in n)if(n.hasOwnProperty(o)){var m=n[o];if(m!=null)switch(o){case"name":s=m;break;case"type":r=m;break;case"checked":f=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(L(137,t));break;default:xe(e,t,o,m,n,null)}}Jp(e,i,c,f,d,r,s,!1);return;case"select":ne("invalid",e),o=r=i=null;for(s in n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case"value":i=c;break;case"defaultValue":r=c;break;case"multiple":o=c;default:xe(e,t,s,c,n,null)}t=i,n=r,e.multiple=!!o,t!=null?Oo(e,!!o,t,!1):n!=null&&Oo(e,!!o,n,!0);return;case"textarea":ne("invalid",e),i=s=o=null;for(r in n)if(n.hasOwnProperty(r)&&(c=n[r],c!=null))switch(r){case"value":o=c;break;case"defaultValue":s=c;break;case"children":i=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(L(91));break;default:xe(e,t,r,c,n,null)}Kp(e,o,s,i);return;case"option":for(f in n)if(n.hasOwnProperty(f)&&(o=n[f],o!=null))switch(f){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:xe(e,t,f,o,n,null)}return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(o=0;o<di.length;o++)ne(di[o],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(o=n[d],o!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(L(137,t));default:xe(e,t,d,o,n,null)}return;default:if(Ju(t)){for(m in n)n.hasOwnProperty(m)&&(o=n[m],o!==void 0&&pu(e,t,m,o,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(o=n[c],o!=null&&xe(e,t,c,o,n,null))}function Pv(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,c=null,f=null,d=null,m=null;for(g in n){var p=n[g];if(n.hasOwnProperty(g)&&p!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":f=p;default:o.hasOwnProperty(g)||xe(e,t,g,null,o,p)}}for(var h in o){var g=o[h];if(p=n[h],o.hasOwnProperty(h)&&(g!=null||p!=null))switch(h){case"type":i=g;break;case"name":s=g;break;case"checked":d=g;break;case"defaultChecked":m=g;break;case"value":r=g;break;case"defaultValue":c=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(L(137,t));break;default:g!==p&&xe(e,t,h,g,o,p)}}Vr(e,r,c,f,d,m,i,s);return;case"select":g=r=c=h=null;for(i in n)if(f=n[i],n.hasOwnProperty(i)&&f!=null)switch(i){case"value":break;case"multiple":g=f;default:o.hasOwnProperty(i)||xe(e,t,i,null,o,f)}for(s in o)if(i=o[s],f=n[s],o.hasOwnProperty(s)&&(i!=null||f!=null))switch(s){case"value":h=i;break;case"defaultValue":c=i;break;case"multiple":r=i;default:i!==f&&xe(e,t,s,i,o,f)}t=c,n=r,o=g,h!=null?Oo(e,!!n,h,!1):!!o!=!!n&&(t!=null?Oo(e,!!n,t,!0):Oo(e,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(c in n)if(s=n[c],n.hasOwnProperty(c)&&s!=null&&!o.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:xe(e,t,c,null,o,s)}for(r in o)if(s=o[r],i=n[r],o.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":h=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(L(91));break;default:s!==i&&xe(e,t,r,s,o,i)}Yp(e,h,g);return;case"option":for(var C in n)if(h=n[C],n.hasOwnProperty(C)&&h!=null&&!o.hasOwnProperty(C))switch(C){case"selected":e.selected=!1;break;default:xe(e,t,C,null,o,h)}for(f in o)if(h=o[f],g=n[f],o.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:xe(e,t,f,h,o,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in n)h=n[T],n.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T)&&xe(e,t,T,null,o,h);for(d in o)if(h=o[d],g=n[d],o.hasOwnProperty(d)&&h!==g&&(h!=null||g!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(L(137,t));break;default:xe(e,t,d,h,o,g)}return;default:if(Ju(t)){for(var N in n)h=n[N],n.hasOwnProperty(N)&&h!==void 0&&!o.hasOwnProperty(N)&&pu(e,t,N,void 0,o,h);for(m in o)h=o[m],g=n[m],!o.hasOwnProperty(m)||h===g||h===void 0&&g===void 0||pu(e,t,m,h,o,g);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b)&&xe(e,t,b,null,o,h);for(p in o)h=o[p],g=n[p],!o.hasOwnProperty(p)||h===g||h==null&&g==null||xe(e,t,p,h,o,g)}function gf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),o=0;o<n.length;o++){var s=n[o],i=s.transferSize,r=s.initiatorType,c=s.duration;if(i&&c&&gf(r)){for(r=0,c=s.responseEnd,o+=1;o<n.length;o++){var f=n[o],d=f.startTime;if(d>c)break;var m=f.transferSize,p=f.initiatorType;m&&gf(p)&&(f=f.responseEnd,r+=m*(f<c?1:(c-d)/(f-d)))}if(--o,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hu=null,gu=null;function Jl(e){return e.nodeType===9?e:e.ownerDocument}function yf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mr=null;function Fv(){var e=window.event;return e&&e.type==="popstate"?e===mr?!1:(mr=e,!0):(mr=null,!1)}var ty=typeof setTimeout=="function"?setTimeout:void 0,Vv=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,jv=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(e){return xf.resolve(null).then(e).catch(zv)}:ty;function zv(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function bf(e,t){var n=t,o=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(o===0){e.removeChild(s),cs(t);return}o--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")o++;else if(n==="html")ei(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ei(n);for(var i=n.firstChild;i;){var r=i.nextSibling,c=i.nodeName;i[Ti]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=r}}else n==="body"&&ei(e.ownerDocument.body);n=s}while(n);cs(t)}function vf(e,t){var n=e;e=0;do{var o=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=o}while(n)}function xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xu(n),$u(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Hv(e,t,n,o){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ti])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function qv(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Lt(e.nextSibling),e===null))return null;return e}function ny(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Lt(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gv(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cu=null;function Cf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Lt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function oy(e,t,n){switch(t=Jl(n),e){case"html":if(e=t.documentElement,!e)throw Error(L(452));return e;case"head":if(e=t.head,!e)throw Error(L(453));return e;case"body":if(e=t.body,!e)throw Error(L(454));return e;default:throw Error(L(451))}}function ei(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$u(e)}var Pt=new Map,Sf=new Set;function Yl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=pe.d;pe.d={f:Ov,r:$v,D:Jv,C:Yv,L:Kv,m:Xv,X:Wv,S:Qv,M:Zv};function Ov(){var e=Cn.f(),t=ba();return e||t}function $v(e){var t=ms(e);t!==null&&t.tag===5&&t.type==="form"?Xh(t):Cn.r(e)}var ys=typeof document>"u"?null:document;function sy(e,t,n){var o=ys;if(o&&typeof t=="string"&&t){var s=_t(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Sf.has(s)||(Sf.add(s),e={rel:e,crossOrigin:n,href:t},o.querySelector(s)===null&&(t=o.createElement("link"),et(t,"link",e),$e(t),o.head.appendChild(t)))}}function Jv(e){Cn.D(e),sy("dns-prefetch",e,null)}function Yv(e,t){Cn.C(e,t),sy("preconnect",e,t)}function Kv(e,t,n){Cn.L(e,t,n);var o=ys;if(o&&e&&t){var s='link[rel="preload"][as="'+_t(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+_t(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+_t(n.imageSizes)+'"]')):s+='[href="'+_t(e)+'"]';var i=s;switch(t){case"style":i=us(e);break;case"script":i=xs(e)}Pt.has(i)||(e=Ae({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Pt.set(i,e),o.querySelector(s)!==null||t==="style"&&o.querySelector(Mi(i))||t==="script"&&o.querySelector(_i(i))||(t=o.createElement("link"),et(t,"link",e),$e(t),o.head.appendChild(t)))}}function Xv(e,t){Cn.m(e,t);var n=ys;if(n&&e){var o=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+_t(o)+'"][href="'+_t(e)+'"]',i=s;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=xs(e)}if(!Pt.has(i)&&(e=Ae({rel:"modulepreload",href:e},t),Pt.set(i,e),n.querySelector(s)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(_i(i)))return}o=n.createElement("link"),et(o,"link",e),$e(o),n.head.appendChild(o)}}}function Qv(e,t,n){Cn.S(e,t,n);var o=ys;if(o&&e){var s=Go(o).hoistableStyles,i=us(e);t=t||"default";var r=s.get(i);if(!r){var c={loading:0,preload:null};if(r=o.querySelector(Mi(i)))c.loading=5;else{e=Ae({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Pt.get(i))&&Dc(e,n);var f=r=o.createElement("link");$e(f),et(f,"link",e),f._p=new Promise(function(d,m){f.onload=d,f.onerror=m}),f.addEventListener("load",function(){c.loading|=1}),f.addEventListener("error",function(){c.loading|=2}),c.loading|=4,hl(r,t,o)}r={type:"stylesheet",instance:r,count:1,state:c},s.set(i,r)}}}function Wv(e,t){Cn.X(e,t);var n=ys;if(n&&e){var o=Go(n).hoistableScripts,s=xs(e),i=o.get(s);i||(i=n.querySelector(_i(s)),i||(e=Ae({src:e,async:!0},t),(t=Pt.get(s))&&kc(e,t),i=n.createElement("script"),$e(i),et(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(s,i))}}function Zv(e,t){Cn.M(e,t);var n=ys;if(n&&e){var o=Go(n).hoistableScripts,s=xs(e),i=o.get(s);i||(i=n.querySelector(_i(s)),i||(e=Ae({src:e,async:!0,type:"module"},t),(t=Pt.get(s))&&kc(e,t),i=n.createElement("script"),$e(i),et(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(s,i))}}function Nf(e,t,n,o){var s=(s=Bn.current)?Yl(s):null;if(!s)throw Error(L(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=us(n.href),n=Go(s).hoistableStyles,o=n.get(t),o||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=us(n.href);var i=Go(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(Mi(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Pt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pt.set(e,n),i||e0(s,e,n,r.state))),t&&o===null)throw Error(L(528,""));return r}if(t&&o!==null)throw Error(L(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xs(n),n=Go(s).hoistableScripts,o=n.get(t),o||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(L(444,e))}}function us(e){return'href="'+_t(e)+'"'}function Mi(e){return'link[rel="stylesheet"]['+e+"]"}function iy(e){return Ae({},e,{"data-precedence":e.precedence,precedence:null})}function e0(e,t,n,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),et(t,"link",n),$e(t),e.head.appendChild(t))}function xs(e){return'[src="'+_t(e)+'"]'}function _i(e){return"script[async]"+e}function Ef(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+_t(n.href)+'"]');if(o)return t.instance=o,$e(o),o;var s=Ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),$e(o),et(o,"style",s),hl(o,n.precedence,e),t.instance=o;case"stylesheet":s=us(n.href);var i=e.querySelector(Mi(s));if(i)return t.state.loading|=4,t.instance=i,$e(i),i;o=iy(n),(s=Pt.get(s))&&Dc(o,s),i=(e.ownerDocument||e).createElement("link"),$e(i);var r=i;return r._p=new Promise(function(c,f){r.onload=c,r.onerror=f}),et(i,"link",o),t.state.loading|=4,hl(i,n.precedence,e),t.instance=i;case"script":return i=xs(n.src),(s=e.querySelector(_i(i)))?(t.instance=s,$e(s),s):(o=n,(s=Pt.get(i))&&(o=Ae({},n),kc(o,s)),e=e.ownerDocument||e,s=e.createElement("script"),$e(s),et(s,"link",o),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(L(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(o=t.instance,t.state.loading|=4,hl(o,n.precedence,e));return t.instance}function hl(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=o.length?o[o.length-1]:null,i=s,r=0;r<o.length;r++){var c=o[r];if(c.dataset.precedence===t)i=c;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var gl=null;function wf(e,t,n){if(gl===null){var o=new Map,s=gl=new Map;s.set(n,o)}else s=gl,o=s.get(n),o||(o=new Map,s.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Ti]||i[Qe]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var c=o.get(r);c?c.push(i):o.set(r,[i])}}return o}function Af(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function t0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ly(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function n0(e,t,n,o){if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=us(o.href),i=t.querySelector(Mi(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Kl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,$e(i);return}i=t.ownerDocument||t,o=iy(o),(s=Pt.get(s))&&Dc(o,s),i=i.createElement("link"),$e(i);var r=i;r._p=new Promise(function(c,f){r.onload=c,r.onerror=f}),et(i,"link",o),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Kl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var pr=0;function o0(e,t){return e.stylesheets&&e.count===0&&yl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var o=setTimeout(function(){if(e.stylesheets&&yl(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&pr===0&&(pr=62500*Bv());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yl(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>pr?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(s)}}:null}function Kl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xl=null;function yl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xl=new Map,t.forEach(s0,e),Xl=null,Kl.call(e))}function s0(e,t){if(!(t.state.loading&4)){var n=Xl.get(e);if(n)var o=n.get(null);else{n=new Map,Xl.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),o=r)}o&&n.set(null,o)}s=t.instance,r=s.getAttribute("data-precedence"),i=n.get(r)||o,i===o&&n.set(null,s),n.set(r,s),this.count++,o=Kl.bind(this),s.addEventListener("load",o),s.addEventListener("error",o),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var mi={$$typeof:an,Provider:null,Consumer:null,_currentValue:oo,_currentValue2:oo,_threadCount:0};function i0(e,t,n,o,s,i,r,c,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.hiddenUpdates=Ba(null),this.identifierPrefix=o,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function ay(e,t,n,o,s,i,r,c,f,d,m,p){return e=new i0(e,t,n,r,f,d,m,p,c),t=1,i===!0&&(t|=24),i=gt(3,null,null,t),e.current=i,i.stateNode=e,t=sc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:t},ac(i),e}function ry(e){return e?(e=Vo,e):Vo}function uy(e,t,n,o,s,i){s=ry(s),o.context===null?o.context=s:o.pendingContext=s,o=Vn(t),o.payload={element:n},i=i===void 0?null:i,i!==null&&(o.callback=i),n=jn(e,o,t),n!==null&&(dt(n,e,t),$s(n,e,t))}function Mf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ic(e,t){Mf(e,t),(e=e.alternate)&&Mf(e,t)}function cy(e){if(e.tag===13||e.tag===31){var t=xo(e,67108864);t!==null&&dt(t,e,67108864),Ic(e,67108864)}}function _f(e){if(e.tag===13||e.tag===31){var t=Ct();t=Gu(t);var n=xo(e,t);n!==null&&dt(n,e,t),Ic(e,t)}}var Ql=!0;function l0(e,t,n,o){var s=X.T;X.T=null;var i=pe.p;try{pe.p=2,Lc(e,t,n,o)}finally{pe.p=i,X.T=s}}function a0(e,t,n,o){var s=X.T;X.T=null;var i=pe.p;try{pe.p=8,Lc(e,t,n,o)}finally{pe.p=i,X.T=s}}function Lc(e,t,n,o){if(Ql){var s=Tu(o);if(s===null)fr(e,t,o,Wl,n),Rf(e,o);else if(u0(s,e,t,n,o))o.stopPropagation();else if(Rf(e,o),t&4&&-1<r0.indexOf(e)){for(;s!==null;){var i=ms(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=eo(i.pendingLanes);if(r!==0){var c=i;for(c.pendingLanes|=2,c.entangledLanes|=2;r;){var f=1<<31-vt(r);c.entanglements[1]|=f,r&=~f}Xt(i),!(me&6)&&(zl=xt()+500,Ai(0))}}break;case 31:case 13:c=xo(i,2),c!==null&&dt(c,i,2),ba(),Ic(i,2)}if(i=Tu(o),i===null&&fr(e,t,o,Wl,n),i===s)break;s=i}s!==null&&o.stopPropagation()}else fr(e,t,o,null,n)}}function Tu(e){return e=Yu(e),Uc(e)}var Wl=null;function Uc(e){if(Wl=null,e=Io(e),e!==null){var t=xi(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Rp(t),e!==null)return e;e=null}else if(n===31){if(e=Dp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wl=e,null}function dy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jx()){case Up:return 2;case Pp:return 8;case Al:case Yx:return 32;case Bp:return 268435456;default:return 32}default:return 32}}var Su=!1,qn=null,Gn=null,On=null,pi=new Map,hi=new Map,Dn=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rf(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(t.pointerId)}}function ks(e,t,n,o,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ms(t),t!==null&&cy(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function u0(e,t,n,o,s){switch(t){case"focusin":return qn=ks(qn,e,t,n,o,s),!0;case"dragenter":return Gn=ks(Gn,e,t,n,o,s),!0;case"mouseover":return On=ks(On,e,t,n,o,s),!0;case"pointerover":var i=s.pointerId;return pi.set(i,ks(pi.get(i)||null,e,t,n,o,s)),!0;case"gotpointercapture":return i=s.pointerId,hi.set(i,ks(hi.get(i)||null,e,t,n,o,s)),!0}return!1}function fy(e){var t=Io(e.target);if(t!==null){var n=xi(t);if(n!==null){if(t=n.tag,t===13){if(t=Rp(n),t!==null){e.blockedOn=t,md(e.priority,function(){_f(n)});return}}else if(t===31){if(t=Dp(n),t!==null){e.blockedOn=t,md(e.priority,function(){_f(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tu(e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);zr=o,n.target.dispatchEvent(o),zr=null}else return t=ms(n),t!==null&&cy(t),e.blockedOn=n,!1;t.shift()}return!0}function Df(e,t,n){xl(e)&&n.delete(t)}function c0(){Su=!1,qn!==null&&xl(qn)&&(qn=null),Gn!==null&&xl(Gn)&&(Gn=null),On!==null&&xl(On)&&(On=null),pi.forEach(Df),hi.forEach(Df)}function Ji(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,c0)))}var Yi=null;function kf(e){Yi!==e&&(Yi=e,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,function(){Yi===e&&(Yi=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],s=e[t+2];if(typeof o!="function"){if(Uc(o||n)===null)continue;break}var i=ms(n);i!==null&&(e.splice(t,3),t-=3,ou(i,{pending:!0,data:s,method:n.method,action:o},o,s))}}))}function cs(e){function t(f){return Ji(f,e)}qn!==null&&Ji(qn,e),Gn!==null&&Ji(Gn,e),On!==null&&Ji(On,e),pi.forEach(t),hi.forEach(t);for(var n=0;n<Dn.length;n++){var o=Dn[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)fy(n),n.blockedOn===null&&Dn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(o=0;o<n.length;o+=3){var s=n[o],i=n[o+1],r=s[ft]||null;if(typeof i=="function")r||kf(n);else if(r){var c=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[ft]||null)c=r.formAction;else if(Uc(s)!==null)continue}else c=r.action;typeof c=="function"?n[o+1]=c:(n.splice(o,3),o-=3),kf(n)}}}function my(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),o||setTimeout(n,20)}function n(){if(!o&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Pc(e){this._internalRoot=e}Ta.prototype.render=Pc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));var n=t.current,o=Ct();uy(n,o,e,t,null,null)};Ta.prototype.unmount=Pc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uy(e.current,2,null,e,null,null),ba(),t[fs]=null}};function Ta(e){this._internalRoot=e}Ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dn.length&&t!==0&&t<Dn[n].priority;n++);Dn.splice(n,0,e),n===0&&fy(e)}};var If=Mp.version;if(If!=="19.2.0")throw Error(L(527,If,"19.2.0"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=jx(t),e=e!==null?kp(e):null,e=e===null?null:e.stateNode,e};var d0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ki.isDisabled&&Ki.supportsFiber)try{bi=Ki.inject(d0),bt=Ki}catch{}}ia.createRoot=function(e,t){if(!_p(e))throw Error(L(299));var n=!1,o="",s=sg,i=ig,r=lg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=ay(e,1,!1,null,null,n,o,null,s,i,r,my),e[fs]=t.current,Rc(e),new Pc(t)};ia.hydrateRoot=function(e,t,n){if(!_p(e))throw Error(L(299));var o=!1,s="",i=sg,r=ig,c=lg,f=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.formState!==void 0&&(f=n.formState)),t=ay(e,1,!0,t,n??null,o,s,f,i,r,c,my),t.context=ry(null),n=t.current,o=Ct(),o=Gu(o),s=Vn(o),s.callback=null,jn(n,s,o),n=o,t.current.lanes=n,Ci(t,n),Xt(t),e[fs]=t.current,Rc(e),new Ta(t)};ia.version="19.2.0";function py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(py)}catch(e){console.error(e)}}py(),Tp.exports=ia;var f0=Tp.exports;const m0=fp(f0);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lf="popstate";function p0(e={}){function t(s,i){let{pathname:r="/",search:c="",hash:f=""}=vo(s.location.hash.substring(1));return!r.startsWith("/")&&!r.startsWith(".")&&(r="/"+r),Nu("",{pathname:r,search:c,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let r=s.document.querySelector("base"),c="";if(r&&r.getAttribute("href")){let f=s.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof i=="string"?i:gi(i))}function o(s,i){Bt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return g0(t,n,o,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Bt(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h0(){return Math.random().toString(36).substring(2,10)}function Uf(e,t){return{usr:e.state,key:e.key,idx:t}}function Nu(e,t,n=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vo(t):t,state:n,key:t&&t.key||o||h0()}}function gi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function g0(e,t,n,o={}){let{window:s=document.defaultView,v5Compat:i=!1}=o,r=s.history,c="POP",f=null,d=m();d==null&&(d=0,r.replaceState({...r.state,idx:d},""));function m(){return(r.state||{idx:null}).idx}function p(){c="POP";let N=m(),b=N==null?null:N-d;d=N,f&&f({action:c,location:T.location,delta:b})}function h(N,b){c="PUSH";let y=Nu(T.location,N,b);n&&n(y,N),d=m()+1;let x=Uf(y,d),v=T.createHref(y);try{r.pushState(x,"",v)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(v)}i&&f&&f({action:c,location:T.location,delta:1})}function g(N,b){c="REPLACE";let y=Nu(T.location,N,b);n&&n(y,N),d=m();let x=Uf(y,d),v=T.createHref(y);r.replaceState(x,"",v),i&&f&&f({action:c,location:T.location,delta:0})}function C(N){return y0(N)}let T={get action(){return c},get location(){return e(s,r)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Lf,p),f=N,()=>{s.removeEventListener(Lf,p),f=null}},createHref(N){return t(s,N)},createURL:C,encodeLocation(N){let b=C(N);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:g,go(N){return r.go(N)}};return T}function y0(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_e(n,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:gi(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function hy(e,t,n="/"){return x0(e,t,n,!1)}function x0(e,t,n,o){let s=typeof t=="string"?vo(t):t,i=vn(s.pathname||"/",n);if(i==null)return null;let r=gy(e);b0(r);let c=null;for(let f=0;c==null&&f<r.length;++f){let d=R0(i);c=M0(r[f],d,o)}return c}function gy(e,t=[],n=[],o="",s=!1){let i=(r,c,f=s,d)=>{let m={relativePath:d===void 0?r.path||"":d,caseSensitive:r.caseSensitive===!0,childrenIndex:c,route:r};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(o)&&f)return;_e(m.relativePath.startsWith(o),`Absolute route path "${m.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(o.length)}let p=pn([o,m.relativePath]),h=n.concat(m);r.children&&r.children.length>0&&(_e(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gy(r.children,t,h,p,f)),!(r.path==null&&!r.index)&&t.push({path:p,score:w0(p,r.index),routesMeta:h})};return e.forEach((r,c)=>{var f;if(r.path===""||!((f=r.path)!=null&&f.includes("?")))i(r,c);else for(let d of yy(r.path))i(r,c,!0,d)}),t}function yy(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(o.length===0)return s?[i,""]:[i];let r=yy(o.join("/")),c=[];return c.push(...r.map(f=>f===""?i:[i,f].join("/"))),s&&c.push(...r),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function b0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:A0(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var v0=/^:[\w-]+$/,C0=3,T0=2,S0=1,N0=10,E0=-2,Pf=e=>e==="*";function w0(e,t){let n=e.split("/"),o=n.length;return n.some(Pf)&&(o+=E0),t&&(o+=T0),n.filter(s=>!Pf(s)).reduce((s,i)=>s+(v0.test(i)?C0:i===""?S0:N0),o)}function A0(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function M0(e,t,n=!1){let{routesMeta:o}=e,s={},i="/",r=[];for(let c=0;c<o.length;++c){let f=o[c],d=c===o.length-1,m=i==="/"?t:t.slice(i.length)||"/",p=Zl({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),h=f.route;if(!p&&d&&n&&!o[o.length-1].route.index&&(p=Zl({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),r.push({params:s,pathname:pn([i,p.pathname]),pathnameBase:L0(pn([i,p.pathnameBase])),route:h}),p.pathnameBase!=="/"&&(i=pn([i,p.pathnameBase]))}return r}function Zl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=_0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],r=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:o.reduce((d,{paramName:m,isOptional:p},h)=>{if(m==="*"){let C=c[h]||"";r=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const g=c[h];return p&&!g?d[m]=void 0:d[m]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:r,pattern:e}}function _0(e,t=!1,n=!0){Bt(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,c,f)=>(o.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function R0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Bt(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}function D0(e,t="/"){let{pathname:n,search:o="",hash:s=""}=typeof e=="string"?vo(e):e;return{pathname:n?n.startsWith("/")?n:k0(n,t):t,search:U0(o),hash:P0(s)}}function k0(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hr(e,t,n,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Bc(e){let t=I0(e);return t.map((n,o)=>o===t.length-1?n.pathname:n.pathnameBase)}function Fc(e,t,n,o=!1){let s;typeof e=="string"?s=vo(e):(s={...e},_e(!s.pathname||!s.pathname.includes("?"),hr("?","pathname","search",s)),_e(!s.pathname||!s.pathname.includes("#"),hr("#","pathname","hash",s)),_e(!s.search||!s.search.includes("#"),hr("#","search","hash",s)));let i=e===""||s.pathname==="",r=i?"/":s.pathname,c;if(r==null)c=n;else{let p=t.length-1;if(!o&&r.startsWith("..")){let h=r.split("/");for(;h[0]==="..";)h.shift(),p-=1;s.pathname=h.join("/")}c=p>=0?t[p]:"/"}let f=D0(s,c),d=r&&r!=="/"&&r.endsWith("/"),m=(i||r===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var pn=e=>e.join("/").replace(/\/\/+/g,"/"),L0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,P0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function B0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var xy=["POST","PUT","PATCH","DELETE"];new Set(xy);var F0=["GET",...xy];new Set(F0);var bs=S.createContext(null);bs.displayName="DataRouter";var Sa=S.createContext(null);Sa.displayName="DataRouterState";S.createContext(!1);var by=S.createContext({isTransitioning:!1});by.displayName="ViewTransition";var V0=S.createContext(new Map);V0.displayName="Fetchers";var j0=S.createContext(null);j0.displayName="Await";var Ht=S.createContext(null);Ht.displayName="Navigation";var Ri=S.createContext(null);Ri.displayName="Location";var Qt=S.createContext({outlet:null,matches:[],isDataRoute:!1});Qt.displayName="Route";var Vc=S.createContext(null);Vc.displayName="RouteError";function z0(e,{relative:t}={}){_e(vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=S.useContext(Ht),{hash:s,pathname:i,search:r}=Di(e,{relative:t}),c=i;return n!=="/"&&(c=i==="/"?n:pn([n,i])),o.createHref({pathname:c,search:r,hash:s})}function vs(){return S.useContext(Ri)!=null}function Tn(){return _e(vs(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ri).location}var vy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cy(e){S.useContext(Ht).static||S.useLayoutEffect(e)}function Na(){let{isDataRoute:e}=S.useContext(Qt);return e?eC():H0()}function H0(){_e(vs(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(bs),{basename:t,navigator:n}=S.useContext(Ht),{matches:o}=S.useContext(Qt),{pathname:s}=Tn(),i=JSON.stringify(Bc(o)),r=S.useRef(!1);return Cy(()=>{r.current=!0}),S.useCallback((f,d={})=>{if(Bt(r.current,vy),!r.current)return;if(typeof f=="number"){n.go(f);return}let m=Fc(f,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:pn([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,i,s,e])}S.createContext(null);function Di(e,{relative:t}={}){let{matches:n}=S.useContext(Qt),{pathname:o}=Tn(),s=JSON.stringify(Bc(n));return S.useMemo(()=>Fc(e,JSON.parse(s),o,t==="path"),[e,s,o,t])}function q0(e,t){return Ty(e,t)}function Ty(e,t,n,o,s){var y;_e(vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Ht),{matches:r}=S.useContext(Qt),c=r[r.length-1],f=c?c.params:{},d=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let x=p&&p.path||"";Sy(d,!p||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let h=Tn(),g;if(t){let x=typeof t=="string"?vo(t):t;_e(m==="/"||((y=x.pathname)==null?void 0:y.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${x.pathname}" was given in the \`location\` prop.`),g=x}else g=h;let C=g.pathname||"/",T=C;if(m!=="/"){let x=m.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(x.length).join("/")}let N=hy(e,{pathname:T});Bt(p||N!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Bt(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Y0(N&&N.map(x=>Object.assign({},x,{params:Object.assign({},f,x.params),pathname:pn([m,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?m:pn([m,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),r,n,o,s);return t&&b?S.createElement(Ri.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},b):b}function G0(){let e=Z0(),t=B0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},i={padding:"2px 4px",backgroundColor:o},r=null;return console.error("Error handled by React Router default ErrorBoundary:",e),r=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:i},"ErrorBoundary")," or"," ",S.createElement("code",{style:i},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,r)}var O0=S.createElement(G0,null),$0=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?S.createElement(Qt.Provider,{value:this.props.routeContext},S.createElement(Vc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J0({routeContext:e,match:t,children:n}){let o=S.useContext(bs);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Qt.Provider,{value:e},n)}function Y0(e,t=[],n=null,o=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,r=n==null?void 0:n.errors;if(r!=null){let d=i.findIndex(m=>m.route.id&&(r==null?void 0:r[m.route.id])!==void 0);_e(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,f=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:p,errors:h}=n,g=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!h||h[m.route.id]===void 0);if(m.route.lazy||g){c=!0,f>=0?i=i.slice(0,f+1):i=[i[0]];break}}}return i.reduceRight((d,m,p)=>{let h,g=!1,C=null,T=null;n&&(h=r&&m.route.id?r[m.route.id]:void 0,C=m.route.errorElement||O0,c&&(f<0&&p===0?(Sy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,T=null):f===p&&(g=!0,T=m.route.hydrateFallbackElement||null)));let N=t.concat(i.slice(0,p+1)),b=()=>{let y;return h?y=C:g?y=T:m.route.Component?y=S.createElement(m.route.Component,null):m.route.element?y=m.route.element:y=d,S.createElement(J0,{match:m,routeContext:{outlet:d,matches:N,isDataRoute:n!=null},children:y})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?S.createElement($0,{location:n.location,revalidation:n.revalidation,component:C,error:h,children:b(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:o}):b()},null)}function jc(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K0(e){let t=S.useContext(bs);return _e(t,jc(e)),t}function X0(e){let t=S.useContext(Sa);return _e(t,jc(e)),t}function Q0(e){let t=S.useContext(Qt);return _e(t,jc(e)),t}function zc(e){let t=Q0(e),n=t.matches[t.matches.length-1];return _e(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function W0(){return zc("useRouteId")}function Z0(){var o;let e=S.useContext(Vc),t=X0("useRouteError"),n=zc("useRouteError");return e!==void 0?e:(o=t.errors)==null?void 0:o[n]}function eC(){let{router:e}=K0("useNavigate"),t=zc("useNavigate"),n=S.useRef(!1);return Cy(()=>{n.current=!0}),S.useCallback(async(s,i={})=>{Bt(n.current,vy),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Bf={};function Sy(e,t,n){!t&&!Bf[e]&&(Bf[e]=!0,Bt(!1,n))}S.memo(tC);function tC({routes:e,future:t,state:n,unstable_onError:o}){return Ty(e,void 0,n,o,t)}function Xi({to:e,replace:t,state:n,relative:o}){_e(vs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=S.useContext(Ht);Bt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=S.useContext(Qt),{pathname:r}=Tn(),c=Na(),f=Fc(e,Bc(i),r,o==="path"),d=JSON.stringify(f);return S.useEffect(()=>{c(JSON.parse(d),{replace:t,state:n,relative:o})},[c,d,o,t,n]),null}function js(e){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nC({basename:e="/",children:t=null,location:n,navigationType:o="POP",navigator:s,static:i=!1}){_e(!vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let r=e.replace(/^\/*/,"/"),c=S.useMemo(()=>({basename:r,navigator:s,static:i,future:{}}),[r,s,i]);typeof n=="string"&&(n=vo(n));let{pathname:f="/",search:d="",hash:m="",state:p=null,key:h="default"}=n,g=S.useMemo(()=>{let C=vn(f,r);return C==null?null:{location:{pathname:C,search:d,hash:m,state:p,key:h},navigationType:o}},[r,f,d,m,p,h,o]);return Bt(g!=null,`<Router basename="${r}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:S.createElement(Ht.Provider,{value:c},S.createElement(Ri.Provider,{children:t,value:g}))}function oC({children:e,location:t}){return q0(Eu(e),t)}function Eu(e,t=[]){let n=[];return S.Children.forEach(e,(o,s)=>{if(!S.isValidElement(o))return;let i=[...t,s];if(o.type===S.Fragment){n.push.apply(n,Eu(o.props.children,i));return}_e(o.type===js,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!o.props.index||!o.props.children,"An index route cannot have child routes.");let r={id:o.props.id||i.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(r.children=Eu(o.props.children,i)),n.push(r)}),n}var bl="get",vl="application/x-www-form-urlencoded";function Ea(e){return e!=null&&typeof e.tagName=="string"}function sC(e){return Ea(e)&&e.tagName.toLowerCase()==="button"}function iC(e){return Ea(e)&&e.tagName.toLowerCase()==="form"}function lC(e){return Ea(e)&&e.tagName.toLowerCase()==="input"}function aC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rC(e,t){return e.button===0&&(!t||t==="_self")&&!aC(e)}var Qi=null;function uC(){if(Qi===null)try{new FormData(document.createElement("form"),0),Qi=!1}catch{Qi=!0}return Qi}var cC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gr(e){return e!=null&&!cC.has(e)?(Bt(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vl}"`),null):e}function dC(e,t){let n,o,s,i,r;if(iC(e)){let c=e.getAttribute("action");o=c?vn(c,t):null,n=e.getAttribute("method")||bl,s=gr(e.getAttribute("enctype"))||vl,i=new FormData(e)}else if(sC(e)||lC(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||c.getAttribute("action");if(o=f?vn(f,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||bl,s=gr(e.getAttribute("formenctype"))||gr(c.getAttribute("enctype"))||vl,i=new FormData(c,e),!uC()){let{name:d,type:m,value:p}=e;if(m==="image"){let h=d?`${d}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else d&&i.append(d,p)}}else{if(Ea(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bl,o=null,s=vl,r=e}return i&&s==="text/plain"&&(r=i,i=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:i,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hc(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fC(e,t,n){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${n}`:t&&vn(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function mC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hC(e,t,n){let o=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let r=await mC(i,n);return r.links?r.links():[]}return[]}));return bC(o.flat(1).filter(pC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ff(e,t,n,o,s,i){let r=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>{var m;return n[d].pathname!==f.pathname||((m=n[d].route.path)==null?void 0:m.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return i==="assets"?t.filter((f,d)=>r(f,d)||c(f,d)):i==="data"?t.filter((f,d)=>{var p;let m=o.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(r(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let h=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function gC(e,t,{includeHydrateFallback:n}={}){return yC(e.map(o=>{let s=t.routes[o.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function yC(e){return[...new Set(e)]}function xC(e){let t={},n=Object.keys(e).sort();for(let o of n)t[o]=e[o];return t}function bC(e,t){let n=new Set;return new Set(t),e.reduce((o,s)=>{let i=JSON.stringify(xC(s));return n.has(i)||(n.add(i),o.push({key:i,link:s})),o},[])}function Ny(){let e=S.useContext(bs);return Hc(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function vC(){let e=S.useContext(Sa);return Hc(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qc=S.createContext(void 0);qc.displayName="FrameworkContext";function Ey(){let e=S.useContext(qc);return Hc(e,"You must render this element inside a <HydratedRouter> element"),e}function CC(e,t){let n=S.useContext(qc),[o,s]=S.useState(!1),[i,r]=S.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:p}=t,h=S.useRef(null);S.useEffect(()=>{if(e==="render"&&r(!0),e==="viewport"){let T=b=>{b.forEach(y=>{r(y.isIntersecting)})},N=new IntersectionObserver(T,{threshold:.5});return h.current&&N.observe(h.current),()=>{N.disconnect()}}},[e]),S.useEffect(()=>{if(o){let T=setTimeout(()=>{r(!0)},100);return()=>{clearTimeout(T)}}},[o]);let g=()=>{s(!0)},C=()=>{s(!1),r(!1)};return n?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Is(c,g),onBlur:Is(f,C),onMouseEnter:Is(d,g),onMouseLeave:Is(m,C),onTouchStart:Is(p,g)}]:[!1,h,{}]}function Is(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function TC({page:e,...t}){let{router:n}=Ny(),o=S.useMemo(()=>hy(n.routes,e,n.basename),[n.routes,e,n.basename]);return o?S.createElement(NC,{page:e,matches:o,...t}):null}function SC(e){let{manifest:t,routeModules:n}=Ey(),[o,s]=S.useState([]);return S.useEffect(()=>{let i=!1;return hC(e,t,n).then(r=>{i||s(r)}),()=>{i=!0}},[e,t,n]),o}function NC({page:e,matches:t,...n}){let o=Tn(),{manifest:s,routeModules:i}=Ey(),{basename:r}=Ny(),{loaderData:c,matches:f}=vC(),d=S.useMemo(()=>Ff(e,t,f,s,o,"data"),[e,t,f,s,o]),m=S.useMemo(()=>Ff(e,t,f,s,o,"assets"),[e,t,f,s,o]),p=S.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let C=new Set,T=!1;if(t.forEach(b=>{var x;let y=s.routes[b.route.id];!y||!y.hasLoader||(!d.some(v=>v.route.id===b.route.id)&&b.route.id in c&&((x=i[b.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?T=!0:C.add(b.route.id))}),C.size===0)return[];let N=fC(e,r,"data");return T&&C.size>0&&N.searchParams.set("_routes",t.filter(b=>C.has(b.route.id)).map(b=>b.route.id).join(",")),[N.pathname+N.search]},[r,c,o,s,d,t,e,i]),h=S.useMemo(()=>gC(m,s),[m,s]),g=SC(m);return S.createElement(S.Fragment,null,p.map(C=>S.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),h.map(C=>S.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),g.map(({key:C,link:T})=>S.createElement("link",{key:C,nonce:n.nonce,...T})))}function EC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wy&&(window.__reactRouterVersion="7.9.3")}catch{}function wC({basename:e,children:t,window:n}){let o=S.useRef();o.current==null&&(o.current=p0({window:n,v5Compat:!0}));let s=o.current,[i,r]=S.useState({action:s.action,location:s.location}),c=S.useCallback(f=>{S.startTransition(()=>r(f))},[r]);return S.useLayoutEffect(()=>s.listen(c),[s,c]),S.createElement(nC,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yi=S.forwardRef(function({onClick:t,discover:n="render",prefetch:o="none",relative:s,reloadDocument:i,replace:r,state:c,target:f,to:d,preventScrollReset:m,viewTransition:p,...h},g){let{basename:C}=S.useContext(Ht),T=typeof d=="string"&&Ay.test(d),N,b=!1;if(typeof d=="string"&&T&&(N=d,wy))try{let M=new URL(window.location.href),D=d.startsWith("//")?new URL(M.protocol+d):new URL(d),B=vn(D.pathname,C);D.origin===M.origin&&B!=null?d=B+D.search+D.hash:b=!0}catch{Bt(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=z0(d,{relative:s}),[x,v,A]=CC(o,h),w=RC(d,{replace:r,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:p});function E(M){t&&t(M),M.defaultPrevented||w(M)}let _=S.createElement("a",{...h,...A,href:N||y,onClick:b||i?t:E,ref:EC(g,v),target:f,"data-discover":!T&&n==="render"?"true":void 0});return x&&!T?S.createElement(S.Fragment,null,_,S.createElement(TC,{page:y})):_});yi.displayName="Link";var AC=S.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:o="",end:s=!1,style:i,to:r,viewTransition:c,children:f,...d},m){let p=Di(r,{relative:d.relative}),h=Tn(),g=S.useContext(Sa),{navigator:C,basename:T}=S.useContext(Ht),N=g!=null&&UC(p)&&c===!0,b=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,y=h.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(y=y.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&T&&(x=vn(x,T)||x);const v=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let A=y===b||!s&&y.startsWith(b)&&y.charAt(v)==="/",w=x!=null&&(x===b||!s&&x.startsWith(b)&&x.charAt(b.length)==="/"),E={isActive:A,isPending:w,isTransitioning:N},_=A?t:void 0,M;typeof o=="function"?M=o(E):M=[o,A?"active":null,w?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D=typeof i=="function"?i(E):i;return S.createElement(yi,{...d,"aria-current":_,className:M,ref:m,style:D,to:r,viewTransition:c},typeof f=="function"?f(E):f)});AC.displayName="NavLink";var MC=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:o,replace:s,state:i,method:r=bl,action:c,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:p,...h},g)=>{let C=IC(),T=LC(c,{relative:d}),N=r.toLowerCase()==="get"?"get":"post",b=typeof c=="string"&&Ay.test(c),y=x=>{if(f&&f(x),x.defaultPrevented)return;x.preventDefault();let v=x.nativeEvent.submitter,A=(v==null?void 0:v.getAttribute("formmethod"))||r;C(v||x.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:i,relative:d,preventScrollReset:m,viewTransition:p})};return S.createElement("form",{ref:g,method:N,action:T,onSubmit:o?f:y,...h,"data-discover":!b&&e==="render"?"true":void 0})});MC.displayName="Form";function _C(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function My(e){let t=S.useContext(bs);return _e(t,_C(e)),t}function RC(e,{target:t,replace:n,state:o,preventScrollReset:s,relative:i,viewTransition:r}={}){let c=Na(),f=Tn(),d=Di(e,{relative:i});return S.useCallback(m=>{if(rC(m,t)){m.preventDefault();let p=n!==void 0?n:gi(f)===gi(d);c(e,{replace:p,state:o,preventScrollReset:s,relative:i,viewTransition:r})}},[f,c,d,n,o,t,e,s,i,r])}var DC=0,kC=()=>`__${String(++DC)}__`;function IC(){let{router:e}=My("useSubmit"),{basename:t}=S.useContext(Ht),n=W0();return S.useCallback(async(o,s={})=>{let{action:i,method:r,encType:c,formData:f,body:d}=dC(o,t);if(s.navigate===!1){let m=s.fetcherKey||kC();await e.fetch(m,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||r,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||r,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function LC(e,{relative:t}={}){let{basename:n}=S.useContext(Ht),o=S.useContext(Qt);_e(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),i={...Di(e||".",{relative:t})},r=Tn();if(e==null){i.search=r.search;let c=new URLSearchParams(i.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:pn([n,i.pathname])),gi(i)}function UC(e,{relative:t}={}){let n=S.useContext(by);_e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=My("useViewTransitionState"),s=Di(e,{relative:t});if(!n.isTransitioning)return!1;let i=vn(n.currentLocation.pathname,o)||n.currentLocation.pathname,r=vn(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Zl(s.pathname,r)!=null||Zl(s.pathname,i)!=null}var je=(e=>(e.Admin="ADMIN",e.Client="CLIENT",e))(je||{}),Q=(e=>(e.Upcoming="UPCOMING",e.Open="OPEN",e.Closed="CLOSED",e.Finished="FINISHED",e.Suspended="SUSPENDED",e.Declared="DECLARED",e))(Q||{}),I=(e=>(e.OneDigit="1D",e.TwoDigits="2D",e.ThreeDigits="3D",e.FourDigits="4D",e.Combo="COMBO",e.Positional="POSITIONAL",e))(I||{}),ie=(e=>(e.First="FIRST",e.Second="SECOND",e))(ie||{}),kt=(e=>(e.Debit="DEBIT",e.Credit="CREDIT",e))(kt||{});const Vt={[I.FourDigits]:{first:525e3,second:165e3},[I.ThreeDigits]:{first:8e4,second:26e3},[I.TwoDigits]:{first:8e3,second:2600},[I.OneDigit]:{first:800,second:260},[I.Positional]:{1:{first:800,second:260},2:{first:8e3,second:2600},3:{first:8e4,second:26e3},4:{first:525e3,second:165e3}},[I.Combo]:{first:0,second:0}},_o={[I.FourDigits]:20,[I.ThreeDigits]:17,[I.TwoDigits]:13,[I.OneDigit]:10,[I.Positional]:0,[I.Combo]:0},En=e=>{if(!e)return{};const t={...e};t.wallet=Number(e.wallet)||0;const n=e.prizeRates||{};return t.prizeRates={...Vt,...n,[I.Positional]:{...Vt[I.Positional],...n[I.Positional]||{}}},t.commissionRates={..._o,...e.commissionRates||{}},e.role===je.Admin&&!e.clientId&&(t.clientId=e.username||"admin"),e.role===je.Admin&&(t.area=e.area||"N/A",t.contact=e.contact||"N/A",t.isActive=e.isActive!==void 0?e.isActive:!0),t},Vf=(e,t,n)=>{if(n.length!==4)return!1;switch(t){case I.FourDigits:return e.length===4&&e===n;case I.ThreeDigits:return e.length===3&&n.startsWith(e);case I.TwoDigits:return e.length===2&&n.startsWith(e);case I.OneDigit:return e.length===1&&n.startsWith(e);default:return!1}},wa=(e,t)=>{if(!t||t.length===0||!e.number)return!1;const n=t[0],o=t.slice(1);if(e.gameType===I.Positional){if(e.positions&&e.positions.length>0){if(e.condition===ie.Second||n.length!==4)return!1;const i=[...e.positions].sort((c,f)=>c-f);if(i.length!==e.number.length)return!1;let r="";for(const c of i){if(c<1||c>4)return!1;r+=n[c-1]}return e.number===r}const s=(i,r)=>{if(i.length===4&&r.length===4){for(let c=0;c<4;c++){const f=i[c].toUpperCase();if(f!=="X"&&f!==r[c])return!1}return!0}return!1};return e.condition===ie.First?s(e.number,n):e.condition===ie.Second?o.some(i=>s(e.number,i)):!1}switch(e.condition){case ie.First:return Vf(e.number,e.gameType,n);case ie.Second:return o.some(s=>Vf(e.number,e.gameType,s));default:return!1}},PC=(e,t)=>{const n=[];if(t>e.length)return[];const o=(s,i)=>{if(s.length===t){n.push(s.join(""));return}for(let r=0;r<e.length;r++)i[r]||(i[r]=!0,s.push(String(e[r])),o(s,i),s.pop(),i[r]=!1)};return o([],Array(e.length).fill(!1)),n},Yt=e=>{switch(e){case I.OneDigit:return"1 Digit";case I.TwoDigits:return"2 Digits";case I.ThreeDigits:return"3 Digits";case I.FourDigits:return"4 Digits";case I.Combo:return"Combo";case I.Positional:return"Multi Positional 1 digit";default:return e}},_y=S.createContext(null),fe=async(e,t={})=>{const n="",o=localStorage.getItem("ddl_token"),s={"Content-Type":"application/json",...t.headers};o&&(s.Authorization=`Bearer ${o}`);try{const i=await fetch(`${n}/api${e}`,{...t,headers:s});if(!i.ok){const r=await i.json().catch(()=>({message:"An unknown error occurred."}));throw new Error(r.message||`Request failed with status ${i.status}`)}return i.status===204?null:i.json()}catch(i){throw console.error(`API call to ${n}/api${e} failed:`,i),i}},BC=({children:e})=>{const[t,n]=S.useState([]),[o,s]=S.useState([]),[i,r]=S.useState([]),[c,f]=S.useState([]),[d,m]=S.useState("AUTO"),[p,h]=S.useState(null),[g,C]=S.useState(!0),[T,N]=S.useState(null),b=S.useRef(null),y=S.useCallback(async()=>{if(!localStorage.getItem("ddl_token")){C(!1);return}try{const G=await fe("/auth/me");if(G){const $=En(G);if(h($),$.role===je.Admin){const[J,he,re,Nt]=await Promise.all([fe("/admin/clients"),fe("/admin/bets"),fe("/admin/transactions"),fe("/admin/market-override")]);n(J.map(En)),r(he.map(tt=>({...tt,stake:Number(tt.stake),createdAt:new Date(tt.createdAt)}))),f(re.map(tt=>({...tt,amount:Number(tt.amount),balanceAfter:Number(tt.balanceAfter),createdAt:new Date(tt.createdAt),isReversed:!!tt.isReversed}))),m(Nt.override)}else{const[J,he]=await Promise.all([fe("/client/bets"),fe("/client/transactions")]);n([]),r(J.map(re=>({...re,stake:Number(re.stake),createdAt:new Date(re.createdAt)}))),f(he.map(re=>({...re,amount:Number(re.amount),balanceAfter:Number(re.balanceAfter),createdAt:new Date(re.createdAt),isReversed:!!re.isReversed})))}}else await v()}catch(G){console.error("Failed to fetch user data, logging out.",G),await v()}},[]);S.useEffect(()=>{const G=async()=>{try{T&&N(null);const $=await fe("/draws");s($.map(J=>({...J,drawTime:new Date(J.drawTime)}))),await y(),b.current=window.setTimeout(G,15e3)}catch($){console.error("Data polling failed:",$),N("Could not connect to the server. Please ensure the backend server is running and accessible.")}finally{g&&C(!1)}};return G(),()=>{b.current&&clearTimeout(b.current)}},[y]);const x=S.useCallback(async(G,$,J)=>{try{const he=await fe("/auth/login",{method:"POST",body:JSON.stringify({loginIdentifier:G,password:$,role:J})});localStorage.setItem("ddl_token",he.token),await y();const re=await fe("/draws");return s(re.map(Nt=>({...Nt,drawTime:new Date(Nt.drawTime)}))),{success:!0}}catch(he){return{success:!1,message:he.message}}},[y]),v=S.useCallback(async()=>{localStorage.removeItem("ddl_token"),h(null),n([]),r([]),f([])},[]),A=S.useCallback(async G=>{if(!p||p.role!==je.Client)return{successCount:0,message:"This feature is for clients only."};try{const $=await fe("/client/bets",{method:"POST",body:JSON.stringify({bets:G})});return await y(),{successCount:$.successCount,message:$.message}}catch($){return{successCount:0,message:$.message}}},[p,y]),w=S.useCallback(async(G,$)=>{try{await fe(`/admin/draws/${G}/declared-numbers`,{method:"PUT",body:JSON.stringify({winningNumbers:$})});const J=await fe("/draws");s(J.map(he=>({...he,drawTime:new Date(he.drawTime)}))),alert(`Declared numbers for draw ${G} updated successfully!`)}catch(J){alert(`Failed to set declared numbers: ${J.message}`)}},[]),E=S.useCallback(async(G,$)=>{try{await fe(`/admin/draws/${G}/declare-winner`,{method:"POST",body:JSON.stringify({winningNumbers:$})});const J=await fe("/draws");s(J.map(he=>({...he,drawTime:new Date(he.drawTime)}))),await y(),alert(`Winners for draw ${G} declared successfully!`)}catch(J){alert(`Failed to declare winner: ${J.message}`)}},[y]),_=S.useCallback(async G=>{try{const $=await fe("/admin/clients",{method:"POST",body:JSON.stringify(G)});return n(J=>[...J,En($)]),{success:!0,message:"Client registered successfully."}}catch($){return{success:!1,message:$.message}}},[]),M=S.useCallback(async(G,$,J,he)=>{try{const re=await fe(`/admin/clients/${G}/wallet`,{method:"POST",body:JSON.stringify({amount:$,type:J,description:he})});return n(Nt=>Nt.map(tt=>tt.id===G?En(re):tt)),(p==null?void 0:p.id)===G&&h(En(re)),await y(),{success:!0,message:"Wallet updated successfully."}}catch(re){return{success:!1,message:re.message}}},[p,y]),D=S.useCallback(async(G,$)=>{try{const J=await fe(`/admin/clients/${G}`,{method:"PUT",body:JSON.stringify($)});return n(he=>he.map(re=>re.id===G?En(J):re)),{success:!0,message:"Client details updated successfully."}}catch(J){return{success:!1,message:J.message}}},[]),B=S.useCallback(async(G,$,J)=>{try{await fe(`/admin/clients/${G}/password`,{method:"PUT",body:JSON.stringify({newPassword:$})}),J({success:!0,message:"Password updated successfully."})}catch(he){J({success:!1,message:he.message})}},[]),R=S.useCallback(async G=>{if(!p)return{success:!1,message:"No user is currently logged in."};const $=p.role===je.Admin?"/admin/profile/credentials":"/client/credentials";try{const J=await fe($,{method:"PUT",body:JSON.stringify(G)});return h(En(J)),{success:!0,message:"Credentials updated successfully."}}catch(J){return{success:!1,message:J.message}}},[p]),F=S.useCallback(async(G,$)=>{try{const J=await fe("/admin/bets",{method:"POST",body:JSON.stringify({bets:G,clientId:$})});return await y(),{successCount:J.successCount,message:J.message}}catch(J){return{successCount:0,message:J.message}}},[y]),Z=S.useCallback(async G=>fe(`/admin/reports/draw/${G}`),[]),K=S.useCallback(async G=>fe(`/admin/reports/live/${G}`),[]),U=S.useCallback(async G=>{try{const $=await fe(`/admin/clients/${G.id}`,{method:"PUT",body:JSON.stringify(G)});n(J=>J.map(he=>he.id===G.id?En($):he))}catch($){console.error("Failed to update client:",$.message)}},[]),H=S.useCallback(async(G,$)=>{try{await fe(`/admin/draws/${G}/time`,{method:"PUT",body:JSON.stringify({newTime:$.toISOString()})});const J=await fe("/draws");s(J.map(he=>({...he,drawTime:new Date(he.drawTime)}))),alert("Draw time updated successfully.")}catch(J){alert(`Failed to update draw time: ${J.message}`)}},[]),P=S.useCallback(async G=>{try{await fe("/admin/draws/shift-all",{method:"POST",body:JSON.stringify({minutes:G})});const $=await fe("/draws");s($.map(J=>({...J,drawTime:new Date(J.drawTime)}))),alert("All draw times shifted successfully.")}catch($){alert(`Failed to shift draw times: ${$.message}`)}},[]),z=S.useCallback(async G=>{try{await fe("/admin/market-override",{method:"POST",body:JSON.stringify({override:G})}),m(G);const $=await fe("/draws");s($.map(J=>({...J,drawTime:new Date(J.drawTime)})))}catch($){alert(`Failed to set market override: ${$.message}`)}},[]),k=S.useCallback(async G=>{try{return await fe(`/admin/transactions/${G}/reverse`,{method:"POST"}),await y(),{success:!0,message:"Transaction reversed successfully."}}catch($){return{success:!1,message:$.message}}},[y]),V=async G=>{console.warn("toggleDrawStatus not implemented")},Y=async G=>(console.warn("importClientsFromCSV not implemented"),{successCount:0,errorCount:G.length,errorMessages:["Not implemented"]}),te=S.useCallback(async G=>{const $=await A([G]);return{success:$.successCount>0,message:$.message}},[A]),Re=S.useMemo(()=>({currentClient:p,clients:t,draws:o,bets:i,transactions:c,marketOverride:d,login:x,logout:v,setMarketOverride:z,placeBulkBetsForCurrentClient:A,declareWinner:E,registerClient:_,adjustClientWallet:M,updateClientDetailsByAdmin:D,changeClientPasswordByAdmin:B,toggleDrawStatus:V,updateClientCredentials:R,getDrawStats:Z,getLiveDrawAnalysis:K,importClientsFromCSV:Y,placeBetsForClient:F,updateDrawTime:H,shiftAllDrawTimes:P,updateClient:U,placeBet:te,setDeclaredNumbers:w,reverseWinningTransaction:k}),[p,t,o,i,c,d,x,v,A,E,_,M,D,B,R,Z,K,F,H,P,U,te,w,z,k]);return g?u.jsx("div",{className:"min-h-screen bg-brand-bg flex items-center justify-center text-brand-primary text-xl",children:"Loading Application..."}):T&&!p?u.jsx("div",{className:"min-h-screen bg-brand-bg flex items-center justify-center text-brand-text p-4",children:u.jsxs("div",{className:"bg-brand-surface p-8 rounded-lg border border-danger max-w-lg text-center shadow-lg animate-fade-in-down",children:[u.jsx("h1",{className:"text-2xl font-bold text-danger mb-4",children:"Connection Error"}),u.jsx("p",{className:"mb-4",children:T}),u.jsx("p",{className:"text-sm text-brand-text-secondary",children:"Please try refreshing the page after ensuring the backend server is running."})]})}):u.jsx(_y.Provider,{value:Re,children:e})},ce=()=>{const e=S.useContext(_y);if(!e)throw new Error("useAppContext must be used within an AppProvider");return e},FC=({className:e="h-8 w-8 text-brand-primary"})=>u.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-label":"Daily Dubai Lottery Logo",children:[u.jsx("path",{d:"M12 1.5L14.05 8.35L21.5 9.25L16.25 14.25L17.6 21.65L12 17.9L6.4 21.65L7.75 14.25L2.5 9.25L9.95 8.35L12 1.5Z",opacity:"0.4"}),u.jsx("path",{d:"M12 5.5L10.5 10.05L5.5 10.9L9.2 14.4L8.25 19.3L12 16.85L15.75 19.3L14.8 14.4L18.5 10.9L13.5 10.05L12 5.5Z"})]}),VC=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),Ry=({client:e,onLogout:t})=>{const n=Na(),s=Tn().pathname!=="/";return u.jsx("header",{className:"fixed top-0 left-0 w-full bg-brand-surface border-b border-brand-secondary z-40 shadow-md",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[s&&u.jsx("button",{onClick:()=>n(-1),className:"text-brand-text-secondary hover:text-brand-text p-2 rounded-full -ml-2","aria-label":"Go back to previous page",children:u.jsx(VC,{})}),u.jsxs(yi,{to:"/",className:"flex items-center gap-3 text-2xl font-bold text-brand-primary hover:text-yellow-300 transition-colors",children:[u.jsx(FC,{}),u.jsx("span",{className:"hidden sm:inline",children:"Daily Dubai Lottery"})]})]}),u.jsx("div",{className:"flex items-center space-x-4",children:e?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-right hidden sm:block",children:[u.jsx("span",{className:"text-brand-text font-semibold",children:e.username}),u.jsx("span",{className:"block text-xs text-brand-text-secondary",children:e.role===je.Admin?"Administrator":`ID: ${e.clientId}`})]}),u.jsx("button",{onClick:t,className:"bg-danger hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg text-sm transition-colors",children:"Logout"})]}):u.jsx(yi,{to:"/login",className:"bg-brand-primary text-brand-bg font-bold py-2 px-4 rounded-lg text-sm hover:shadow-glow transition-all",children:"Login"})})]})})})},jC=()=>u.jsx("footer",{className:"bg-brand-surface border-t border-brand-secondary mt-auto",children:u.jsxs("div",{className:"max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-center space-x-6",children:[u.jsx("a",{href:"#",className:"text-brand-text-secondary hover:text-brand-text text-sm",children:"Terms of Service"}),u.jsx("a",{href:"#",className:"text-brand-text-secondary hover:text-brand-text text-sm",children:"Privacy Policy"}),u.jsx("a",{href:"#",className:"text-brand-text-secondary hover:text-brand-text text-sm",children:"Contact Us"})]}),u.jsx("p",{className:"mt-4 text-center text-sm text-brand-text-secondary",children:" 2011 Daily Dubai Lottery. All rights reserved."})]})}),zC=({targetDate:e,onComplete:t})=>{const n=S.useCallback(()=>{const r=+e-+new Date;return r>0?{hours:Math.floor(r/36e5),minutes:Math.floor(r/1e3/60%60),seconds:Math.floor(r/1e3%60)}:null},[e]),[o,s]=S.useState(n());S.useEffect(()=>{if(!o){t&&t();return}const r=setTimeout(()=>{const c=n();s(c)},1e3);return()=>clearTimeout(r)},[o,n,t]);const i=r=>r.toString().padStart(2,"0");return o?u.jsx("div",{className:"text-center",children:u.jsxs("div",{className:"flex space-x-1 justify-center",children:[u.jsxs("div",{className:"p-2 bg-brand-bg/50 rounded-md",children:[u.jsx("span",{className:"text-xl font-bold text-brand-primary",children:i(o.hours)}),u.jsx("span",{className:"text-xs block uppercase text-brand-text-secondary",children:"hrs"})]}),u.jsxs("div",{className:"p-2 bg-brand-bg/50 rounded-md",children:[u.jsx("span",{className:"text-xl font-bold text-brand-primary",children:i(o.minutes)}),u.jsx("span",{className:"text-xs block uppercase text-brand-text-secondary",children:"min"})]}),u.jsxs("div",{className:"p-2 bg-brand-bg/50 rounded-md",children:[u.jsx("span",{className:"text-xl font-bold text-brand-primary",children:i(o.seconds)}),u.jsx("span",{className:"text-xs block uppercase text-brand-text-secondary",children:"sec"})]})]})}):null},HC=zC,qC=e=>{switch(e){case Q.Open:return{badge:"bg-green-500/20 text-green-400",text:"text-green-400"};case Q.Closed:return{badge:"bg-yellow-500/20 text-yellow-400",text:"text-yellow-400"};case Q.Declared:return{badge:"bg-yellow-500/20 text-yellow-400",text:"text-yellow-400"};case Q.Finished:return{badge:"bg-blue-500/20 text-blue-400",text:"text-blue-400"};case Q.Upcoming:return{badge:"bg-gray-500/20 text-gray-400",text:"text-gray-400"};case Q.Suspended:return{badge:"bg-red-500/20 text-red-400",text:"text-red-400"};default:return{badge:"bg-brand-secondary text-brand-text-secondary",text:"text-brand-text-secondary"}}},GC=({draw:e})=>{const t=qC(e.status),n=e.drawTime.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),o=e.status===Q.Finished||e.status===Q.Declared;return u.jsxs("div",{className:"bg-brand-surface border border-brand-secondary p-4 rounded-xl shadow-lg text-center flex flex-col justify-between h-full transition-all duration-300 hover:border-brand-primary/80 hover:shadow-glow transform hover:-translate-y-1",children:[u.jsxs("div",{className:"border-b border-brand-secondary/50 pb-2 mb-3",children:[u.jsx("h3",{className:"font-bold text-brand-text text-lg",children:`Draw ${e.name}`}),u.jsx("p",{className:"text-sm text-brand-text-secondary",children:n})]}),u.jsx("div",{className:"flex-grow flex flex-col items-center justify-center min-h-[100px]",children:o?u.jsxs("div",{className:"w-full space-y-2",children:[u.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full mb-2 inline-block ${t.badge}`,children:e.status===Q.Finished?"Result Declared":"Declared"}),e.winningNumbers&&e.winningNumbers.length>0?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-brand-primary font-semibold",children:"First (F)"}),u.jsx("p",{className:"text-brand-primary font-bold text-4xl leading-tight tracking-wider font-mono",title:"First Position Number (F)",children:e.winningNumbers[0]})]}),e.winningNumbers.length>1&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-green-400 font-semibold",children:"Second (S)"}),u.jsx("div",{className:"text-green-400 text-lg font-mono",title:"Second Position Numbers (S)",children:e.winningNumbers.slice(1).join("  ")})]})]}):u.jsx("p",{className:"text-brand-text-secondary text-sm font-mono",children:"(Numbers Missing)"})]}):e.status===Q.Open?u.jsxs("div",{children:[u.jsx("span",{className:`text-sm font-bold px-3 py-1 rounded-full mb-2 inline-block ${t.badge}`,children:e.status}),u.jsxs("div",{className:"mt-1",children:[u.jsx("p",{className:"text-xs text-brand-text-secondary mb-1",children:"Booking closes in:"}),u.jsx(HC,{targetDate:new Date(e.drawTime.getTime()-15*60*1e3)})]})]}):u.jsx("span",{className:`text-sm font-bold px-3 py-1 rounded-full ${t.badge}`,children:e.status})})]})},Dy=()=>{const{draws:e}=ce();return u.jsxs("div",{className:"bg-brand-surface/50 p-6 rounded-xl shadow-lg border border-brand-secondary",children:[u.jsxs("h2",{className:"text-2xl font-semibold text-brand-primary mb-4 text-center",children:["Today's Draw Status (",e.length>0?`${e.length} Draws`:"",")"]}),e.length>0?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.sort((t,n)=>t.drawTime.getTime()-n.drawTime.getTime()).map(t=>u.jsx(GC,{draw:t},t.id))}):u.jsx("p",{className:"text-center text-brand-text-secondary my-4",children:"No draws scheduled for today."})]})},ky=({className:e})=>{const t=new Date,n={weekday:"long",year:"numeric",month:"long",day:"numeric"},o=t.toLocaleDateString("en-US",n);return u.jsx("p",{className:`text-lg text-brand-text-secondary ${e||""}`,children:o})},OC=Ry,$C=jC,JC=Dy,YC=ky,KC=()=>{const{currentClient:e,logout:t}=ce();return u.jsxs("div",{className:"min-h-screen bg-brand-bg flex flex-col text-brand-text pt-20",children:[u.jsx(OC,{client:e,onLogout:t}),u.jsx("main",{className:"flex-grow flex flex-col items-center justify-center p-4",children:u.jsxs("div",{className:"text-center max-w-7xl w-full",children:[u.jsx("h1",{className:"text-5xl md:text-6xl font-extrabold text-brand-primary my-6 animate-fade-in-down",children:"Welcome to Daily Dubai Lottery"}),u.jsx(YC,{className:"mb-4"}),u.jsx("p",{className:"text-lg md:text-xl text-brand-text-secondary mb-4 max-w-2xl mx-auto",children:"Your trusted platform for daily draws. Play responsibly and win big."}),u.jsxs("p",{className:"text-lg text-brand-text mb-8",children:["For New Registration, please message us on WhatsApp: ",u.jsx("a",{href:"https://wa.me/447879144354",target:"_blank",rel:"noopener noreferrer",className:"text-green-400 font-bold hover:underline",children:"+44 7879 144354"})]}),u.jsx("div",{className:"mb-8",children:u.jsx(JC,{})}),!e&&u.jsx("div",{className:"mt-12",children:u.jsx(yi,{to:"/login",className:"bg-brand-primary text-brand-bg font-bold py-3 px-8 rounded-lg text-lg hover:shadow-glow transition-all transform hover:scale-105",children:"Login to Play"})})]})}),u.jsx($C,{})]})},XC=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-primary h-16 w-16",children:[u.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),u.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),QC=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16",children:[u.jsx("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),u.jsx("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})]}),WC=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16",children:[u.jsx("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"}),u.jsx("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"})]}),Gc=({className:e,...t})=>{const[n,o]=S.useState(!1),s=()=>{o(i=>!i)};return u.jsxs("div",{className:"relative w-full",children:[u.jsx("input",{...t,type:n?"text":"password",className:`${e||""} pr-10`}),u.jsx("button",{type:"button",onClick:s,className:"absolute inset-y-0 right-0 flex items-center px-3 text-brand-text-secondary hover:text-brand-text focus:outline-none","aria-label":n?"Hide password":"Show password",children:n?u.jsx(WC,{}):u.jsx(QC,{})})]})},ZC=XC,eT=Gc,tT=({className:e="h-8 w-8 text-brand-primary"})=>u.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-label":"Daily Dubai Lottery Logo",children:[u.jsx("path",{d:"M12 1.5L14.05 8.35L21.5 9.25L16.25 14.25L17.6 21.65L12 17.9L6.4 21.65L7.75 14.25L2.5 9.25L9.95 8.35L12 1.5Z",opacity:"0.4"}),u.jsx("path",{d:"M12 5.5L10.5 10.05L5.5 10.9L9.2 14.4L8.25 19.3L12 16.85L15.75 19.3L14.8 14.4L18.5 10.9L13.5 10.05L12 5.5Z"})]}),nT=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-brand-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066 2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),oT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2 text-brand-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),jf=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),sT=()=>{const[e,t]=S.useState(""),[n,o]=S.useState(""),[s,i]=S.useState(""),[r,c]=S.useState(null),[f,d]=S.useState(!1),m=Na(),{login:p}=ce(),h=async T=>{if(T.preventDefault(),!r)return;i(""),d(!0);const N=await p(e,n,r);N.success||(i(N.message||`Invalid ${r===je.Client?"Username/Client ID":"username"} or password for the selected role.`),d(!1))},g=T=>{c(T),i(""),t(""),o("")};if(!r)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-bg p-4 bg-gradient-to-br from-brand-bg via-brand-surface to-brand-bg",children:u.jsxs("div",{className:"w-full max-w-md bg-brand-surface rounded-2xl shadow-2xl p-8 border border-brand-secondary text-center animate-fade-in-down relative",children:[u.jsx("button",{onClick:()=>m("/"),className:"absolute top-4 left-4 text-brand-text-secondary hover:text-brand-text p-2 rounded-full","aria-label":"Go to homepage",children:u.jsx(jf,{})}),u.jsxs("div",{className:"flex flex-col items-center mb-6",children:[u.jsx(tT,{className:"h-16 w-16 text-brand-primary"}),u.jsx("h1",{className:"text-3xl font-bold text-brand-text mt-4",children:"Daily Dubai Lottery"}),u.jsx("p",{className:"text-brand-text-secondary mt-1",children:"Please select your login type"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("button",{onClick:()=>g(je.Admin),className:"flex flex-col items-center justify-center p-6 bg-brand-secondary/40 hover:bg-brand-secondary/80 text-brand-text font-bold rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary transition-all duration-300 transform hover:scale-105",children:[u.jsx(nT,{}),"Admin Login"]}),u.jsxs("button",{onClick:()=>g(je.Client),className:"flex flex-col items-center justify-center p-6 bg-brand-secondary/40 hover:bg-brand-secondary/80 text-brand-text font-bold rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary transition-all duration-300 transform hover:scale-105",children:[u.jsx(oT,{}),"Client Login"]})]})]})});const C=r===je.Admin;return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-brand-bg p-4 bg-gradient-to-br from-brand-bg via-brand-surface to-brand-bg",children:u.jsxs("div",{className:"w-full max-w-md bg-brand-surface rounded-2xl shadow-2xl p-8 border border-brand-secondary animate-fade-in-down relative",children:[u.jsx("button",{onClick:()=>c(null),className:"absolute top-4 left-4 text-brand-text-secondary hover:text-brand-text p-2 rounded-full","aria-label":"Go back to role selection",children:u.jsx(jf,{})}),u.jsxs("div",{className:"flex flex-col items-center mb-6",children:[u.jsx(ZC,{}),u.jsxs("h1",{className:"text-3xl font-bold text-brand-text mt-4",children:[C?"Admin":"Client"," Login"]}),u.jsx("p",{className:"text-brand-text-secondary mt-1",children:"Welcome back!"})]}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"loginIdentifier",children:r===je.Client?"Username or Client ID":"Username"}),u.jsx("input",{id:"loginIdentifier",type:"text",value:e,onChange:T=>t(T.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-3 px-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:r===je.Client?"Enter Username or Client ID":"Enter your username",required:!0,disabled:f})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"password",children:"Password"}),u.jsx(eT,{id:"password",value:n,onChange:T=>o(T.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-3 px-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"Enter your password",required:!0,disabled:f})]}),s&&u.jsx("p",{className:"text-danger text-xs italic text-center",children:s}),u.jsx("div",{className:"flex flex-col space-y-4 pt-2",children:u.jsx("button",{type:"submit",disabled:f,className:"w-full bg-brand-primary hover:shadow-glow text-brand-bg font-bold py-3 px-4 rounded-lg focus:outline-none focus:shadow-outline transition-all duration-300 disabled:bg-brand-secondary disabled:cursor-not-allowed",children:f?"Signing In...":"Sign In"})})]})]})})},ki=({onClose:e,children:t,title:n})=>u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex justify-center items-center z-50 transition-opacity",onClick:e,children:u.jsxs("div",{className:"bg-brand-surface rounded-xl shadow-2xl p-6 border border-brand-primary/50 w-full max-w-3xl max-h-[90vh] flex flex-col animate-fade-in-down",onClick:o=>o.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center border-b border-brand-secondary pb-3 mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-primary",children:n}),u.jsx("button",{onClick:e,className:"text-brand-text-secondary hover:text-brand-text transition-colors","aria-label":"Close modal",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),u.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),u.jsx("div",{className:"overflow-y-auto pr-2",children:t})]})}),iT=({client:e,draw:t})=>{const{bets:n}=ce(),o=S.useMemo(()=>{const f=n.filter(y=>y.clientId===e.id&&y.drawId===t.id),d=["4 Digits","3 Digits","2 Digits","1 Digit","Multi Positional"],m=new Map(d.map(y=>[y,{}]));for(const y of f){let x;switch(y.gameType){case I.FourDigits:x="4 Digits";break;case I.ThreeDigits:x="3 Digits";break;case I.TwoDigits:x="2 Digits";break;case I.OneDigit:x="1 Digit";break;case I.Positional:x="Multi Positional";break;default:continue}if(!m.has(x))continue;const v=m.get(x);v[y.condition]||(v[y.condition]={booked:[],totalStake:0,totalPrize:0,isWinner:!1});const A=v[y.condition];if(A.booked.push(y.number),A.totalStake+=y.stake,wa(y,t.winningNumbers)&&(A.isWinner=!0,e&&e.prizeRates)){const w=y.condition.toLowerCase();let E=0;if(y.gameType===I.Positional){const _=(y.number.match(/\d/g)||[]).length,M=e.prizeRates.POSITIONAL;M&&M[_]&&(E=M[_][w])}else{const _=e.prizeRates[y.gameType];_&&typeof _[w]=="number"&&(E=_[w])}if(E>0){const _=y.stake*(E/100);A.totalPrize+=_}}}let p=0,h=0,g=0,C=0;const T=f.reduce((y,x)=>{var A;const v=((A=e.commissionRates)==null?void 0:A[x.gameType])??0;return y+x.stake*(v/100)},0);for(const[,y]of m.entries())y.FIRST&&(p+=y.FIRST.totalStake,g+=y.FIRST.totalPrize),y.SECOND&&(h+=y.SECOND.totalStake,C+=y.SECOND.totalPrize);const N=p+h,b=T+g+C;return{tableData:m,gameOrder:d,summary:{totalFirstStake:p,totalSecondStake:h,totalBookingAmount:N,commission:T,actualPrizeF:g,actualPrizeS:C,totalEarned:b}}},[e,t,n]),{tableData:s,gameOrder:i,summary:r}=o,c=f=>f.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return u.jsxs("div",{className:"text-brand-text",children:[u.jsxs("h3",{className:"text-xl font-bold text-center mb-2 text-brand-primary",children:["BET PLACED BY CLIENT ",e.clientId," / ",e.username.toUpperCase()]}),u.jsx("div",{className:"border border-brand-secondary rounded-lg overflow-hidden",children:u.jsxs("table",{className:"min-w-full text-sm text-center",children:[u.jsxs("thead",{className:"bg-brand-secondary/50 text-brand-text uppercase",children:[u.jsxs("tr",{children:[u.jsx("th",{rowSpan:2,className:"py-2 px-2 border-r border-brand-secondary/50",children:"Games"}),u.jsx("th",{colSpan:3,className:"py-2 px-2 border-r border-brand-secondary/50",children:"First Position"}),u.jsx("th",{colSpan:3,className:"py-2 px-2",children:"Second Position"})]}),u.jsxs("tr",{children:[u.jsx("th",{className:"py-2 px-2 border-t border-r border-brand-secondary/50 font-semibold",children:"Booked Digits"}),u.jsx("th",{className:"py-2 px-2 border-t border-r border-brand-secondary/50 font-semibold",children:"Stake"}),u.jsx("th",{className:"py-2 px-2 border-t border-r border-brand-secondary/50 font-semibold",children:"Prize"}),u.jsx("th",{className:"py-2 px-2 border-t border-brand-secondary/50 font-semibold",children:"Booked Digits"}),u.jsx("th",{className:"py-2 px-2 border-t border-brand-secondary/50 font-semibold",children:"Stake"}),u.jsx("th",{className:"py-2 px-2 border-t border-brand-secondary/50 font-semibold",children:"Prize"})]})]}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:i.map(f=>{var p,h;const d=(p=s.get(f))==null?void 0:p[ie.First],m=(h=s.get(f))==null?void 0:h[ie.Second];return!d&&!m?null:u.jsxs("tr",{className:"bg-brand-surface hover:bg-brand-surface/50",children:[u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-semibold text-left",children:f}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-mono break-all",children:d==null?void 0:d.booked.join(", ")}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-mono",children:(d==null?void 0:d.totalStake)>0?c(d.totalStake):""}),u.jsx("td",{className:`py-2 px-2 border-r border-brand-secondary/50 font-mono font-bold ${d!=null&&d.isWinner?"bg-yellow-400/80 text-black":""}`,children:(d==null?void 0:d.totalPrize)>0?c(d.totalPrize):""}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-mono break-all",children:m==null?void 0:m.booked.join(", ")}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-mono",children:(m==null?void 0:m.totalStake)>0?c(m.totalStake):""}),u.jsx("td",{className:`py-2 px-2 font-mono font-bold ${m!=null&&m.isWinner?"bg-yellow-400/80 text-black":""}`,children:(m==null?void 0:m.totalPrize)>0?c(m.totalPrize):""})]},f)})}),u.jsx("tfoot",{className:"bg-brand-secondary/50 font-bold text-brand-text",children:u.jsxs("tr",{children:[u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 text-right",children:"TOTAL"}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50"}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-mono",children:c(r.totalFirstStake)}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-mono text-yellow-300",children:c(r.actualPrizeF)}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50"}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary/50 font-mono",children:c(r.totalSecondStake)}),u.jsx("td",{className:"py-2 px-2 font-mono text-yellow-300",children:c(r.actualPrizeS)})]})})]})}),u.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[u.jsxs("div",{className:"bg-brand-secondary p-2 rounded-lg",children:[u.jsx("p",{className:"text-xs text-brand-text-secondary uppercase",children:"Total Booking"}),u.jsx("p",{className:"font-bold text-lg",children:c(r.totalBookingAmount)})]}),u.jsxs("div",{className:"bg-brand-secondary p-2 rounded-lg",title:"Commission is a rebate credited to the client based on their total stakes for this draw, calculated using their personal commission rates.",children:[u.jsx("p",{className:"text-xs text-brand-text-secondary uppercase",children:"Commission"}),u.jsx("p",{className:"font-bold text-lg",children:c(r.commission)})]}),u.jsxs("div",{className:"bg-brand-secondary p-2 rounded-lg",children:[u.jsx("p",{className:"text-xs text-brand-text-secondary uppercase",children:"Prize - F"}),u.jsx("p",{className:"font-bold text-lg text-yellow-400",children:c(r.actualPrizeF)})]}),u.jsxs("div",{className:"bg-brand-secondary p-2 rounded-lg",children:[u.jsx("p",{className:"text-xs text-brand-text-secondary uppercase",children:"Prize - S"}),u.jsx("p",{className:"font-bold text-lg text-yellow-400",children:c(r.actualPrizeS)})]}),u.jsxs("div",{className:"bg-brand-primary p-2 rounded-lg text-brand-bg col-span-2 md:col-span-1",children:[u.jsx("p",{className:"text-xs font-semibold uppercase",children:"Total Earned"}),u.jsx("p",{className:"font-bold text-xl",children:c(r.totalEarned)})]})]})]})},Iy=({clientId:e})=>{const{transactions:t,clients:n,currentClient:o,bets:s}=ce(),[i,r]=S.useState("all"),[c,f]=S.useState(1),d=15,m=S.useMemo(()=>(o==null?void 0:o.role)===je.Client&&o.id===e?o:n.find(w=>w.id===e),[n,e,o]),p=w=>{const E=new Date,_=new Date(E.getFullYear(),E.getMonth(),E.getDate());switch(w){case"today":return{start:_,end:new Date(E.getTime()+1)};case"last7":const M=new Date(_);return M.setDate(_.getDate()-6),{start:M,end:new Date(E.getTime()+1)};case"last30":const D=new Date(_);return D.setDate(_.getDate()-29),{start:D,end:new Date(E.getTime()+1)};default:return null}},h=S.useMemo(()=>{const w=t.filter(_=>_.clientId===e).sort((_,M)=>M.createdAt.getTime()-_.createdAt.getTime()),E=p(i);return E?w.filter(_=>{const M=new Date(_.createdAt);return M>=E.start&&M<E.end}):w},[t,e,i]),g=/^Win on (.*?) \((.*?)\) in Draw (.*?)\. Stake ([\d.]+) @ ([\d.]+)x$/,{detailedTransactions:C,summary:T}=S.useMemo(()=>{let w=m==null?void 0:m.wallet;if(w===void 0)return{detailedTransactions:[],summary:{totalCredit:0,totalDebit:0,totalStakes:0,totalWinnings:0,totalCommission:0,totalNetProfit:0,netResult:0}};const E=h.map(U=>{const H={...U,correctedBalanceAfter:w},P=U.isReversed?0:U.amount;return U.type===kt.Credit?w-=P:w+=P,H});let _=0,M=0,D=0,B=0,R=0,F=0;const Z=E.map(U=>{let H=0,P=0;if(!U.isReversed)if(U.type===kt.Credit)if(_+=U.amount,U.description.startsWith("Win on")){B+=U.amount;const z=g.exec(U.description);if(z){const k=parseFloat(z[4]);H=U.amount-k,F+=H}}else U.description.startsWith("Betting Commission")&&(P=U.amount,R+=P);else M+=U.amount,U.description.toLowerCase().includes("booking")&&(D+=U.amount);return{...U,netProfit:H,commission:P}}),K=B-D+R;return{detailedTransactions:Z,summary:{totalCredit:_,totalDebit:M,totalStakes:D,totalWinnings:B,totalCommission:R,totalNetProfit:F,netResult:K}}},[h,m]),N=S.useMemo(()=>{const w=(c-1)*d;return C.slice(w,w+d)},[C,c]),b=Math.ceil(C.length/d),y=w=>{w>=1&&w<=b&&f(w)};if(!m)return u.jsx("p",{className:"text-brand-text-secondary",children:"Client not found."});const x=w=>w.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),v=[{key:"all",label:"All Time"},{key:"today",label:"Today"},{key:"last7",label:"Last 7 Days"},{key:"last30",label:"Last 30 Days"}],A=({filterKey:w,label:E})=>u.jsx("button",{onClick:()=>{r(w),f(1)},className:`px-4 py-2 text-sm font-semibold rounded-lg transition-colors ${i===w?"bg-brand-primary text-brand-bg":"bg-brand-surface text-brand-text-secondary hover:bg-brand-secondary"}`,children:E});return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:u.jsxs("div",{className:"bg-brand-bg p-3 rounded-lg border border-brand-secondary flex flex-wrap items-center gap-2 flex-grow",children:[u.jsx("span",{className:"text-sm font-bold text-brand-text-secondary mr-2",children:"Period:"}),v.map(w=>u.jsx(A,{filterKey:w.key,label:w.label},w.key))]})}),C.length===0?u.jsx("div",{className:"text-center py-8 bg-brand-bg rounded-lg",children:u.jsx("p",{className:"text-brand-text-secondary",children:"No financial history found for the selected period."})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"overflow-x-auto bg-brand-bg rounded-lg max-h-[60vh]",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Debit"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Credit"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Balance"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:N.map(w=>u.jsxs("tr",{className:`hover:bg-brand-secondary/30 ${w.isReversed?"opacity-50":""}`,children:[u.jsx("td",{className:"px-6 py-3 whitespace-nowrap",children:new Date(w.createdAt).toLocaleString()}),u.jsxs("td",{className:"px-6 py-3 max-w-xs",children:[w.description," ",w.isReversed&&u.jsx("span",{className:"ml-2 text-xs font-bold text-red-400 bg-red-900/50 px-2 py-0.5 rounded-full",children:"REVERSED"})]}),u.jsx("td",{className:`px-6 py-3 text-right font-mono text-yellow-400 ${w.isReversed?"line-through":""}`,children:w.type===kt.Debit?`RS. ${x(w.amount)}`:"-"}),u.jsx("td",{className:`px-6 py-3 text-right font-mono text-green-400 ${w.isReversed?"line-through":""}`,children:w.type===kt.Credit?`RS. ${x(w.amount)}`:"-"}),u.jsxs("td",{className:"px-6 py-3 text-right font-mono text-brand-text",children:["RS. ",x(w.correctedBalanceAfter)]})]},w.id))}),u.jsx("tfoot",{className:"bg-brand-secondary/80 font-bold text-brand-text",children:u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-3 text-right",colSpan:2,children:"Period Totals"}),u.jsx("td",{className:"px-6 py-3 text-right font-mono text-yellow-400",children:x(T.totalDebit)}),u.jsx("td",{className:"px-6 py-3 text-right font-mono text-green-400",children:x(T.totalCredit)}),u.jsx("td",{className:"px-6 py-3 text-right font-mono"})]})})]})}),b>1&&u.jsxs("div",{className:"flex justify-between items-center pt-2",children:[u.jsx("button",{onClick:()=>y(c-1),disabled:c===1,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),u.jsxs("span",{className:"text-brand-text-secondary font-semibold",children:["Page ",c," of ",b]}),u.jsx("button",{onClick:()=>y(c+1),disabled:c===b,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next "})]})]})]})},lT=ki,yr=Gc,aT=iT,rT=Iy,uT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 5v.01M12 12v.01M12 19v.01"})}),cT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),dT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),fT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),mT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L15.232 5.232z"})}),pT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 5.5l-9 9m3-9a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm-9 9a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})}),hT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),gT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),yT=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),xT=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h10a8 8 0 018 8v2M3 10l4-4m-4 4l4 4"})}),bT=()=>{var Wc,Zc,ed,td,nd,od,sd;const{clients:e,draws:t,transactions:n,updateClient:o,registerClient:s,changeClientPasswordByAdmin:i,updateClientDetailsByAdmin:r,adjustClientWallet:c,reverseWinningTransaction:f}=ce(),[d,m]=S.useState(null),[p,h]=S.useState(null),[g,C]=S.useState(""),[T,N]=S.useState({clientId:"",username:"",password:"",contact:"",area:"",wallet:0,commissionRates:{..._o},prizeRates:{...Vt}}),[b,y]=S.useState({clientId:"",username:"",contact:"",area:""}),[x,v]=S.useState({commissionRates:_o,prizeRates:Vt}),[A,w]=S.useState(""),[E,_]=S.useState("deposit"),[M,D]=S.useState(""),[B,R]=S.useState(""),[F,Z]=S.useState(""),[K,U]=S.useState(null),H=S.useMemo(()=>e.filter(q=>q.role===je.Client&&(q.username.toLowerCase().includes(F.toLowerCase())||q.clientId.toLowerCase().includes(F.toLowerCase()))),[e,F]),P=S.useMemo(()=>t.filter(q=>q.status===Q.Finished).sort((q,se)=>se.drawTime.getTime()-q.drawTime.getTime()),[t]),z=(q,se)=>{U({type:q,message:se}),setTimeout(()=>U(null),3e3)},k=()=>{const q=e.map(j=>j.clientId).filter(j=>j.toUpperCase().startsWith("DDL")).map(j=>parseInt(j.replace(/[^0-9]/g,""),10)).filter(j=>!isNaN(j)),Ke=(q.length>0?Math.max(...q):0)+1;return`DDL${String(Ke).padStart(4,"0")}`},V=(q,se)=>{var Ke;U(null),h(null),m({type:q,data:se}),q==="ADD_CLIENT"&&N({clientId:k(),username:"",password:"",contact:"+92",area:"",wallet:0,commissionRates:{..._o},prizeRates:{...Vt}}),q==="CHANGE_PASSWORD"&&(D(""),R("")),q==="MANAGE_WALLET"&&(_("deposit"),w("")),q==="EDIT_CLIENT"&&se&&y({clientId:se.clientId,username:se.username,contact:se.contact,area:se.area}),q==="EDIT_RATES"&&se&&v({commissionRates:{..._o,...se.commissionRates},prizeRates:{...Vt,...se.prizeRates||{},[I.Positional]:{...Vt[I.Positional],...(Ke=se.prizeRates)==null?void 0:Ke[I.Positional]}}}),q==="CLIENT_DRAW_REPORT"&&C("")},Y=()=>{m(null),w(""),D(""),R(""),y({clientId:"",username:"",contact:"",area:""}),v({commissionRates:_o,prizeRates:Vt}),C("")},te=async q=>{if(q.preventDefault(),!T.clientId.trim()){z("error","Client ID is required.");return}if(T.password.length<8){z("error","Password must be at least 8 characters.");return}if(!T.username.trim()){z("error","Username is required.");return}if(!/^\+923\d{9}$/.test(T.contact)){z("error","A valid Pakistani mobile number is required (e.g., +923001234567).");return}const se=await s({...T,wallet:Number(T.wallet)||0});z(se.success?"success":"error",se.message),se.success&&Y()},Re=async q=>{q.preventDefault();const se=d==null?void 0:d.data;if(!se)return;if(!b.clientId.trim()||!b.username.trim()){z("error","Client ID and Username cannot be empty.");return}if(b.contact&&!/^\+923\d{9}$/.test(b.contact)){z("error","Please enter a valid Pakistani mobile number (e.g., +923001234567) or leave it empty.");return}const Ke=await r(se.id,{clientId:b.clientId,username:b.username,contact:b.contact,area:b.area});z(Ke.success?"success":"error",Ke.message),Ke.success&&Y()},G=q=>{q.preventDefault();const se=d==null?void 0:d.data;se&&(o({...se,commissionRates:x.commissionRates,prizeRates:x.prizeRates}),z("success",`Rates for ${se.username} updated successfully.`),Y())},$=q=>{q.preventDefault();const se=d==null?void 0:d.data;if(se){if(M.length<8){z("error","Password must be at least 8 characters long.");return}if(M!==B){z("error","Passwords do not match.");return}i(se.id,M,Ke=>{z(Ke.success?"success":"error",Ke.message),Ke.success&&Y()})}},J=async q=>{q.preventDefault();const se=d==null?void 0:d.data;if(!se)return;const Ke=parseFloat(A);if(isNaN(Ke)||Ke<=0){z("error","Please enter a valid positive amount.");return}const j=E==="deposit"?"Deposit: Manual by Admin":"Withdrawal: Manual by Admin",de=E==="deposit"?kt.Credit:kt.Debit,Ce=await c(se.id,Ke,de,j);Ce.success?(z("success",`Wallet for ${se.username} updated successfully.`),Y()):z("error",Ce.message)},he=q=>{h(null),o({...q,isActive:!q.isActive}),z("success",`Status for ${q.username} has been updated.`)},re=[{key:I.FourDigits,label:"4 Digits",hasPrizeRate:!0},{key:I.ThreeDigits,label:"3 Digits",hasPrizeRate:!0},{key:I.TwoDigits,label:"2 Digits",hasPrizeRate:!0},{key:I.OneDigit,label:"1 Digit",hasPrizeRate:!0},{key:I.Positional,label:"Positional",hasPrizeRate:!1},{key:I.Combo,label:"Combo",hasPrizeRate:!1}],Nt=[{key:1,label:"Positional 1-digit (e.g. 5XXX)"},{key:2,label:"Positional 2-digits (e.g. 5X3X)"},{key:3,label:"Positional 3-digits (e.g. 5X32)"},{key:4,label:"Positional 4-digits (e.g. 5132)"}],tt=()=>{if(!d)return null;const q=d.data;switch(d.type){case"REVERSE_WINNINGS":{if(!q)return null;const j=n.filter(Ce=>Ce.clientId===q.id&&Ce.type===kt.Credit&&Ce.description.startsWith("Win on")&&!Ce.isReversed).sort((Ce,lt)=>lt.createdAt.getTime()-Ce.createdAt.getTime()),de=async Ce=>{if(!window.confirm("Are you sure you want to reverse this prize winning? This will debit the client's wallet and cannot be undone."))return;U(null);const Ue=await f(Ce);z(Ue.success?"success":"error",Ue.message)};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-brand-text-secondary",children:"Below is a list of prize winnings credited to this client. Click 'Reverse' to debit the amount from the client's wallet. This action is logged and cannot be undone."}),j.length===0?u.jsx("p",{className:"text-center text-brand-text-secondary py-4",children:"No reversible prize winnings found for this client."}):u.jsx("div",{className:"max-h-96 overflow-y-auto border border-brand-secondary rounded-lg",children:u.jsx("ul",{className:"divide-y divide-brand-secondary",children:j.map(Ce=>u.jsxs("li",{className:"p-3 flex justify-between items-center bg-brand-bg hover:bg-brand-secondary/30",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-brand-text",children:new Date(Ce.createdAt).toLocaleString()}),u.jsx("p",{className:"text-xs text-brand-text-secondary",children:Ce.description}),u.jsxs("p",{className:"text-green-400 font-bold font-mono",children:["Amount: RS. ",Ce.amount.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),u.jsx("button",{onClick:()=>de(Ce.id),className:"bg-red-600 text-white font-bold py-1 px-3 rounded-md text-sm hover:bg-red-700",children:"Reverse"})]},Ce.id))})})]})}case"FINANCIAL_LEDGER":return q?u.jsx(rT,{clientId:q.id}):null;case"CLIENT_DRAW_REPORT":if(!q)return null;const se=P.find(j=>j.id===g);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"draw-select",className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Select a Finished Draw"}),u.jsxs("select",{id:"draw-select",value:g,onChange:j=>C(j.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:[u.jsx("option",{value:"",children:"-- Choose a draw --"}),P.map(j=>u.jsxs("option",{value:j.id,children:["Draw ",j.name," (",j.drawTime.toLocaleDateString(),")"]},j.id))]})]}),se&&u.jsx(aT,{client:q,draw:se})]});case"ADD_CLIENT":return u.jsxs("form",{onSubmit:te,className:"space-y-6",children:[u.jsxs("div",{className:"p-4 bg-brand-secondary/30 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-lg font-bold text-brand-primary mb-4",children:"Client Details"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",children:"Client ID"}),u.jsx("input",{type:"text",placeholder:"e.g., DDL0001",value:T.clientId,onChange:j=>N(de=>({...de,clientId:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",children:"Client Name"}),u.jsx("input",{type:"text",placeholder:"e.g., Adnan",value:T.username,onChange:j=>N(de=>({...de,username:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",children:"Password"}),u.jsx(yr,{placeholder:"min. 8 chars",value:T.password,onChange:j=>N(de=>({...de,password:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",children:"Contact No."}),u.jsx("input",{type:"text",placeholder:"+923001234567",value:T.contact,onChange:j=>N(de=>({...de,contact:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0,pattern:"\\+923\\d{9}",title:"Enter a valid Pakistani mobile number, e.g., +923001234567"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",children:"Area"}),u.jsx("input",{type:"text",placeholder:"e.g., Khi",value:T.area,onChange:j=>N(de=>({...de,area:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",children:"Initial Deposit"}),u.jsx("input",{type:"number",placeholder:"e.g., 10000",value:T.wallet===0?"":T.wallet,onFocus:j=>{j.target.value==="0"&&j.target.select()},onChange:j=>N(de=>({...de,wallet:Number(j.target.value)})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]})]}),u.jsxs("div",{className:"p-4 bg-brand-secondary/30 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-lg font-bold text-brand-primary mb-4",children:"Rates & Commission"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-brand-text",children:[u.jsx("thead",{className:"bg-brand-secondary/50 text-brand-text-secondary text-center",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Game"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Commission (%)"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Prize: First (F) (%)"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-brand-secondary",children:"Prize: Second (S) (%)"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:re.map(({key:j,label:de,hasPrizeRate:Ce})=>{var lt,Ue;return u.jsxs("tr",{className:"bg-brand-surface/50 text-center",children:[u.jsx("td",{className:"py-2 px-4 text-left font-semibold text-brand-text-secondary border-r border-brand-secondary",children:de}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary",children:u.jsx("input",{type:"number",step:"0.1",className:"w-24 bg-brand-bg border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary",value:T.commissionRates[j],onChange:Wt=>N(Ge=>({...Ge,commissionRates:{...Ge.commissionRates,[j]:parseFloat(Wt.target.value)||0}}))})}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary",children:Ce?u.jsx("input",{type:"number",className:"w-24 bg-brand-bg border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary",value:(lt=T.prizeRates[j])==null?void 0:lt.first,onChange:Wt=>N(Ge=>({...Ge,prizeRates:{...Ge.prizeRates,[j]:{...Ge.prizeRates[j],first:Number(Wt.target.value)||0}}}))}):u.jsx("span",{className:"text-xs text-brand-text-secondary",children:"N/A"})}),u.jsx("td",{className:"py-2 px-2",children:Ce?u.jsx("input",{type:"number",className:"w-24 bg-brand-bg border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary",value:(Ue=T.prizeRates[j])==null?void 0:Ue.second,onChange:Wt=>N(Ge=>({...Ge,prizeRates:{...Ge.prizeRates,[j]:{...Ge.prizeRates[j],second:Number(Wt.target.value)||0}}}))}):u.jsx("span",{className:"text-xs text-brand-text-secondary",children:"N/A"})})]},j)})})]})})]}),u.jsx("button",{type:"submit",className:"w-full bg-brand-primary hover:bg-yellow-400 text-brand-bg font-bold py-3 px-4 rounded-lg mt-4",children:"Create Client Account"})]});case"EDIT_CLIENT":return u.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"editClientId",children:"Client ID"}),u.jsx("input",{id:"editClientId",name:"clientId",type:"text",value:b.clientId,onChange:j=>y(de=>({...de,clientId:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"editUsername",children:"Username"}),u.jsx("input",{id:"editUsername",name:"username",type:"text",value:b.username,onChange:j=>y(de=>({...de,username:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"editContact",children:"Contact No."}),u.jsx("input",{id:"editContact",name:"contact",type:"text",value:b.contact,onChange:j=>y(de=>({...de,contact:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",pattern:"\\+923\\d{9}",title:"Enter a valid Pakistani mobile number, e.g., +923001234567"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"editArea",children:"Area"}),u.jsx("input",{id:"editArea",name:"area",type:"text",value:b.area,onChange:j=>y(de=>({...de,area:j.target.value})),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),u.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:"Update Details"})]});case"EDIT_RATES":return d.data?u.jsxs("form",{onSubmit:G,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-brand-primary mb-2",children:"Standard Game Rates"}),u.jsx("div",{className:"overflow-x-auto bg-brand-secondary/30 rounded-lg border border-brand-secondary",children:u.jsxs("table",{className:"w-full text-sm text-brand-text",children:[u.jsx("thead",{className:"bg-brand-secondary/50 text-brand-text-secondary text-center",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Game"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Commission (%)"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Prize: First (F) (%)"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-brand-secondary",children:"Prize: Second (S) (%)"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:re.map(j=>{var de,Ce;return u.jsxs("tr",{className:"bg-brand-surface/50 text-center",children:[u.jsx("td",{className:"py-2 px-4 text-left font-semibold text-brand-text-secondary border-r border-brand-secondary",children:j.label}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary",children:u.jsx("div",{className:"mx-auto max-w-[120px]",children:u.jsx("input",{type:"number",step:"0.1",value:x.commissionRates[j.key]||0,onChange:lt=>v(Ue=>({...Ue,commissionRates:{...Ue.commissionRates,[j.key]:parseFloat(lt.target.value)||0}})),className:"w-full bg-brand-surface border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary"})})}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary",children:j.hasPrizeRate?u.jsx("div",{className:"mx-auto max-w-[120px]",children:u.jsx("input",{type:"number",value:((de=x.prizeRates[j.key])==null?void 0:de.first)||0,onChange:lt=>v(Ue=>({...Ue,prizeRates:{...Ue.prizeRates,[j.key]:{...Ue.prizeRates[j.key],first:Number(lt.target.value)||0}}})),className:"w-full bg-brand-surface border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary"})}):u.jsx("span",{className:"text-xs text-brand-text-secondary",children:"N/A"})}),u.jsx("td",{className:"py-2 px-2",children:j.hasPrizeRate?u.jsx("div",{className:"mx-auto max-w-[120px]",children:u.jsx("input",{type:"number",value:((Ce=x.prizeRates[j.key])==null?void 0:Ce.second)||0,onChange:lt=>v(Ue=>({...Ue,prizeRates:{...Ue.prizeRates,[j.key]:{...Ue.prizeRates[j.key],second:Number(lt.target.value)||0}}})),className:"w-full bg-brand-surface border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary"})}):u.jsx("span",{className:"text-xs text-brand-text-secondary",children:"N/A"})})]},j.key)})})]})})]}),u.jsxs("div",{className:"pt-4",children:[u.jsx("h3",{className:"text-lg font-bold text-brand-primary mb-2",children:"Positional Game Rates"}),u.jsx("p",{className:"text-sm text-brand-text-secondary mb-2",children:"Payouts for positional bets (e.g., '5XX1') depend on the number of specified digits."}),u.jsx("div",{className:"overflow-x-auto bg-brand-secondary/30 rounded-lg border border-brand-secondary",children:u.jsxs("table",{className:"w-full text-sm text-brand-text",children:[u.jsx("thead",{className:"bg-brand-secondary/50 text-brand-text-secondary text-center",children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Game"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-r border-brand-secondary",children:"Prize: First (F) (%)"}),u.jsx("th",{className:"py-2 px-4 font-bold border-b border-brand-secondary",children:"Prize: Second (S) (%)"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:Nt.map(j=>{var Ce,lt;const de=x.prizeRates[I.Positional]||Vt[I.Positional];return u.jsxs("tr",{className:"bg-brand-surface/50 text-center",children:[u.jsx("td",{className:"py-2 px-4 text-left font-semibold text-brand-text-secondary border-r border-brand-secondary",children:j.label}),u.jsx("td",{className:"py-2 px-2 border-r border-brand-secondary",children:u.jsx("div",{className:"mx-auto max-w-[120px]",children:u.jsx("input",{type:"number",value:((Ce=de[j.key])==null?void 0:Ce.first)||0,onChange:Ue=>{const Wt=Number(Ue.target.value)||0;v(Ge=>{const Es=Ge.prizeRates[I.Positional]||Vt[I.Positional],Ra={...Es[j.key],first:Wt},Da={...Es,[j.key]:Ra};return{...Ge,prizeRates:{...Ge.prizeRates,[I.Positional]:Da}}})},className:"w-full bg-brand-surface border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary"})})}),u.jsx("td",{className:"py-2 px-2",children:u.jsx("div",{className:"mx-auto max-w-[120px]",children:u.jsx("input",{type:"number",value:((lt=de[j.key])==null?void 0:lt.second)||0,onChange:Ue=>{const Wt=Number(Ue.target.value)||0;v(Ge=>{const Es=Ge.prizeRates[I.Positional]||Vt[I.Positional],Ra={...Es[j.key],second:Wt},Da={...Es,[j.key]:Ra};return{...Ge,prizeRates:{...Ge.prizeRates,[I.Positional]:Da}}})},className:"w-full bg-brand-surface border border-brand-secondary rounded py-1 px-2 text-center text-brand-text focus:outline-none focus:ring-1 focus:ring-brand-primary"})})})]},j.key)})})]})})]}),u.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg mt-4",children:"Update Rates"})]}):null;case"MANAGE_WALLET":return q?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{className:"text-brand-text-secondary",children:["Current Balance: ",u.jsxs("span",{className:"font-bold text-brand-text",children:["RS. ",q.wallet.toFixed(2)]})]}),u.jsx("div",{className:"border-b border-brand-secondary",children:u.jsxs("nav",{className:"-mb-px flex space-x-4",children:[u.jsx("button",{onClick:()=>_("deposit"),className:`px-3 py-2 font-semibold ${E==="deposit"?"text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary"}`,children:"Deposit"}),u.jsx("button",{onClick:()=>_("withdraw"),className:`px-3 py-2 font-semibold ${E==="withdraw"?"text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary"}`,children:"Withdraw"})]})}),u.jsxs("form",{onSubmit:J,className:"pt-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"walletAmount",children:"Amount"}),u.jsx("input",{id:"walletAmount",type:"number",value:A,onChange:j=>w(j.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"e.g., 500",required:!0})]}),u.jsx("button",{type:"submit",className:`w-full mt-4 font-bold text-white py-2 px-4 rounded-lg ${E==="deposit"?"bg-green-600 hover:bg-green-700":"bg-yellow-600 hover:bg-yellow-700"}`,children:E==="deposit"?"Confirm Deposit":"Confirm Withdrawal"})]})]}):null;case"CHANGE_PASSWORD":return q?u.jsxs("form",{onSubmit:$,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"newPassword",children:"New Password"}),u.jsx(yr,{id:"newPassword",name:"newPassword",value:M,onChange:j=>D(j.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0,autoComplete:"new-password"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),u.jsx(yr,{id:"confirmPassword",name:"confirmPassword",value:B,onChange:j=>R(j.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0,autoComplete:"new-password"})]}),u.jsx("button",{type:"submit",className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg",children:"Update Password"})]}):null;default:return null}};return u.jsxs("div",{children:[K&&u.jsx("div",{className:`fixed top-28 right-8 z-50 p-4 rounded-lg shadow-lg text-sm text-center ${K.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:K.message}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[u.jsxs("h2",{className:"text-2xl font-bold text-brand-text",children:["Client Management (",H.length,")"]}),u.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[u.jsxs("div",{className:"relative w-full md:w-64",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-brand-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),u.jsx("input",{type:"text",placeholder:"Search by username or ID...",value:F,onChange:q=>Z(q.target.value),className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-2 pl-10 pr-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsx("button",{onClick:()=>V("ADD_CLIENT"),className:"bg-brand-primary text-brand-bg font-bold py-2 px-4 rounded-lg hover:bg-yellow-400 transition-colors whitespace-nowrap",children:"+ Add Client"})]})]}),u.jsxs("div",{className:"overflow-x-auto bg-brand-surface rounded-lg shadow",children:[u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Client ID"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Username"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Contact / Area"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Wallet"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Status"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Actions"})]})}),u.jsx("tbody",{children:H.map(q=>u.jsxs("tr",{className:"bg-brand-surface border-b border-brand-secondary hover:bg-brand-secondary/20 transition-colors",children:[u.jsx("td",{className:"px-6 py-4 font-mono text-brand-text-secondary",children:q.clientId}),u.jsx("th",{scope:"row",className:"px-6 py-4 font-medium text-brand-text whitespace-nowrap",children:q.username}),u.jsxs("td",{className:"px-6 py-4",children:[q.contact,u.jsx("br",{}),u.jsx("span",{className:"text-xs",children:q.area})]}),u.jsx("td",{className:"px-6 py-4 font-mono text-brand-text",children:u.jsxs("button",{onClick:()=>V("MANAGE_WALLET",q),className:"hover:underline hover:text-brand-primary focus:outline-none focus:text-brand-primary transition-colors cursor-pointer",title:"Manage Wallet",children:["RS. ",q.wallet.toFixed(2)]})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${q.isActive?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:q.isActive?"Active":"Suspended"})}),u.jsx("td",{className:"px-6 py-4 text-center",children:u.jsxs("div",{className:"relative inline-block text-left",children:[u.jsxs("button",{onClick:()=>h(p===q.id?null:q.id),className:"p-2 rounded-full text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-brand-surface focus:ring-brand-primary","aria-haspopup":"true","aria-expanded":p===q.id,children:[u.jsxs("span",{className:"sr-only",children:["Open actions menu for ",q.username]}),u.jsx(uT,{})]}),p===q.id&&u.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-60 rounded-md shadow-lg bg-brand-surface ring-1 ring-brand-primary z-10",children:u.jsxs("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:[u.jsxs("button",{onClick:()=>V("CLIENT_DRAW_REPORT",q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text",children:[u.jsx(dT,{})," ",u.jsx("span",{className:"ml-3",children:"View Draw Report"})]}),u.jsxs("button",{onClick:()=>V("FINANCIAL_LEDGER",q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text",children:[u.jsx(cT,{})," ",u.jsx("span",{className:"ml-3",children:"View Financial Ledger"})]}),u.jsxs("button",{onClick:()=>V("MANAGE_WALLET",q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text",children:[u.jsx(fT,{})," ",u.jsx("span",{className:"ml-3",children:"Manage Wallet"})]}),u.jsx("div",{className:"border-t border-brand-secondary my-1"}),u.jsxs("button",{onClick:()=>V("EDIT_CLIENT",q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text",children:[u.jsx(mT,{})," ",u.jsx("span",{className:"ml-3",children:"Edit Details"})]}),u.jsxs("button",{onClick:()=>V("EDIT_RATES",q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text",children:[u.jsx(pT,{})," ",u.jsx("span",{className:"ml-3",children:"Edit Rates"})]}),u.jsxs("button",{onClick:()=>V("CHANGE_PASSWORD",q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-brand-text-secondary hover:bg-brand-secondary hover:text-brand-text",children:[u.jsx(hT,{})," ",u.jsx("span",{className:"ml-3",children:"Change Password"})]}),u.jsx("div",{className:"border-t border-brand-secondary my-1"}),u.jsx("button",{onClick:()=>he(q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-yellow-400 hover:bg-brand-secondary hover:text-yellow-300",children:q.isActive?u.jsxs(u.Fragment,{children:[u.jsx(gT,{})," ",u.jsx("span",{className:"ml-3",children:"Suspend Client"})]}):u.jsxs(u.Fragment,{children:[u.jsx(yT,{})," ",u.jsx("span",{className:"ml-3",children:"Activate Client"})]})}),u.jsxs("button",{onClick:()=>V("REVERSE_WINNINGS",q),className:"flex items-center w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-brand-secondary hover:text-red-300",children:[u.jsx(xT,{})," ",u.jsx("span",{className:"ml-3",children:"Reverse Winnings"})]})]})})]})})]},q.id))})]}),H.length===0&&u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-brand-text-secondary",children:["No clients found. ",F&&"Try adjusting your search."]})})]}),d&&u.jsx(lT,{title:d.type==="ADD_CLIENT"?"Add New Client":d.type==="EDIT_CLIENT"?`Edit Details: ${(Wc=d.data)==null?void 0:Wc.username}`:d.type==="EDIT_RATES"?`Edit Rates: ${(Zc=d.data)==null?void 0:Zc.username}`:d.type==="CHANGE_PASSWORD"?`Change Password: ${(ed=d.data)==null?void 0:ed.username}`:d.type==="CLIENT_DRAW_REPORT"?`Bet Report: ${(td=d.data)==null?void 0:td.username}`:d.type==="FINANCIAL_LEDGER"?`Financial Ledger: ${(nd=d.data)==null?void 0:nd.username}`:d.type==="REVERSE_WINNINGS"?`Reverse Winnings: ${(od=d.data)==null?void 0:od.username}`:`Manage Wallet: ${(sd=d.data)==null?void 0:sd.username}`,onClose:Y,children:tt()})]})},cn=({title:e,value:t,className:n=""})=>u.jsxs("div",{className:"bg-brand-secondary p-4 rounded-lg shadow",children:[u.jsx("p",{className:"text-sm text-brand-text-secondary",children:e}),u.jsx("p",{className:`text-2xl font-bold ${n}`,children:t})]}),ze=({children:e,onClick:t,sortKey:n,currentSort:o,direction:s,className:i=""})=>{const r=o===n,c="px-6 py-3 cursor-pointer transition-colors hover:bg-brand-secondary/70",f=r?"text-brand-primary":"";return u.jsxs("th",{scope:"col",className:`${c} ${f} ${i}`,onClick:()=>t(n),children:[e,r&&(s==="asc"?" ":" ")]})},Wi=cn,xr=ze,vT=({draw:e})=>{var x,v,A;const{getDrawStats:t,bets:n}=ce(),[o,s]=S.useState("breakdown"),[i,r]=S.useState({key:"totalStake",direction:"desc"}),[c,f]=S.useState(null),[d,m]=S.useState(!0);S.useEffect(()=>{const w=async()=>{m(!0);try{const E=await t(e.id);f(E)}catch(E){console.error("Failed to fetch draw report:",E),f(null)}finally{m(!1)}};e&&e.status==="FINISHED"?w():(m(!1),f(null))},[e,t]);const p=S.useMemo(()=>{if(!(c!=null&&c.betsByNumber))return[];const w=[...c.betsByNumber.entries()];return w.sort(([,E],[,_])=>{const M=i.key==="players"?E.players.size:E[i.key],D=i.key==="players"?_.players.size:_[i.key];return M<D?i.direction==="asc"?-1:1:M>D?i.direction==="asc"?1:-1:0}),w},[c,i]),h={[I.FourDigits]:1e4,[I.ThreeDigits]:1e3,[I.TwoDigits]:100,[I.OneDigit]:10},g=S.useMemo(()=>{const w=n.filter(_=>_.drawId===e.id),E=new Map;for(const _ of w)E.has(_.gameType)||E.set(_.gameType,new Set),E.get(_.gameType).add(_.number);return E},[e.id,n]);if(d)return u.jsx("p",{className:"text-brand-text-secondary",children:"Loading report..."});if(!c)return u.jsx("p",{className:"text-brand-text-secondary",children:"Could not generate a report for this draw."});const C=w=>{let E="desc";i.key===w&&i.direction==="desc"&&(E="asc"),r({key:w,direction:E})},T=Array.from(((x=c.categoryAnalysis)==null?void 0:x.entries())||[]),N=Array.from(((v=c.digitAnalysis)==null?void 0:v.entries())||[]),b=Array.from(((A=c.conditionAnalysis)==null?void 0:A.entries())||[]),y=w=>w.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-brand-text",children:[u.jsx(Wi,{title:"Total Stake",value:`RS. ${y(c.totalStake)}`}),u.jsx(Wi,{title:"Total Payout",value:`RS. ${y(c.totalPayout)}`,className:"text-yellow-400"}),u.jsx(Wi,{title:"Total Commission",value:`RS. ${y(c.totalCommission||0)}`,className:"text-blue-400"}),u.jsx(Wi,{title:"Net Profit/Loss",value:`RS. ${y(c.netProfit)}`,className:c.netProfit>=0?"text-green-400":"text-red-400"})]}),u.jsx("div",{className:"border-b border-brand-secondary",children:u.jsxs("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:[u.jsx("button",{onClick:()=>s("breakdown"),className:`px-3 py-2 font-semibold ${o==="breakdown"?"text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary"}`,children:"Bet Breakdown"}),u.jsx("button",{onClick:()=>s("condition"),className:`px-3 py-2 font-semibold ${o==="condition"?"text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary"}`,children:"Condition Analysis"}),u.jsx("button",{onClick:()=>s("category"),className:`px-3 py-2 font-semibold ${o==="category"?"text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary"}`,children:"Category Analysis"}),u.jsx("button",{onClick:()=>s("digit"),className:`px-3 py-2 font-semibold ${o==="digit"?"text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary"}`,children:"Digit Analysis"})]})}),u.jsxs("div",{className:"overflow-x-auto bg-brand-bg rounded-lg max-h-96",children:[o==="breakdown"&&u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Number"}),u.jsx(xr,{onClick:()=>C("players"),sortKey:"players",currentSort:i.key,direction:i.direction,className:"text-center",children:"Player Count"}),u.jsx(xr,{onClick:()=>C("count"),sortKey:"count",currentSort:i.key,direction:i.direction,className:"text-center",children:"Bet Count"}),u.jsx(xr,{onClick:()=>C("totalStake"),sortKey:"totalStake",currentSort:i.key,direction:i.direction,className:"text-right",children:"Total Stake"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:p.map(([w,E])=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-3 font-mono font-bold text-brand-text",children:w}),u.jsx("td",{className:"px-6 py-3 text-center",children:E.players.size}),u.jsx("td",{className:"px-6 py-3 text-center",children:E.count}),u.jsxs("td",{className:"px-6 py-3 text-right font-mono",children:["RS. ",y(E.totalStake)]})]},w))})]}),o==="condition"&&u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Condition"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total Stake"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total Payout"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Net Profit/Loss"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:b.map(([w,E])=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-3 font-bold text-brand-text",children:w}),u.jsxs("td",{className:"px-6 py-3 text-right font-mono",children:["RS. ",y(E.totalStake)]}),u.jsxs("td",{className:"px-6 py-3 text-right font-mono text-yellow-400",children:["RS. ",y(E.totalPayout)]}),u.jsxs("td",{className:`px-6 py-3 text-right font-mono ${E.netProfit>=0?"text-green-400":"text-red-400"}`,children:["RS. ",y(E.netProfit)]})]},w))})]}),o==="category"&&u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Game Type"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Booked / Total"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Coverage"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total Stake"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Bet Count"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Player Count"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:T.map(([w,E])=>{var B;const _=h[w]||0,M=((B=g.get(w))==null?void 0:B.size)||0,D=_>0?`${(M/_*100).toFixed(2)}%`:"N/A";return u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-3 font-bold text-brand-text",children:Yt(w)}),u.jsxs("td",{className:"px-6 py-3 font-mono",children:[M.toLocaleString()," / ",_>0?_.toLocaleString():"N/A"]}),u.jsx("td",{className:`px-6 py-3 text-center font-mono ${M>0?"text-green-400":""}`,children:D}),u.jsxs("td",{className:"px-6 py-3 text-right font-mono",children:["RS. ",y(E.totalStake)]}),u.jsx("td",{className:"px-6 py-3 text-center",children:E.betCount}),u.jsx("td",{className:"px-6 py-3 text-center",children:E.playerCount})]},w)})})]}),o==="digit"&&u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Digit/Combination"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Player Count"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Bet Count"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total Stake"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:N.sort((w,E)=>E[1].totalStake-w[1].totalStake).map(([w,E])=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-3 font-mono font-bold text-brand-text",children:w}),u.jsx("td",{className:"px-6 py-3",children:E.playerCount}),u.jsx("td",{className:"px-6 py-3",children:E.betCount}),u.jsxs("td",{className:"px-6 py-3 text-right font-mono",children:["RS. ",y(E.totalStake)]})]},w))})]})]})]})},CT=({draw:e})=>{const{getLiveDrawAnalysis:t}=ce(),[n,o]=ol.useState(null),[s,i]=ol.useState(!0);if(ol.useEffect(()=>{(async()=>{i(!0);const g=await t(e.id);o(g),i(!1)})()},[e.id,t]),s)return u.jsx("div",{className:"text-center p-8 text-brand-text-secondary",children:"Loading live report..."});if(!n)return u.jsxs("div",{className:"text-center p-8 text-brand-text-secondary",children:[u.jsx("p",{className:"font-semibold text-brand-text",children:"No Betting Data Found"}),u.jsx("p",{className:"text-sm mt-2",children:"There have been no bets placed for this draw yet, so a live analysis cannot be generated."})]});const{positionalDigitCounts:r,totalDigitCounts:c,consolidatedBets:f,positionalDigitStake:d}=n,m=h=>h.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),p=h=>{const g=[I.FourDigits,I.ThreeDigits,I.TwoDigits].filter(C=>r[C]&&r[C][h]);return g.length===0?u.jsx("p",{className:"text-sm text-brand-text-secondary",children:"No multi-digit bets found for this condition."}):u.jsx("div",{className:"space-y-4",children:g.map(C=>u.jsxs("div",{children:[u.jsxs("h5",{className:"font-semibold text-brand-text",children:[Yt(C)," Bets"]}),u.jsx("div",{className:"mt-2 space-y-1 text-sm text-brand-text-secondary pl-4",children:Object.entries(r[C][h]).map(([T,N])=>{const b=N.slice(0,5).map(y=>`'${y.digit}' (${y.count} times)`).join(", ");return b?u.jsxs("p",{children:[u.jsxs("span",{className:"font-semibold w-20 inline-block",children:[parseInt(T,10)+1,"st Digit:"]}),u.jsx("span",{className:"font-mono",children:b})]},T):null})})]},C))})};return u.jsxs("div",{className:"space-y-8 text-brand-text-secondary",children:[u.jsxs("div",{className:"bg-brand-bg p-4 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-primary mb-4",children:"Bet & Amount Tracking by Position"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 text-center",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-3 text-left",children:"Digit"}),u.jsx("th",{className:"px-3 py-3",children:"1st Digit Total"}),u.jsx("th",{className:"px-3 py-3",children:"2nd Digit Total"}),u.jsx("th",{className:"px-3 py-3",children:"3rd Digit Total"}),u.jsx("th",{className:"px-3 py-3",children:"4th Digit Total"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50 text-center",children:["0","1","2","3","4","5","6","7","8","9"].map(h=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-3 py-2 font-mono font-bold text-brand-text text-lg text-left",children:h}),u.jsxs("td",{className:"px-3 py-2 font-mono",children:["RS. ",m(d[0][h]||0)]}),u.jsxs("td",{className:"px-3 py-2 font-mono",children:["RS. ",m(d[1][h]||0)]}),u.jsxs("td",{className:"px-3 py-2 font-mono",children:["RS. ",m(d[2][h]||0)]}),u.jsxs("td",{className:"px-3 py-2 font-mono",children:["RS. ",m(d[3][h]||0)]})]},h))})]})})]}),u.jsxs("div",{className:"bg-brand-bg p-4 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-primary mb-4",children:"Most Played Digits by Position"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-brand-text mb-2 border-b border-brand-secondary pb-1",children:"First Position Bets"}),p(ie.First)]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-brand-text mb-2 border-b border-brand-secondary pb-1",children:"Second Position Bets"}),p(ie.Second)]})]})]}),u.jsxs("div",{className:"bg-brand-bg p-4 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-primary mb-4",children:"Overall Digit Frequency"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full text-sm text-left",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Digit"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total Times Played"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:c.map(({digit:h,count:g})=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-2 font-mono font-bold text-brand-text text-lg",children:h}),u.jsx("td",{className:"px-6 py-2 text-right font-mono text-lg",children:g.toLocaleString()})]},h))})]})})]}),u.jsxs("div",{className:"bg-brand-bg p-4 rounded-lg border border-brand-secondary",children:[u.jsxs("h3",{className:"text-xl font-bold text-brand-primary mb-4",children:["Consolidated Betting Book (",n.totalBets," Bets)"]}),u.jsx("div",{className:"space-y-6 max-h-[400px] overflow-y-auto pr-2",children:Object.entries(f).map(([h,g])=>u.jsx("div",{children:Object.entries(g).map(([C,T])=>u.jsxs("div",{className:"mb-4",children:[u.jsxs("h4",{className:"text-lg font-semibold text-brand-text mb-2",children:[Yt(h)," - ",u.jsx("span",{className:"capitalize",children:C.toLowerCase()})]}),u.jsx("div",{className:"overflow-x-auto bg-brand-secondary/20 rounded",children:u.jsxs("table",{className:"min-w-full text-sm text-left",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-4 py-2",children:"Number"}),u.jsx("th",{scope:"col",className:"px-4 py-2 text-right",children:"Total Stake"}),u.jsx("th",{scope:"col",className:"px-4 py-2 text-center",children:"Bet Count"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/30",children:Object.entries(T).sort((N,b)=>b[1].totalStake-N[1].totalStake).map(([N,b])=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-1.5 font-mono",children:N}),u.jsxs("td",{className:"px-4 py-1.5 text-right font-mono",children:["RS. ",b.totalStake.toLocaleString()]}),u.jsx("td",{className:"px-4 py-1.5 text-center font-mono",children:b.betCount})]},N))})]})})]},`${h}-${C}`))},h))})]})]})},br=ki,TT=vT,ST=CT,NT=()=>{const{draws:e,declareWinner:t,setDeclaredNumbers:n,marketOverride:o,setMarketOverride:s,updateDrawTime:i}=ce(),[r,c]=S.useState({}),[f,d]=S.useState(null),[m,p]=S.useState(null),[h,g]=S.useState(null),[C,T]=S.useState(""),[N,b]=S.useState(null);S.useEffect(()=>{c(k=>{var te;const V={...k};let Y=!1;for(const Re of e)Object.prototype.hasOwnProperty.call(V,Re.id)||(V[Re.id]=((te=Re.winningNumbers)==null?void 0:te.length)===4?Re.winningNumbers:["","","",""],Y=!0);return Y?V:k})},[e]);const y=k=>!Array.isArray(k)||k.length!==4||k.some(V=>!/^\d{4}$/.test(V))?(alert("Error: All four fields must be filled with a 4-digit number."),!1):!0,x=k=>{const V=r[k];y(V)&&n(k,V)},v=k=>{const V=r[k];y(V)&&(t(k,V),b(null))},A=(k,V,Y)=>{const te=[...r[k]||["","","",""]];te[Y]=V.replace(/[^0-9]/g,"").slice(0,4),c(Re=>({...Re,[k]:te}))},w=k=>{b(k.id);const V=k.winningNumbers||[],Y=[V[0]||"",V[1]||"",V[2]||"",V[3]||""];c(te=>({...te,[k.id]:Y}))},E=()=>{b(null)},_=k=>{switch(k){case Q.Open:return"text-green-400";case Q.Closed:return"text-yellow-400";case Q.Declared:return"text-yellow-400";case Q.Finished:return"text-blue-400";case Q.Upcoming:return"text-gray-400";case Q.Suspended:return"text-gray-500"}},M=k=>{k.status===Q.Finished&&d(k)},D=(k,V)=>{k.stopPropagation(),(V.status===Q.Open||V.status===Q.Closed||V.status===Q.Declared)&&p(V)},B=k=>{const V=k.drawTime.toTimeString().substring(0,5);T(V),g({draw:k})},R=()=>{if(h!=null&&h.draw&&C){const k=h.draw,[V,Y]=C.split(":").map(Number),te=new Date(k.drawTime);te.setHours(V,Y,0,0),i(k.id,te),g(null)}},F=k=>{if(window.confirm(`Are you sure you want to re-open Draw ${k.name} by delaying its time by 15 minutes?`)){const Y=new Date(k.drawTime.getTime()+9e5);i(k.id,Y)}},Z=k=>{if(k==="AUTO"){s(k);return}const V=k==="OPEN"?"open":"close";window.confirm(`Are you sure you want to forcefully ${V} the market for all draws? This will override the automatic schedule.`)&&s(k)},K=({mode:k,label:V})=>{const Y=o===k;return u.jsx("button",{onClick:()=>Z(k),className:`font-bold py-2 px-4 rounded-lg transition-colors flex-1 ${Y?"bg-brand-primary text-brand-bg shadow-lg":"bg-brand-secondary hover:bg-opacity-80 text-brand-text-secondary"}`,children:V})},H=(()=>{switch(o){case"OPEN":return{text:"Market is Manually OPEN",color:"text-green-400"};case"CLOSED":return{text:"Market is Manually CLOSED",color:"text-red-400"};default:return{text:"Market is running on Automatic schedule",color:"text-blue-400"}}})(),P=()=>h?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("p",{className:"text-brand-text-secondary",children:["Current draw time: ",h.draw.drawTime.toLocaleTimeString()]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"newTime",children:"New Draw Time"}),u.jsx("input",{id:"newTime",type:"time",value:C,onChange:k=>T(k.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsx("button",{onClick:R,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg",children:"Save Time"})]}):null,z=["First (F) Number","Second (S) #1","Second (S) #2","Second (S) #3"];return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-text mb-4",children:"Draw Management"}),u.jsxs("div",{className:"bg-brand-surface p-4 rounded-lg border border-brand-secondary mb-6",children:[u.jsx("h3",{className:"text-lg font-bold text-brand-text mb-2",children:"Global Market Control"}),u.jsx("p",{className:`text-sm mb-4 font-semibold ${H.color}`,children:H.text}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[u.jsx(K,{mode:"AUTO",label:"Set to Automatic"}),u.jsx(K,{mode:"OPEN",label:"Force Open Market"}),u.jsx(K,{mode:"CLOSED",label:"Force Close Market"})]})]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(k=>{const V=N===k.id,Y=k.status===Q.Finished,te=k.status===Q.Suspended,Re=k.status===Q.Closed,G=k.status===Q.Declared,$=(Y||G)&&!V,J=Re||G||V,he=Y||te;return u.jsxs("div",{className:`bg-brand-surface rounded-lg shadow p-4 border flex flex-col ${V?"border-brand-primary shadow-glow":"hover:border-brand-primary/80 border-brand-secondary"} ${$&&Y?"cursor-pointer":""}`,onClick:()=>$&&Y&&M(k),children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-bold text-brand-text text-lg",children:["Draw ",k.name]}),u.jsxs("p",{className:`text-sm font-semibold ${_(k.status)}`,children:[k.status,V&&u.jsx("span",{className:"text-yellow-400",children:" (Editing)"})]})]}),u.jsx("span",{className:"text-sm text-brand-text-secondary font-mono",children:k.drawTime.toLocaleTimeString()})]}),u.jsx("div",{className:"flex-grow mt-4",children:$?u.jsxs("div",{children:[u.jsx("p",{className:"text-brand-text-secondary text-sm mb-1",children:"Winning Numbers:"}),k.winningNumbers&&k.winningNumbers.length>0?u.jsxs(u.Fragment,{children:[u.jsxs("p",{className:"text-3xl font-bold text-brand-primary font-mono",title:"First Position Number (F)",children:[k.winningNumbers[0]," ",u.jsx("span",{className:"text-xs text-yellow-500",children:"(F)"})]}),k.winningNumbers.length>1&&u.jsxs("div",{className:"text-brand-text-secondary text-sm font-mono mt-1",title:"Second Position Numbers (S)",children:[k.winningNumbers.slice(1).join("  ")," ",u.jsx("span",{className:"text-xs",children:"(S)"})]})]}):u.jsx("p",{className:"text-brand-text-secondary text-sm font-mono",children:"(Numbers Missing)"}),u.jsxs("div",{className:"flex justify-between items-center mt-3",children:[u.jsx("p",{className:"text-xs text-brand-text-secondary",children:Y?"Click card to view report":"Numbers are now public."}),u.jsx("button",{onClick:re=>{re.stopPropagation(),w(k)},className:"bg-brand-accent text-white font-bold py-1 px-3 rounded-md hover:bg-sky-400 text-sm transition-colors",children:"Edit"})]})]}):u.jsxs("div",{className:"space-y-4",children:[!he&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("button",{onClick:()=>B(k),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-3 rounded-md transition-colors text-sm",children:"Adjust Time"}),u.jsx("button",{onClick:()=>F(k),className:"flex-1 bg-teal-600 hover:bg-teal-500 text-white font-bold py-2 px-3 rounded-md transition-colors text-sm",children:"Re-open (Delay 15m)"})]}),J&&u.jsxs("div",{className:"space-y-2 pt-4 border-t border-brand-secondary/50",children:[z.map((re,Nt)=>u.jsx("input",{type:"text",maxLength:4,placeholder:re,value:(r[k.id]||[])[Nt]||"",onChange:tt=>A(k.id,tt.target.value,Nt),className:"w-full bg-brand-bg border border-brand-secondary rounded-md py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",disabled:Y&&!V},Nt)),u.jsxs("div",{className:"flex gap-2 items-center flex-wrap pt-2",children:[V?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:re=>{re.stopPropagation(),v(k.id)},className:"flex-grow bg-green-600 text-white font-bold py-2 px-4 rounded-md hover:bg-green-700 transition-colors",children:"Update & Finalize"}),u.jsx("button",{onClick:re=>{re.stopPropagation(),E()},className:"bg-gray-500 text-white p-2 rounded-md hover:bg-gray-600 transition-colors",title:"Cancel Edit",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})})})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>x(k.id),className:"flex-grow bg-brand-accent text-white font-bold py-2 px-3 rounded-md hover:bg-sky-400 transition-colors",children:"Declare Numbers"}),u.jsx("button",{onClick:()=>v(k.id),disabled:!(Re||G),className:"flex-grow bg-brand-primary text-brand-bg font-bold py-2 px-3 rounded-md disabled:bg-brand-secondary disabled:cursor-not-allowed hover:bg-yellow-400 transition-colors",children:"Finalize & Pay"})]}),(k.status===Q.Open||k.status===Q.Closed||G)&&u.jsx("button",{onClick:re=>D(re,k),className:"bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 transition-colors",title:"View Live Trend Report",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",viewBox:"0 0 16 16",children:u.jsx("path",{d:"M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2z"})})})]})]})]})})]},k.id)})}),f&&u.jsx(br,{title:`Report for Draw ${f.name}`,onClose:()=>d(null),children:u.jsx(TT,{draw:f})}),m&&u.jsx(br,{title:`Live Trend Report for Draw ${m.name}`,onClose:()=>p(null),children:u.jsx(ST,{draw:m})}),h&&u.jsx(br,{title:`Edit Time for Draw ${h.draw.name}`,onClose:()=>g(null),children:P()})]})},vr=ze,zf=cn,ET=()=>{const{bets:e,draws:t}=ce(),[n,o]=S.useState(""),[s,i]=S.useState(I.FourDigits),[r,c]=S.useState({key:"totalStake",direction:"desc"}),f=S.useMemo(()=>t.filter(g=>g.status==="OPEN"),[t]);S.useEffect(()=>{f.length>0&&!f.find(g=>g.id===n)?o(f[0].id):f.length===0&&o("")},[f,n]);const d=S.useMemo(()=>{if(!n)return{summary:[],totalStake:0,totalBets:0};const g=e.filter(b=>b.drawId===n),C=g.reduce((b,y)=>{const x=`${y.gameType}|${y.condition}|${y.number}`,v=b.get(x);return v?(v.totalStake+=y.stake,v.betCount+=1,v.clients.add(y.clientId)):b.set(x,{totalStake:y.stake,betCount:1,clients:new Set([y.clientId])}),b},new Map),T=Array.from(C.entries()).map(([b,y])=>{const[x,v,A]=b.split("|");return{gameType:x,number:A,condition:v,totalStake:y.totalStake,betCount:y.betCount,uniquePlayers:y.clients.size}}),N=g.reduce((b,y)=>b+y.stake,0);return{summary:T,totalStake:N,totalBets:g.length}},[n,e]),m=S.useMemo(()=>d.summary.filter(C=>C.gameType===s).sort((C,T)=>{const N=C[r.key],b=T[r.key];return N<b?r.direction==="asc"?-1:1:N>b?r.direction==="asc"?1:-1:C.number<T.number?-1:C.number>T.number?1:0}),[d.summary,s,r]),p=g=>{c(C=>({key:g,direction:C.key===g&&C.direction==="desc"?"asc":"desc"}))};if(f.length===0)return u.jsx("div",{className:"text-center py-8 bg-brand-surface rounded-lg",children:u.jsx("p",{className:"text-brand-text-secondary text-lg",children:"No draw is currently open. Summary is unavailable."})});const h=[I.FourDigits,I.ThreeDigits,I.TwoDigits,I.OneDigit,I.Positional];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-text",children:"Live Betting Summary"}),u.jsxs("div",{className:"w-full md:w-auto md:max-w-xs",children:[u.jsx("label",{htmlFor:"draw-summary-select",className:"sr-only",children:"Select Draw"}),u.jsx("select",{id:"draw-summary-select",value:n,onChange:g=>o(g.target.value),className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:f.map(g=>u.jsxs("option",{value:g.id,children:["Draw ",g.name]},g.id))})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-brand-text",children:[u.jsx(zf,{title:"Total Bets for this Draw",value:d.totalBets.toLocaleString()}),u.jsx(zf,{title:"Total Stake for this Draw",value:`RS. ${d.totalStake.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,className:"text-brand-primary"})]}),u.jsxs("div",{className:"bg-brand-surface rounded-lg shadow border border-brand-secondary",children:[u.jsx("div",{className:"border-b border-brand-secondary",children:u.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto px-4",children:h.map(g=>u.jsx("button",{onClick:()=>i(g),className:`whitespace-nowrap px-4 py-3 font-semibold rounded-t-lg transition-colors ${s===g?"text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary hover:text-brand-text"}`,children:Yt(g)},g))})}),u.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Number"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Condition"}),u.jsx(vr,{onClick:()=>p("totalStake"),sortKey:"totalStake",currentSort:r.key,direction:r.direction,className:"text-right",children:"Total Stake"}),u.jsx(vr,{onClick:()=>p("betCount"),sortKey:"betCount",currentSort:r.key,direction:r.direction,className:"text-center",children:"Bet Count"}),u.jsx(vr,{onClick:()=>p("uniquePlayers"),sortKey:"uniquePlayers",currentSort:r.key,direction:r.direction,className:"text-center",children:"Unique Players"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:m.length>0?m.map(g=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-3 font-mono font-bold text-brand-primary",children:g.number}),u.jsx("td",{className:"px-6 py-3",children:g.condition}),u.jsxs("td",{className:"px-6 py-3 font-mono text-right text-brand-text",children:["RS. ",g.totalStake.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),u.jsx("td",{className:"px-6 py-3 text-center",children:g.betCount}),u.jsx("td",{className:"px-6 py-3 text-center",children:g.uniquePlayers})]},`${g.number}-${g.condition}`)):u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"text-center py-8 text-brand-text-secondary",children:"No bets found for this game type in the selected draw."})})})]})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wT,AT;function MT(){return{geminiUrl:wT,vertexUrl:AT}}function _T(e,t,n,o){var s,i;if(!(e!=null&&e.baseUrl)){const r=MT();return t?(s=r.vertexUrl)!==null&&s!==void 0?s:n:(i=r.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Co{}function O(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(o,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const i=t[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function a(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const c=r.slice(0,-2);if(!(c in e))if(Array.isArray(n))e[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(e[c])){const f=e[c];if(Array.isArray(n))for(let d=0;d<f.length;d++){const m=f[d];a(m,t.slice(i+1),n[d])}else for(const d of f)a(d,t.slice(i+1),n)}return}else if(r.endsWith("[0]")){const c=r.slice(0,-3);c in e||(e[c]=[{}]);const f=e[c];a(f[0],t.slice(i+1),n);return}(!e[r]||typeof e[r]!="object")&&(e[r]={}),e=e[r]}const o=t[t.length-1],s=e[o];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[o]=n}function l(e,t){try{if(t.length===1&&t[0]==="_self")return e;for(let n=0;n<t.length;n++){if(typeof e!="object"||e===null)return;const o=t[n];if(o.endsWith("[]")){const s=o.slice(0,-2);if(s in e){const i=e[s];return Array.isArray(i)?i.map(r=>l(r,t.slice(n+1))):void 0}else return}else e=e[o]}return e}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oc(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RT(e){const t={},n=l(e,["operationName"]);n!=null&&a(t,["operationName"],n);const o=l(e,["resourceName"]);return o!=null&&a(t,["_url","resourceName"],o),t}function DT(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const r=l(e,["response","generateVideoResponse"]);return r!=null&&a(t,["response"],IT(r)),t}function kT(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const r=l(e,["response"]);return r!=null&&a(t,["response"],LT(r)),t}function IT(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>UT(r))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function LT(e){const t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>PT(r))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function UT(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],VT(n)),t}function PT(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],jT(n)),t}function BT(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function FT(e){const t={},n=l(e,["operationName"]);return n!=null&&a(t,["_url","operationName"],n),t}function VT(e){const t={},n=l(e,["video","uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["video","encodedVideo"]);o!=null&&a(t,["videoBytes"],Oc(o));const s=l(e,["encoding"]);return s!=null&&a(t,["mimeType"],s),t}function jT(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],Oc(o));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hf;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Hf||(Hf={}));var qf;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(qf||(qf={}));var Je;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Je||(Je={}));var Gf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Gf||(Gf={}));var Of;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Of||(Of={}));var $f;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})($f||($f={}));var Jf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Jf||(Jf={}));var Yf;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Yf||(Yf={}));var Kf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Kf||(Kf={}));var Xf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Xf||(Xf={}));var Qf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT"})(Qf||(Qf={}));var Wf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Wf||(Wf={}));var Zf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Zf||(Zf={}));var em;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"})(em||(em={}));var tm;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(tm||(tm={}));var ea;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(ea||(ea={}));var nm;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(nm||(nm={}));var wu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wu||(wu={}));var om;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(om||(om={}));var sm;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(sm||(sm={}));var im;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(im||(im={}));var lm;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(lm||(lm={}));var am;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(am||(am={}));var rm;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(rm||(rm={}));var um;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(um||(um={}));var cm;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(cm||(cm={}));var dm;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(dm||(dm={}));var fm;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(fm||(fm={}));var mm;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(mm||(mm={}));var pm;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pm||(pm={}));var hm;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(hm||(hm={}));var gm;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gm||(gm={}));var ym;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ym||(ym={}));var xm;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(xm||(xm={}));var bm;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(bm||(bm={}));var vm;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(vm||(vm={}));var Cm;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Cm||(Cm={}));var Tm;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Tm||(Tm={}));var Sm;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Sm||(Sm={}));var Nm;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Nm||(Nm={}));var Em;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(Em||(Em={}));var wm;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wm||(wm={}));var Am;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Am||(Am={}));var Mm;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Mm||(Mm={}));var _m;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_m||(_m={}));var Rm;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Rm||(Rm={}));var Dm;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Dm||(Dm={}));var km;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(km||(km={}));var qo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(qo||(qo={}));class Au{constructor(t){const n={};for(const o of t.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ls{get text(){var t,n,o,s,i,r,c,f;if(((s=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",m=!1;const p=[];for(const h of(f=(c=(r=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[g,C]of Object.entries(h))g!=="text"&&g!=="thought"&&(C!==null||C!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;m=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?d:void 0}get data(){var t,n,o,s,i,r,c,f;if(((s=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const m=[];for(const p of(f=(c=(r=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content)===null||c===void 0?void 0:c.parts)!==null&&f!==void 0?f:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&m.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,o,s,i,r,c,f;if(((s=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(c=(r=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,o,s,i,r,c,f,d;if(((s=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(c=(r=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,o,s,i,r,c,f,d;if(((s=(o=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(c=(r=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content)===null||c===void 0?void 0:c.parts)===null||f===void 0?void 0:f.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((m==null?void 0:m.length)!==0)return(d=m==null?void 0:m[0])===null||d===void 0?void 0:d.output}}class Im{}class Lm{}class zT{}class HT{}class qT{}class GT{}class Um{}class Pm{}class Bm{}class OT{}class ta{_fromAPIResponse({apiResponse:t,isVertexAI:n}){const o=new ta;let s;const i=t;return n?s=kT(i):s=DT(i),Object.assign(o,s),o}}class Fm{}class Vm{}class jm{}class $T{}class JT{}class YT{}class zm{}class KT{get text(){var t,n,o;let s="",i=!1;const r=[];for(const c of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[f,d]of Object.entries(c))f!=="text"&&f!=="thought"&&d!==null&&r.push(f);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;i=!0,s+=c.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var t,n,o;let s="";const i=[];for(const r of(o=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[c,f]of Object.entries(r))c!=="inlineData"&&f!==null&&i.push(c);r.inlineData&&typeof r.inlineData.data=="string"&&(s+=atob(r.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class XT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ue(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ly(e,t){const n=ue(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Uy(e){return Array.isArray(e)?e.map(t=>na(t)):[na(e)]}function na(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Py(e){const t=na(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function By(e){const t=na(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Hm(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Fy(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Hm(t)):[Hm(e)]}function Mu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function qm(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Gm(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function nt(e){if(e==null)throw new Error("ContentUnion is required");return Mu(e)?e:{role:"user",parts:Fy(e)}}function $c(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const o=nt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const n=nt(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>nt(n)):[nt(t)]}function Ut(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(qm(e)||Gm(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nt(e)]}const t=[],n=[],o=Mu(e[0]);for(const s of e){const i=Mu(s);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)t.push(s);else{if(qm(s)||Gm(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return o||t.push({role:"user",parts:Fy(n)}),t}function QT(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(o=>o!=="null");if(n.length===1)t.type=Object.values(Je).includes(n[0].toUpperCase())?n[0].toUpperCase():Je.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const o of n)t.anyOf.push({type:Object.values(Je).includes(o.toUpperCase())?o.toUpperCase():Je.TYPE_UNSPECIFIED})}}function Qo(e){const t={},n=["items"],o=["anyOf"],s=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(t.nullable=!0,e=i[1]):i[1].type==="null"&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&QT(e.type,t);for(const[r,c]of Object.entries(e))if(c!=null)if(r=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;t.type=Object.values(Je).includes(c.toUpperCase())?c.toUpperCase():Je.TYPE_UNSPECIFIED}else if(n.includes(r))t[r]=Qo(c);else if(o.includes(r)){const f=[];for(const d of c){if(d.type=="null"){t.nullable=!0;continue}f.push(Qo(d))}t[r]=f}else if(s.includes(r)){const f={};for(const[d,m]of Object.entries(c))f[d]=Qo(m);t[r]=f}else{if(r==="additionalProperties")continue;t[r]=c}return t}function Jc(e){return Qo(e)}function Yc(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Kc(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Cs(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Qo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Qo(t.response));return e}function Ts(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function WT(e,t,n,o=1){const s=!t.startsWith(`${n}/`)&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:s?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:s?`${n}/${t}`:t}function Sn(e,t){if(typeof t!="string")throw new Error("name must be a string");return WT(e,t,"cachedContents")}function Vy(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function To(e){return Oc(e)}function ZT(e){return e!=null&&typeof e=="object"&&"name"in e}function eS(e){return e!=null&&typeof e=="object"&&"video"in e}function tS(e){return e!=null&&typeof e=="object"&&"uri"in e}function jy(e){var t;let n;if(ZT(e)&&(n=e.name),!(tS(e)&&(n=e.uri,n===void 0))&&!(eS(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function zy(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Hy(e){for(const t of["models","tunedModels","publisherModels"])if(nS(e,t))return e[t];return[]}function nS(e,t){return e!==null&&typeof e=="object"&&t in e}function oS(e,t={}){const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior),{functionDeclarations:[o]}}function sS(e,t={}){const n=[],o=new Set;for(const s of e){const i=s.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const r=oS(s,t);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function qy(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(s>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function iS(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Gy(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return e;let i=!1;for(const r of s){if(typeof r!="object"||r===null)continue;const f=r.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Ss(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Oy(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lS(e){const t={},n=l(e,["responsesFile"]);n!=null&&a(t,["fileName"],n);const o=l(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>YS(r))),a(t,["inlinedResponses"],i)}const s=l(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>$S(r))),a(t,["inlinedEmbedContentResponses"],i)}return t}function aS(e){const t={},n=l(e,["predictionsFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(t,["gcsUri"],o);const s=l(e,["bigqueryDestination","outputUri"]);return s!=null&&a(t,["bigqueryUri"],s),t}function rS(e){const t={},n=l(e,["format"]);n!=null&&a(t,["predictionsFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsDestination","outputUriPrefix"],o);const s=l(e,["bigqueryUri"]);if(s!=null&&a(t,["bigqueryDestination","outputUri"],s),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ro(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata","displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["metadata","state"]);s!=null&&a(t,["state"],Oy(s));const i=l(e,["metadata","createTime"]);i!=null&&a(t,["createTime"],i);const r=l(e,["metadata","endTime"]);r!=null&&a(t,["endTime"],r);const c=l(e,["metadata","updateTime"]);c!=null&&a(t,["updateTime"],c);const f=l(e,["metadata","model"]);f!=null&&a(t,["model"],f);const d=l(e,["metadata","output"]);return d!=null&&a(t,["dest"],lS(Gy(d))),t}function _u(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["state"]);s!=null&&a(t,["state"],Oy(s));const i=l(e,["error"]);i!=null&&a(t,["error"],Jy(i));const r=l(e,["createTime"]);r!=null&&a(t,["createTime"],r);const c=l(e,["startTime"]);c!=null&&a(t,["startTime"],c);const f=l(e,["endTime"]);f!=null&&a(t,["endTime"],f);const d=l(e,["updateTime"]);d!=null&&a(t,["updateTime"],d);const m=l(e,["model"]);m!=null&&a(t,["model"],m);const p=l(e,["inputConfig"]);p!=null&&a(t,["src"],uS(p));const h=l(e,["outputConfig"]);return h!=null&&a(t,["dest"],aS(Gy(h))),t}function uS(e){const t={},n=l(e,["instancesFormat"]);n!=null&&a(t,["format"],n);const o=l(e,["gcsSource","uris"]);o!=null&&a(t,["gcsUri"],o);const s=l(e,["bigquerySource","inputUri"]);return s!=null&&a(t,["bigqueryUri"],s),t}function cS(e,t){const n={};if(l(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=l(t,["fileName"]);o!=null&&a(n,["fileName"],o);const s=l(t,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>JS(e,r))),a(n,["requests","requests"],i)}return n}function dS(e){const t={},n=l(e,["format"]);n!=null&&a(t,["instancesFormat"],n);const o=l(e,["gcsUri"]);o!=null&&a(t,["gcsSource","uris"],o);const s=l(e,["bigqueryUri"]);if(s!=null&&a(t,["bigquerySource","inputUri"],s),l(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function fS(e){const t={},n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function mS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function pS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ss(e,o)),n}function hS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ss(e,o)),n}function gS(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],vS(n));const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],yS(o));const s=l(e,["tokenCount"]);s!=null&&a(t,["tokenCount"],s);const i=l(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const r=l(e,["urlContextMetadata"]);r!=null&&a(t,["urlContextMetadata"],gN(r));const c=l(e,["avgLogprobs"]);c!=null&&a(t,["avgLogprobs"],c);const f=l(e,["groundingMetadata"]);f!=null&&a(t,["groundingMetadata"],f);const d=l(e,["index"]);d!=null&&a(t,["index"],d);const m=l(e,["logprobsResult"]);m!=null&&a(t,["logprobsResult"],m);const p=l(e,["safetyRatings"]);return p!=null&&a(t,["safetyRatings"],p),t}function yS(e){const t={},n=l(e,["citationSources"]);return n!=null&&a(t,["citations"],n),t}function xS(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function bS(e){const t={},n=l(e,["values"]);return n!=null&&a(t,["values"],n),t}function vS(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>sN(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function $y(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>iN(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function CS(e,t){const n={},o=l(e,["displayName"]);if(t!==void 0&&o!=null&&a(t,["batch","displayName"],o),l(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function TS(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const s=l(e,["dest"]);return t!==void 0&&s!=null&&a(t,["outputConfig"],rS(iS(s))),n}function Cr(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["src"]);s!=null&&a(n,["batch","inputConfig"],cS(e,qy(e,s)));const i=l(t,["config"]);return i!=null&&CS(i,n),n}function SS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],ue(e,o));const s=l(t,["src"]);s!=null&&a(n,["inputConfig"],dS(qy(e,s)));const i=l(t,["config"]);return i!=null&&TS(i,n),n}function NS(e,t){const n={},o=l(e,["displayName"]);return t!==void 0&&o!=null&&a(t,["batch","displayName"],o),n}function Tr(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["src"]);s!=null&&a(n,["batch","inputConfig"],kS(e,s));const i=l(t,["config"]);return i!=null&&NS(i,n),n}function ES(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ss(e,o)),n}function wS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ss(e,o)),n}function AS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const i=l(e,["error"]);return i!=null&&a(t,["error"],Xc(i)),t}function MS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const i=l(e,["error"]);return i!=null&&a(t,["error"],Jy(i)),t}function _S(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function RS(e,t){const n={},o=l(t,["contents"]);o!=null&&a(n,["requests[]","request","content"],$c(e,o));const s=l(t,["config"]);return s!=null&&a(n,["config"],DS(s,n)),n}function DS(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const s=l(e,["title"]);t!==void 0&&s!=null&&a(t,["requests[]","title"],s);const i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kS(e,t){const n={},o=l(t,["fileName"]);o!=null&&a(n,["file_name"],o);const s=l(t,["inlinedRequests"]);return s!=null&&a(n,["requests"],RS(e,s)),n}function IS(e){const t={},n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function LS(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function US(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function PS(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function BS(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(t,["allowedFunctionNames"],o),t}function FS(e){const t={},n=l(e,["behavior"]);n!=null&&a(t,["behavior"],n);const o=l(e,["description"]);o!=null&&a(t,["description"],o);const s=l(e,["name"]);s!=null&&a(t,["name"],s);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const c=l(e,["response"]);c!=null&&a(t,["response"],c);const f=l(e,["responseJsonSchema"]);return f!=null&&a(t,["responseJsonSchema"],f),t}function VS(e,t,n){const o={},s=l(t,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],$y(nt(s)));const i=l(t,["temperature"]);i!=null&&a(o,["temperature"],i);const r=l(t,["topP"]);r!=null&&a(o,["topP"],r);const c=l(t,["topK"]);c!=null&&a(o,["topK"],c);const f=l(t,["candidateCount"]);f!=null&&a(o,["candidateCount"],f);const d=l(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const m=l(t,["stopSequences"]);m!=null&&a(o,["stopSequences"],m);const p=l(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const C=l(t,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=l(t,["seed"]);T!=null&&a(o,["seed"],T);const N=l(t,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);const b=l(t,["responseSchema"]);b!=null&&a(o,["responseSchema"],uN(Jc(b)));const y=l(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(t,["safetySettings"]);if(n!==void 0&&x!=null){let R=x;Array.isArray(R)&&(R=R.map(F=>rN(F))),a(n,["safetySettings"],R)}const v=l(t,["tools"]);if(n!==void 0&&v!=null){let R=Ts(v);Array.isArray(R)&&(R=R.map(F=>hN(Cs(F)))),a(n,["tools"],R)}const A=l(t,["toolConfig"]);if(n!==void 0&&A!=null&&a(n,["toolConfig"],pN(A)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(t,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],Sn(e,w));const E=l(t,["responseModalities"]);E!=null&&a(o,["responseModalities"],E);const _=l(t,["mediaResolution"]);_!=null&&a(o,["mediaResolution"],_);const M=l(t,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],fN(Yc(M))),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=l(t,["thinkingConfig"]);D!=null&&a(o,["thinkingConfig"],mN(D));const B=l(t,["imageConfig"]);return B!=null&&a(o,["imageConfig"],OS(B)),o}function jS(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>gS(d))),a(t,["candidates"],f)}const s=l(e,["modelVersion"]);s!=null&&a(t,["modelVersion"],s);const i=l(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const r=l(e,["responseId"]);r!=null&&a(t,["responseId"],r);const c=l(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function zS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ss(e,o)),n}function HS(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Ss(e,o)),n}function qS(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],_S(n)),t}function GS(e){const t={},n=l(e,["timeRangeFilter"]);if(n!=null&&a(t,["timeRangeFilter"],KS(n)),l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function OS(e){const t={},n=l(e,["aspectRatio"]);return n!=null&&a(t,["aspectRatio"],n),t}function $S(e){const t={},n=l(e,["response"]);n!=null&&a(t,["response"],cN(n));const o=l(e,["error"]);return o!=null&&a(t,["error"],Xc(o)),t}function JS(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["request","model"],ue(e,o));const s=l(t,["contents"]);if(s!=null){let r=Ut(s);Array.isArray(r)&&(r=r.map(c=>$y(c))),a(n,["request","contents"],r)}const i=l(t,["config"]);return i!=null&&a(n,["request","generationConfig"],VS(e,i,n)),n}function YS(e){const t={},n=l(e,["response"]);n!=null&&a(t,["response"],jS(n));const o=l(e,["error"]);return o!=null&&a(t,["error"],Xc(o)),t}function KS(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function Xc(e){const t={},n=l(e,["details"]);n!=null&&a(t,["details"],n);const o=l(e,["code"]);o!=null&&a(t,["code"],o);const s=l(e,["message"]);return s!=null&&a(t,["message"],s),t}function Jy(e){const t={},n=l(e,["details"]);n!=null&&a(t,["details"],n);const o=l(e,["code"]);o!=null&&a(t,["code"],o);const s=l(e,["message"]);return s!=null&&a(t,["message"],s),t}function XS(e){const t={},n=l(e,["latitude"]);n!=null&&a(t,["latitude"],n);const o=l(e,["longitude"]);return o!=null&&a(t,["longitude"],o),t}function QS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=l(e,["pageToken"]);if(t!==void 0&&s!=null&&a(t,["_query","pageToken"],s),l(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function WS(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=l(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const i=l(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function ZS(e){const t={},n=l(e,["config"]);return n!=null&&QS(n,t),t}function eN(e){const t={},n=l(e,["config"]);return n!=null&&WS(n,t),t}function tN(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>Ro(r))),a(t,["batchJobs"],i)}return t}function nN(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>_u(r))),a(t,["batchJobs"],i)}return t}function oN(e){const t={},n=l(e,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>dN(s))),a(t,["speakerVoiceConfigs"],o)}return t}function sN(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],bN(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],fS(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],IS(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],US(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function iN(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],vN(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],mS(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],LS(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],PS(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function lN(e){const t={},n=l(e,["voiceName"]);return n!=null&&a(t,["voiceName"],n),t}function aN(e){const t={},n=l(e,["latLng"]);n!=null&&a(t,["latLng"],XS(n));const o=l(e,["languageCode"]);return o!=null&&a(t,["languageCode"],o),t}function rN(e){const t={};if(l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(e,["category"]);n!=null&&a(t,["category"],n);const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function uN(e){const t={},n=l(e,["anyOf"]);n!=null&&a(t,["anyOf"],n);const o=l(e,["default"]);o!=null&&a(t,["default"],o);const s=l(e,["description"]);s!=null&&a(t,["description"],s);const i=l(e,["enum"]);i!=null&&a(t,["enum"],i);const r=l(e,["example"]);r!=null&&a(t,["example"],r);const c=l(e,["format"]);c!=null&&a(t,["format"],c);const f=l(e,["items"]);f!=null&&a(t,["items"],f);const d=l(e,["maxItems"]);d!=null&&a(t,["maxItems"],d);const m=l(e,["maxLength"]);m!=null&&a(t,["maxLength"],m);const p=l(e,["maxProperties"]);p!=null&&a(t,["maxProperties"],p);const h=l(e,["maximum"]);h!=null&&a(t,["maximum"],h);const g=l(e,["minItems"]);g!=null&&a(t,["minItems"],g);const C=l(e,["minLength"]);C!=null&&a(t,["minLength"],C);const T=l(e,["minProperties"]);T!=null&&a(t,["minProperties"],T);const N=l(e,["minimum"]);N!=null&&a(t,["minimum"],N);const b=l(e,["nullable"]);b!=null&&a(t,["nullable"],b);const y=l(e,["pattern"]);y!=null&&a(t,["pattern"],y);const x=l(e,["properties"]);x!=null&&a(t,["properties"],x);const v=l(e,["propertyOrdering"]);v!=null&&a(t,["propertyOrdering"],v);const A=l(e,["required"]);A!=null&&a(t,["required"],A);const w=l(e,["title"]);w!=null&&a(t,["title"],w);const E=l(e,["type"]);return E!=null&&a(t,["type"],E),t}function cN(e){const t={},n=l(e,["embedding"]);n!=null&&a(t,["embedding"],bS(n));const o=l(e,["tokenCount"]);return o!=null&&a(t,["tokenCount"],o),t}function dN(e){const t={},n=l(e,["speaker"]);n!=null&&a(t,["speaker"],n);const o=l(e,["voiceConfig"]);return o!=null&&a(t,["voiceConfig"],Yy(o)),t}function fN(e){const t={},n=l(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],Yy(n));const o=l(e,["multiSpeakerVoiceConfig"]);o!=null&&a(t,["multiSpeakerVoiceConfig"],oN(o));const s=l(e,["languageCode"]);return s!=null&&a(t,["languageCode"],s),t}function mN(e){const t={},n=l(e,["includeThoughts"]);n!=null&&a(t,["includeThoughts"],n);const o=l(e,["thinkingBudget"]);return o!=null&&a(t,["thinkingBudget"],o),t}function pN(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],BS(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],aN(o)),t}function hN(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>FS(d))),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(t,["googleSearch"],GS(o));const s=l(e,["googleSearchRetrieval"]);if(s!=null&&a(t,["googleSearchRetrieval"],qS(s)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(t,["urlContext"],yN());const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],xS(r));const c=l(e,["codeExecution"]);return c!=null&&a(t,["codeExecution"],c),t}function gN(e){const t={},n=l(e,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>xN(s))),a(t,["urlMetadata"],o)}return t}function yN(){return{}}function xN(e){const t={},n=l(e,["retrievedUrl"]);n!=null&&a(t,["retrievedUrl"],n);const o=l(e,["urlRetrievalStatus"]);return o!=null&&a(t,["urlRetrievalStatus"],o),t}function bN(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function vN(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function Yy(e){const t={},n=l(e,["prebuiltVoiceConfig"]);return n!=null&&a(t,["prebuiltVoiceConfig"],lN(n)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var po;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(po||(po={}));class Ii{constructor(t,n,o,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,o,s)}init(t,n,o){var s,i;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let r={config:{}};!o||Object.keys(o).length===0?r={config:{}}:typeof o=="object"?r=Object.assign({},o):r=o,r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(i=(s=r.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CN extends Co{constructor(t){super(),this.apiClient=t,this.create=async n=>{var o,s;if(this.apiClient.isVertexAI())return n.config=this.formatDestination(n.src,n.config),this.createInternal(n);const i=n.src;if(!(Array.isArray(n.src)||i.inlinedRequests!==void 0))return this.createInternal(n);const c=this.createInlinedGenerateContentRequest(n),f=c.path,d=c.body,m=Cr(this.apiClient,n)._query||{};return this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()).then(h=>Ro(h))},this.createEmbeddings=async n=>{var o,s;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const c=this.createInlinedEmbedContentRequest(n),f=c.path,d=c.body,m=Tr(this.apiClient,n)._query||{};return this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()).then(h=>Ro(h))},this.list=async(n={})=>new Ii(po.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=Cr(this.apiClient,t),o=n._url,s=O("{model}:batchGenerateContent",o),c=n.batch.inputConfig.requests,f=c.requests,d=[];for(const m of f){const p=Object.assign({},m);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:s,body:n}}createInlinedEmbedContentRequest(t){const n=Tr(this.apiClient,t),o=n._url,s=O("{model}:asyncBatchEmbedContent",o),c=n.batch.inputConfig.requests,f=c.requests,d=[];delete c.config;for(const m of f){const p=Object.assign({},m),h=p.request;for(const g in p)g!=="request"&&(h[g]=p[g],delete p[g]);d.push(p)}return c.requests=d,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const o=n?Object.assign({},n):{},s=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${s}`),o.dest===void 0){const i=this.getGcsUri(t),r=this.getBigqueryUri(t);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${s}`;else if(r)o.dest=`${r}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=SS(this.apiClient,t);return c=O("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>_u(m))}else{const d=Cr(this.apiClient,t);return c=O("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>Ro(m))}}async createEmbeddingsInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Tr(this.apiClient,t);return i=O("{model}:asyncBatchEmbedContent",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Ro(f))}}async get(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=HS(this.apiClient,t);return c=O("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>_u(m))}else{const d=zS(this.apiClient,t);return c=O("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>Ro(m))}}async cancel(t){var n,o,s,i;let r="",c={};if(this.apiClient.isVertexAI()){const f=hS(this.apiClient,t);r=O("batchPredictionJobs/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const f=pS(this.apiClient,t);r=O("batches/{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=eN(t);return c=O("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=nN(m),h=new zm;return Object.assign(h,p),h})}else{const d=ZS(t);return c=O("batches",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=tN(m),h=new zm;return Object.assign(h,p),h})}}async delete(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=wS(this.apiClient,t);return c=O("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>MS(m))}else{const d=ES(this.apiClient,t);return c=O("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>AS(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TN(e){const t={},n=l(e,["apiKeyString"]);return n!=null&&a(t,["apiKeyString"],n),t}function SN(e){const t={},n=l(e,["apiKeyConfig"]);n!=null&&a(t,["apiKeyConfig"],TN(n));const o=l(e,["authType"]);o!=null&&a(t,["authType"],o);const s=l(e,["googleServiceAccountConfig"]);s!=null&&a(t,["googleServiceAccountConfig"],s);const i=l(e,["httpBasicAuthConfig"]);i!=null&&a(t,["httpBasicAuthConfig"],i);const r=l(e,["oauthConfig"]);r!=null&&a(t,["oauthConfig"],r);const c=l(e,["oidcConfig"]);return c!=null&&a(t,["oidcConfig"],c),t}function NN(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function EN(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["data"]);o!=null&&a(t,["data"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function Cl(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["model"]);s!=null&&a(t,["model"],s);const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=l(e,["updateTime"]);r!=null&&a(t,["updateTime"],r);const c=l(e,["expireTime"]);c!=null&&a(t,["expireTime"],c);const f=l(e,["usageMetadata"]);return f!=null&&a(t,["usageMetadata"],f),t}function Tl(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["model"]);s!=null&&a(t,["model"],s);const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=l(e,["updateTime"]);r!=null&&a(t,["updateTime"],r);const c=l(e,["expireTime"]);c!=null&&a(t,["expireTime"],c);const f=l(e,["usageMetadata"]);return f!=null&&a(t,["usageMetadata"],f),t}function wN(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function AN(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function Om(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>cE(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function $m(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>dE(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function MN(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const s=l(e,["expireTime"]);t!==void 0&&s!=null&&a(t,["expireTime"],s);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=l(e,["contents"]);if(t!==void 0&&r!=null){let m=Ut(r);Array.isArray(m)&&(m=m.map(p=>Om(p))),a(t,["contents"],m)}const c=l(e,["systemInstruction"]);t!==void 0&&c!=null&&a(t,["systemInstruction"],Om(nt(c)));const f=l(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(p=>gE(p))),a(t,["tools"],m)}const d=l(e,["toolConfig"]);if(t!==void 0&&d!=null&&a(t,["toolConfig"],pE(d)),l(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _N(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const s=l(e,["expireTime"]);t!==void 0&&s!=null&&a(t,["expireTime"],s);const i=l(e,["displayName"]);t!==void 0&&i!=null&&a(t,["displayName"],i);const r=l(e,["contents"]);if(t!==void 0&&r!=null){let p=Ut(r);Array.isArray(p)&&(p=p.map(h=>$m(h))),a(t,["contents"],p)}const c=l(e,["systemInstruction"]);t!==void 0&&c!=null&&a(t,["systemInstruction"],$m(nt(c)));const f=l(e,["tools"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>yE(h))),a(t,["tools"],p)}const d=l(e,["toolConfig"]);t!==void 0&&d!=null&&a(t,["toolConfig"],hE(d));const m=l(e,["kmsKeyName"]);return t!==void 0&&m!=null&&a(t,["encryption_spec","kmsKeyName"],m),n}function RN(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Ly(e,o));const s=l(t,["config"]);return s!=null&&MN(s,n),n}function DN(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["model"],Ly(e,o));const s=l(t,["config"]);return s!=null&&_N(s,n),n}function kN(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Sn(e,o)),n}function IN(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Sn(e,o)),n}function LN(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function UN(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function PN(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function BN(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function FN(e){const t={},n=l(e,["excludeDomains"]);return n!=null&&a(t,["excludeDomains"],n),t}function VN(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function jN(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function zN(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function HN(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function qN(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(t,["allowedFunctionNames"],o),t}function GN(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(t,["allowedFunctionNames"],o),t}function ON(e){const t={},n=l(e,["behavior"]);n!=null&&a(t,["behavior"],n);const o=l(e,["description"]);o!=null&&a(t,["description"],o);const s=l(e,["name"]);s!=null&&a(t,["name"],s);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const c=l(e,["response"]);c!=null&&a(t,["response"],c);const f=l(e,["responseJsonSchema"]);return f!=null&&a(t,["responseJsonSchema"],f),t}function $N(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["parameters"]);s!=null&&a(t,["parameters"],s);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const r=l(e,["response"]);r!=null&&a(t,["response"],r);const c=l(e,["responseJsonSchema"]);return c!=null&&a(t,["responseJsonSchema"],c),t}function JN(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Sn(e,o)),n}function YN(e,t){const n={},o=l(t,["name"]);return o!=null&&a(n,["_url","name"],Sn(e,o)),n}function KN(e){const t={},n=l(e,["authConfig"]);return n!=null&&a(t,["authConfig"],SN(n)),t}function XN(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],PN(n)),t}function QN(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],BN(n)),t}function WN(e){const t={},n=l(e,["timeRangeFilter"]);if(n!=null&&a(t,["timeRangeFilter"],eE(n)),l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function ZN(e){const t={},n=l(e,["timeRangeFilter"]);n!=null&&a(t,["timeRangeFilter"],tE(n));const o=l(e,["excludeDomains"]);return o!=null&&a(t,["excludeDomains"],o),t}function eE(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function tE(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function nE(e){const t={},n=l(e,["latitude"]);n!=null&&a(t,["latitude"],n);const o=l(e,["longitude"]);return o!=null&&a(t,["longitude"],o),t}function oE(e){const t={},n=l(e,["latitude"]);n!=null&&a(t,["latitude"],n);const o=l(e,["longitude"]);return o!=null&&a(t,["longitude"],o),t}function sE(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=l(e,["pageToken"]);return t!==void 0&&s!=null&&a(t,["_query","pageToken"],s),n}function iE(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=l(e,["pageToken"]);return t!==void 0&&s!=null&&a(t,["_query","pageToken"],s),n}function lE(e){const t={},n=l(e,["config"]);return n!=null&&sE(n,t),t}function aE(e){const t={},n=l(e,["config"]);return n!=null&&iE(n,t),t}function rE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>Cl(r))),a(t,["cachedContents"],i)}return t}function uE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>Tl(r))),a(t,["cachedContents"],i)}return t}function cE(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],NE(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],NN(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],VN(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],zN(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function dE(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],EE(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],EN(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],jN(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],HN(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function fE(e){const t={},n=l(e,["latLng"]);n!=null&&a(t,["latLng"],nE(n));const o=l(e,["languageCode"]);return o!=null&&a(t,["languageCode"],o),t}function mE(e){const t={},n=l(e,["latLng"]);n!=null&&a(t,["latLng"],oE(n));const o=l(e,["languageCode"]);return o!=null&&a(t,["languageCode"],o),t}function pE(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],qN(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],fE(o)),t}function hE(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],GN(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],mE(o)),t}function gE(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>ON(d))),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(t,["googleSearch"],WN(o));const s=l(e,["googleSearchRetrieval"]);if(s!=null&&a(t,["googleSearchRetrieval"],XN(s)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(t,["urlContext"],TE());const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],wN(r));const c=l(e,["codeExecution"]);return c!=null&&a(t,["codeExecution"],c),t}function yE(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>$N(h))),a(t,["functionDeclarations"],p)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const s=l(e,["googleSearch"]);s!=null&&a(t,["googleSearch"],ZN(s));const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],QN(i));const r=l(e,["enterpriseWebSearch"]);r!=null&&a(t,["enterpriseWebSearch"],FN(r));const c=l(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],KN(c)),l(e,["urlContext"])!=null&&a(t,["urlContext"],SE());const d=l(e,["computerUse"]);d!=null&&a(t,["computerUse"],AN(d));const m=l(e,["codeExecution"]);return m!=null&&a(t,["codeExecution"],m),t}function xE(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const s=l(e,["expireTime"]);return t!==void 0&&s!=null&&a(t,["expireTime"],s),n}function bE(e,t){const n={},o=l(e,["ttl"]);t!==void 0&&o!=null&&a(t,["ttl"],o);const s=l(e,["expireTime"]);return t!==void 0&&s!=null&&a(t,["expireTime"],s),n}function vE(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Sn(e,o));const s=l(t,["config"]);return s!=null&&xE(s,n),n}function CE(e,t){const n={},o=l(t,["name"]);o!=null&&a(n,["_url","name"],Sn(e,o));const s=l(t,["config"]);return s!=null&&bE(s,n),n}function TE(){return{}}function SE(){return{}}function NE(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function EE(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wE extends Co{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ii(po.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=DN(this.apiClient,t);return c=O("cachedContents",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>Tl(m))}else{const d=RN(this.apiClient,t);return c=O("cachedContents",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>Cl(m))}}async get(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=YN(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>Tl(m))}else{const d=JN(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>Cl(m))}}async delete(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=IN(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=UN(m),h=new Vm;return Object.assign(h,p),h})}else{const d=kN(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=LN(m),h=new Vm;return Object.assign(h,p),h})}}async update(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=CE(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>Tl(m))}else{const d=vE(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>Cl(m))}}async listInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=aE(t);return c=O("cachedContents",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=uE(m),h=new jm;return Object.assign(h,p),h})}else{const d=lE(t);return c=O("cachedContents",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=rE(m),h=new jm;return Object.assign(h,p),h})}}}function Jm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(e){return this instanceof Ne?(this.v=e,this):new Ne(e)}function Wo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(g){return function(C){return Promise.resolve(C).then(g,p)}}function c(g,C){o[g]&&(s[g]=function(T){return new Promise(function(N,b){i.push([g,T,N,b])>1||f(g,T)})},C&&(s[g]=C(s[g])))}function f(g,C){try{d(o[g](C))}catch(T){h(i[0][3],T)}}function d(g){g.value instanceof Ne?Promise.resolve(g.value.v).then(m,p):h(i[0][2],g)}function m(g){f("next",g)}function p(g){f("throw",g)}function h(g,C){g(C),i.shift(),i.length&&f(i[0][0],i[0][1])}}function ti(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Jm=="function"?Jm(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(r){return new Promise(function(c,f){r=e[i](r),s(c,f,r.done,r.value)})}}function s(i,r,c,f){Promise.resolve(f).then(function(d){i({value:d,done:c})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Ky(n)}function Ky(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function ME(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ym(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let o=0;for(;o<n;)if(e[o].role==="user")t.push(e[o]),o++;else{const s=[];let i=!0;for(;o<n&&e[o].role==="model";)s.push(e[o]),i&&!Ky(e[o])&&(i=!1),o++;i?t.push(...s):t.pop()}return t}class _E{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new RE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class RE{constructor(t,n,o,s={},i=[]){this.apiClient=t,this.modelsModule=n,this.model=o,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),ME(i)}async sendMessage(t){var n;await this.sendPromise;const o=nt(t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,r,c;const f=await s,d=(r=(i=f.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content,m=f.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];m!=null&&(h=(c=m.slice(p))!==null&&c!==void 0?c:[]);const g=d?[d]:[];this.recordHistory(o,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var n;await this.sendPromise;const o=nt(t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,o)}getHistory(t=!1){const n=t?Ym(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var o,s;return Wo(this,arguments,function*(){var r,c,f,d;const m=[];try{for(var p=!0,h=ti(t),g;g=yield Ne(h.next()),r=g.done,!r;p=!0){d=g.value,p=!1;const C=d;if(AE(C)){const T=(s=(o=C.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content;T!==void 0&&m.push(T)}yield yield Ne(C)}}catch(C){c={error:C}}finally{try{!p&&!r&&(f=h.return)&&(yield Ne(f.call(h)))}finally{if(c)throw c.error}}this.recordHistory(n,m)})}recordHistory(t,n,o){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Ym(o)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aa extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Aa.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DE(e){const t={},n=l(e,["file"]);return n!=null&&a(t,["file"],BE(n)),t}function kE(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function IE(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],jy(n)),t}function LE(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function Ru(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["mimeType"]);s!=null&&a(t,["mimeType"],s);const i=l(e,["sizeBytes"]);i!=null&&a(t,["sizeBytes"],i);const r=l(e,["createTime"]);r!=null&&a(t,["createTime"],r);const c=l(e,["expirationTime"]);c!=null&&a(t,["expirationTime"],c);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=l(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const m=l(e,["uri"]);m!=null&&a(t,["uri"],m);const p=l(e,["downloadUri"]);p!=null&&a(t,["downloadUri"],p);const h=l(e,["state"]);h!=null&&a(t,["state"],h);const g=l(e,["source"]);g!=null&&a(t,["source"],g);const C=l(e,["videoMetadata"]);C!=null&&a(t,["videoMetadata"],C);const T=l(e,["error"]);return T!=null&&a(t,["error"],UE(T)),t}function UE(e){const t={},n=l(e,["details"]);n!=null&&a(t,["details"],n);const o=l(e,["message"]);o!=null&&a(t,["message"],o);const s=l(e,["code"]);return s!=null&&a(t,["code"],s),t}function PE(e){const t={},n=l(e,["details"]);n!=null&&a(t,["details"],n);const o=l(e,["message"]);o!=null&&a(t,["message"],o);const s=l(e,["code"]);return s!=null&&a(t,["code"],s),t}function BE(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["mimeType"]);s!=null&&a(t,["mimeType"],s);const i=l(e,["sizeBytes"]);i!=null&&a(t,["sizeBytes"],i);const r=l(e,["createTime"]);r!=null&&a(t,["createTime"],r);const c=l(e,["expirationTime"]);c!=null&&a(t,["expirationTime"],c);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=l(e,["sha256Hash"]);d!=null&&a(t,["sha256Hash"],d);const m=l(e,["uri"]);m!=null&&a(t,["uri"],m);const p=l(e,["downloadUri"]);p!=null&&a(t,["downloadUri"],p);const h=l(e,["state"]);h!=null&&a(t,["state"],h);const g=l(e,["source"]);g!=null&&a(t,["source"],g);const C=l(e,["videoMetadata"]);C!=null&&a(t,["videoMetadata"],C);const T=l(e,["error"]);return T!=null&&a(t,["error"],PE(T)),t}function FE(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","file"],jy(n)),t}function VE(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=l(e,["pageToken"]);return t!==void 0&&s!=null&&a(t,["_query","pageToken"],s),n}function jE(e){const t={},n=l(e,["config"]);return n!=null&&VE(n,t),t}function zE(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>Ru(r))),a(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HE extends Co{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Ii(po.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>Ru(n))}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jE(t);return i=O("files",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const d=zE(f),m=new $T;return Object.assign(m,d),m})}}async createInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=DE(t);return i=O("upload/v1beta/files",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const d=kE(f),m=new JT;return Object.assign(m,d),m})}}async get(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=FE(t);return i=O("files/{file}",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Ru(f))}}async delete(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=IE(t);return i=O("files/{file}",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const d=LE(f),m=new YT;return Object.assign(m,d),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qE(){return{}}function GE(){return{}}function OE(){return{}}function $E(){return{}}function JE(e){const t={},n=l(e,["apiKeyString"]);return n!=null&&a(t,["apiKeyString"],n),t}function YE(e){const t={},n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);o!=null&&a(t,["mimeType"],o);const s=l(e,["sourceMetadata"]);return s!=null&&a(t,["sourceMetadata"],jw(s)),t}function Km(){return{}}function Xm(){return{}}function KE(e){const t={},n=l(e,["apiKeyConfig"]);n!=null&&a(t,["apiKeyConfig"],JE(n));const o=l(e,["authType"]);o!=null&&a(t,["authType"],o);const s=l(e,["googleServiceAccountConfig"]);s!=null&&a(t,["googleServiceAccountConfig"],s);const i=l(e,["httpBasicAuthConfig"]);i!=null&&a(t,["httpBasicAuthConfig"],i);const r=l(e,["oauthConfig"]);r!=null&&a(t,["oauthConfig"],r);const c=l(e,["oidcConfig"]);return c!=null&&a(t,["oidcConfig"],c),t}function XE(e){const t={},n=l(e,["disabled"]);n!=null&&a(t,["disabled"],n);const o=l(e,["startOfSpeechSensitivity"]);o!=null&&a(t,["startOfSpeechSensitivity"],o);const s=l(e,["endOfSpeechSensitivity"]);s!=null&&a(t,["endOfSpeechSensitivity"],s);const i=l(e,["prefixPaddingMs"]);i!=null&&a(t,["prefixPaddingMs"],i);const r=l(e,["silenceDurationMs"]);return r!=null&&a(t,["silenceDurationMs"],r),t}function QE(e){const t={},n=l(e,["disabled"]);n!=null&&a(t,["disabled"],n);const o=l(e,["startOfSpeechSensitivity"]);o!=null&&a(t,["startOfSpeechSensitivity"],o);const s=l(e,["endOfSpeechSensitivity"]);s!=null&&a(t,["endOfSpeechSensitivity"],s);const i=l(e,["prefixPaddingMs"]);i!=null&&a(t,["prefixPaddingMs"],i);const r=l(e,["silenceDurationMs"]);return r!=null&&a(t,["silenceDurationMs"],r),t}function WE(e){const t={},n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function ZE(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["data"]);o!=null&&a(t,["data"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function ew(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function tw(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["data"]);o!=null&&a(t,["data"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function nw(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function ow(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function sw(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>s2(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function iw(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>i2(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function lw(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>l2(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function aw(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>a2(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function rw(e){const t={},n=l(e,["triggerTokens"]);n!=null&&a(t,["triggerTokens"],n);const o=l(e,["slidingWindow"]);return o!=null&&a(t,["slidingWindow"],g2(o)),t}function uw(e){const t={},n=l(e,["triggerTokens"]);n!=null&&a(t,["triggerTokens"],n);const o=l(e,["slidingWindow"]);return o!=null&&a(t,["slidingWindow"],y2(o)),t}function cw(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function dw(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function fw(e){const t={},n=l(e,["excludeDomains"]);return n!=null&&a(t,["excludeDomains"],n),t}function mw(e){const t={},n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function pw(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function hw(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function gw(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function Xy(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function Qy(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function yw(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function xw(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function bw(e){const t={},n=l(e,["behavior"]);n!=null&&a(t,["behavior"],n);const o=l(e,["description"]);o!=null&&a(t,["description"],o);const s=l(e,["name"]);s!=null&&a(t,["name"],s);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const c=l(e,["response"]);c!=null&&a(t,["response"],c);const f=l(e,["responseJsonSchema"]);return f!=null&&a(t,["responseJsonSchema"],f),t}function vw(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["parameters"]);s!=null&&a(t,["parameters"],s);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const r=l(e,["response"]);r!=null&&a(t,["response"],r);const c=l(e,["responseJsonSchema"]);return c!=null&&a(t,["responseJsonSchema"],c),t}function Cw(e){const t={},n=l(e,["authConfig"]);return n!=null&&a(t,["authConfig"],KE(n)),t}function Tw(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],cw(n)),t}function Sw(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],dw(n)),t}function Nw(e){const t={},n=l(e,["timeRangeFilter"]);if(n!=null&&a(t,["timeRangeFilter"],ww(n)),l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Ew(e){const t={},n=l(e,["timeRangeFilter"]);n!=null&&a(t,["timeRangeFilter"],Aw(n));const o=l(e,["excludeDomains"]);return o!=null&&a(t,["excludeDomains"],o),t}function ww(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function Aw(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function Mw(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const s=l(e,["responseModalities"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","responseModalities"],s);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const r=l(e,["topP"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","topP"],r);const c=l(e,["topK"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","topK"],c);const f=l(e,["maxOutputTokens"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","maxOutputTokens"],f);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const m=l(e,["seed"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","seed"],m);const p=l(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],b2(Kc(p)));const h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],C2(h));const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=l(e,["systemInstruction"]);t!==void 0&&C!=null&&a(t,["setup","systemInstruction"],lw(nt(C)));const T=l(e,["tools"]);if(t!==void 0&&T!=null){let w=Ts(T);Array.isArray(w)&&(w=w.map(E=>S2(Cs(E)))),a(t,["setup","tools"],w)}const N=l(e,["sessionResumption"]);t!==void 0&&N!=null&&a(t,["setup","sessionResumption"],p2(N));const b=l(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&a(t,["setup","inputAudioTranscription"],Km());const y=l(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],Km());const x=l(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&a(t,["setup","realtimeInputConfig"],f2(x));const v=l(e,["contextWindowCompression"]);t!==void 0&&v!=null&&a(t,["setup","contextWindowCompression"],rw(v));const A=l(e,["proactivity"]);return t!==void 0&&A!=null&&a(t,["setup","proactivity"],c2(A)),n}function _w(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const s=l(e,["responseModalities"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","responseModalities"],s);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const r=l(e,["topP"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","topP"],r);const c=l(e,["topK"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","topK"],c);const f=l(e,["maxOutputTokens"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","maxOutputTokens"],f);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const m=l(e,["seed"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","seed"],m);const p=l(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],v2(Kc(p)));const h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],T2(h));const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=l(e,["systemInstruction"]);t!==void 0&&C!=null&&a(t,["setup","systemInstruction"],aw(nt(C)));const T=l(e,["tools"]);if(t!==void 0&&T!=null){let w=Ts(T);Array.isArray(w)&&(w=w.map(E=>N2(Cs(E)))),a(t,["setup","tools"],w)}const N=l(e,["sessionResumption"]);t!==void 0&&N!=null&&a(t,["setup","sessionResumption"],h2(N));const b=l(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&a(t,["setup","inputAudioTranscription"],Xm());const y=l(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],Xm());const x=l(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&a(t,["setup","realtimeInputConfig"],m2(x));const v=l(e,["contextWindowCompression"]);t!==void 0&&v!=null&&a(t,["setup","contextWindowCompression"],uw(v));const A=l(e,["proactivity"]);return t!==void 0&&A!=null&&a(t,["setup","proactivity"],d2(A)),n}function Rw(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],ue(e,o));const s=l(t,["config"]);return s!=null&&a(n,["config"],Mw(s,n)),n}function Dw(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],ue(e,o));const s=l(t,["config"]);return s!=null&&a(n,["config"],_w(s,n)),n}function kw(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>P2(s))),a(t,["weightedPrompts"],o)}return t}function Wy(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>nx(s))),a(t,["weightedPrompts"],o)}return t}function Du(e){const t={},n=l(e,["setup"]);n!=null&&a(t,["setup"],Zy(n));const o=l(e,["clientContent"]);o!=null&&a(t,["clientContent"],Wy(o));const s=l(e,["musicGenerationConfig"]);s!=null&&a(t,["musicGenerationConfig"],ex(s));const i=l(e,["playbackControl"]);return i!=null&&a(t,["playbackControl"],i),t}function Zy(e){const t={},n=l(e,["model"]);return n!=null&&a(t,["model"],n),t}function Iw(e){const t={},n=l(e,["text"]);n!=null&&a(t,["text"],n);const o=l(e,["filteredReason"]);return o!=null&&a(t,["filteredReason"],o),t}function Lw(e){const t={},n=l(e,["temperature"]);n!=null&&a(t,["temperature"],n);const o=l(e,["topK"]);o!=null&&a(t,["topK"],o);const s=l(e,["seed"]);s!=null&&a(t,["seed"],s);const i=l(e,["guidance"]);i!=null&&a(t,["guidance"],i);const r=l(e,["bpm"]);r!=null&&a(t,["bpm"],r);const c=l(e,["density"]);c!=null&&a(t,["density"],c);const f=l(e,["brightness"]);f!=null&&a(t,["brightness"],f);const d=l(e,["scale"]);d!=null&&a(t,["scale"],d);const m=l(e,["muteBass"]);m!=null&&a(t,["muteBass"],m);const p=l(e,["muteDrums"]);p!=null&&a(t,["muteDrums"],p);const h=l(e,["onlyBassAndDrums"]);h!=null&&a(t,["onlyBassAndDrums"],h);const g=l(e,["musicGenerationMode"]);return g!=null&&a(t,["musicGenerationMode"],g),t}function ex(e){const t={},n=l(e,["temperature"]);n!=null&&a(t,["temperature"],n);const o=l(e,["topK"]);o!=null&&a(t,["topK"],o);const s=l(e,["seed"]);s!=null&&a(t,["seed"],s);const i=l(e,["guidance"]);i!=null&&a(t,["guidance"],i);const r=l(e,["bpm"]);r!=null&&a(t,["bpm"],r);const c=l(e,["density"]);c!=null&&a(t,["density"],c);const f=l(e,["brightness"]);f!=null&&a(t,["brightness"],f);const d=l(e,["scale"]);d!=null&&a(t,["scale"],d);const m=l(e,["muteBass"]);m!=null&&a(t,["muteBass"],m);const p=l(e,["muteDrums"]);p!=null&&a(t,["muteDrums"],p);const h=l(e,["onlyBassAndDrums"]);h!=null&&a(t,["onlyBassAndDrums"],h);const g=l(e,["musicGenerationMode"]);return g!=null&&a(t,["musicGenerationMode"],g),t}function Uw(e){const t={},n=l(e,["audioChunks"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>YE(s))),a(t,["audioChunks"],o)}return t}function Pw(e){const t={};l(e,["setupComplete"])!=null&&a(t,["setupComplete"],Bw());const o=l(e,["serverContent"]);o!=null&&a(t,["serverContent"],Uw(o));const s=l(e,["filteredPrompt"]);return s!=null&&a(t,["filteredPrompt"],Iw(s)),t}function Bw(){return{}}function Fw(e){const t={},n=l(e,["musicGenerationConfig"]);return n!=null&&a(t,["musicGenerationConfig"],ex(n)),t}function Vw(e){const t={},n=l(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>nx(s))),a(t,["weightedPrompts"],o)}return t}function jw(e){const t={},n=l(e,["clientContent"]);n!=null&&a(t,["clientContent"],kw(n));const o=l(e,["musicGenerationConfig"]);return o!=null&&a(t,["musicGenerationConfig"],Lw(o)),t}function zw(e){const t={},n=l(e,["media"]);if(n!=null){let d=Uy(n);Array.isArray(d)&&(d=d.map(m=>m)),a(t,["mediaChunks"],d)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],By(o));const s=l(e,["audioStreamEnd"]);s!=null&&a(t,["audioStreamEnd"],s);const i=l(e,["video"]);i!=null&&a(t,["video"],Py(i));const r=l(e,["text"]);return r!=null&&a(t,["text"],r),l(e,["activityStart"])!=null&&a(t,["activityStart"],OE()),l(e,["activityEnd"])!=null&&a(t,["activityEnd"],qE()),t}function Hw(e){const t={},n=l(e,["media"]);if(n!=null){let d=Uy(n);Array.isArray(d)&&(d=d.map(m=>m)),a(t,["mediaChunks"],d)}const o=l(e,["audio"]);o!=null&&a(t,["audio"],By(o));const s=l(e,["audioStreamEnd"]);s!=null&&a(t,["audioStreamEnd"],s);const i=l(e,["video"]);i!=null&&a(t,["video"],Py(i));const r=l(e,["text"]);return r!=null&&a(t,["text"],r),l(e,["activityStart"])!=null&&a(t,["activityStart"],$E()),l(e,["activityEnd"])!=null&&a(t,["activityEnd"],GE()),t}function qw(e){const t={},n=l(e,["modelTurn"]);n!=null&&a(t,["modelTurn"],sw(n));const o=l(e,["turnComplete"]);o!=null&&a(t,["turnComplete"],o);const s=l(e,["interrupted"]);s!=null&&a(t,["interrupted"],s);const i=l(e,["groundingMetadata"]);i!=null&&a(t,["groundingMetadata"],i);const r=l(e,["generationComplete"]);r!=null&&a(t,["generationComplete"],r);const c=l(e,["inputTranscription"]);c!=null&&a(t,["inputTranscription"],Qm(c));const f=l(e,["outputTranscription"]);f!=null&&a(t,["outputTranscription"],Qm(f));const d=l(e,["urlContextMetadata"]);d!=null&&a(t,["urlContextMetadata"],E2(d));const m=l(e,["turnCompleteReason"]);m!=null&&a(t,["turnCompleteReason"],m);const p=l(e,["waitingForInput"]);return p!=null&&a(t,["waitingForInput"],p),t}function Gw(e){const t={},n=l(e,["modelTurn"]);n!=null&&a(t,["modelTurn"],iw(n));const o=l(e,["turnComplete"]);o!=null&&a(t,["turnComplete"],o);const s=l(e,["interrupted"]);s!=null&&a(t,["interrupted"],s);const i=l(e,["groundingMetadata"]);i!=null&&a(t,["groundingMetadata"],i);const r=l(e,["generationComplete"]);r!=null&&a(t,["generationComplete"],r);const c=l(e,["inputTranscription"]);c!=null&&a(t,["inputTranscription"],Wm(c));const f=l(e,["outputTranscription"]);f!=null&&a(t,["outputTranscription"],Wm(f));const d=l(e,["turnCompleteReason"]);d!=null&&a(t,["turnCompleteReason"],d);const m=l(e,["waitingForInput"]);return m!=null&&a(t,["waitingForInput"],m),t}function Ow(e){const t={},n=l(e,["timeLeft"]);return n!=null&&a(t,["timeLeft"],n),t}function $w(e){const t={},n=l(e,["timeLeft"]);return n!=null&&a(t,["timeLeft"],n),t}function Jw(e){const t={};l(e,["setupComplete"])!=null&&a(t,["setupComplete"],Qw());const o=l(e,["serverContent"]);o!=null&&a(t,["serverContent"],qw(o));const s=l(e,["toolCall"]);s!=null&&a(t,["toolCall"],t2(s));const i=l(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],Zw(i));const r=l(e,["usageMetadata"]);r!=null&&a(t,["usageMetadata"],_2(r));const c=l(e,["goAway"]);c!=null&&a(t,["goAway"],Ow(c));const f=l(e,["sessionResumptionUpdate"]);return f!=null&&a(t,["sessionResumptionUpdate"],Kw(f)),t}function Yw(e){const t={},n=l(e,["setupComplete"]);n!=null&&a(t,["setupComplete"],Ww(n));const o=l(e,["serverContent"]);o!=null&&a(t,["serverContent"],Gw(o));const s=l(e,["toolCall"]);s!=null&&a(t,["toolCall"],n2(s));const i=l(e,["toolCallCancellation"]);i!=null&&a(t,["toolCallCancellation"],e2(i));const r=l(e,["usageMetadata"]);r!=null&&a(t,["usageMetadata"],R2(r));const c=l(e,["goAway"]);c!=null&&a(t,["goAway"],$w(c));const f=l(e,["sessionResumptionUpdate"]);return f!=null&&a(t,["sessionResumptionUpdate"],Xw(f)),t}function Kw(e){const t={},n=l(e,["newHandle"]);n!=null&&a(t,["newHandle"],n);const o=l(e,["resumable"]);o!=null&&a(t,["resumable"],o);const s=l(e,["lastConsumedClientMessageIndex"]);return s!=null&&a(t,["lastConsumedClientMessageIndex"],s),t}function Xw(e){const t={},n=l(e,["newHandle"]);n!=null&&a(t,["newHandle"],n);const o=l(e,["resumable"]);o!=null&&a(t,["resumable"],o);const s=l(e,["lastConsumedClientMessageIndex"]);return s!=null&&a(t,["lastConsumedClientMessageIndex"],s),t}function Qw(){return{}}function Ww(e){const t={},n=l(e,["sessionId"]);return n!=null&&a(t,["sessionId"],n),t}function Zw(e){const t={},n=l(e,["ids"]);return n!=null&&a(t,["ids"],n),t}function e2(e){const t={},n=l(e,["ids"]);return n!=null&&a(t,["ids"],n),t}function t2(e){const t={},n=l(e,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Xy(s))),a(t,["functionCalls"],o)}return t}function n2(e){const t={},n=l(e,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Qy(s))),a(t,["functionCalls"],o)}return t}function Zi(e){const t={},n=l(e,["modality"]);n!=null&&a(t,["modality"],n);const o=l(e,["tokenCount"]);return o!=null&&a(t,["tokenCount"],o),t}function el(e){const t={},n=l(e,["modality"]);n!=null&&a(t,["modality"],n);const o=l(e,["tokenCount"]);return o!=null&&a(t,["tokenCount"],o),t}function o2(e){const t={},n=l(e,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>x2(s))),a(t,["speakerVoiceConfigs"],o)}return t}function s2(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],D2(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],WE(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],mw(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],Xy(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function i2(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],k2(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],ZE(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],pw(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],Qy(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function l2(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],I2(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],ew(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],hw(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],yw(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function a2(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],L2(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],tw(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],gw(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],xw(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function r2(e){const t={},n=l(e,["voiceName"]);return n!=null&&a(t,["voiceName"],n),t}function u2(e){const t={},n=l(e,["voiceName"]);return n!=null&&a(t,["voiceName"],n),t}function c2(e){const t={},n=l(e,["proactiveAudio"]);return n!=null&&a(t,["proactiveAudio"],n),t}function d2(e){const t={},n=l(e,["proactiveAudio"]);return n!=null&&a(t,["proactiveAudio"],n),t}function f2(e){const t={},n=l(e,["automaticActivityDetection"]);n!=null&&a(t,["automaticActivityDetection"],XE(n));const o=l(e,["activityHandling"]);o!=null&&a(t,["activityHandling"],o);const s=l(e,["turnCoverage"]);return s!=null&&a(t,["turnCoverage"],s),t}function m2(e){const t={},n=l(e,["automaticActivityDetection"]);n!=null&&a(t,["automaticActivityDetection"],QE(n));const o=l(e,["activityHandling"]);o!=null&&a(t,["activityHandling"],o);const s=l(e,["turnCoverage"]);return s!=null&&a(t,["turnCoverage"],s),t}function p2(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function h2(e){const t={},n=l(e,["handle"]);n!=null&&a(t,["handle"],n);const o=l(e,["transparent"]);return o!=null&&a(t,["transparent"],o),t}function g2(e){const t={},n=l(e,["targetTokens"]);return n!=null&&a(t,["targetTokens"],n),t}function y2(e){const t={},n=l(e,["targetTokens"]);return n!=null&&a(t,["targetTokens"],n),t}function x2(e){const t={},n=l(e,["speaker"]);n!=null&&a(t,["speaker"],n);const o=l(e,["voiceConfig"]);return o!=null&&a(t,["voiceConfig"],tx(o)),t}function b2(e){const t={},n=l(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],tx(n));const o=l(e,["multiSpeakerVoiceConfig"]);o!=null&&a(t,["multiSpeakerVoiceConfig"],o2(o));const s=l(e,["languageCode"]);return s!=null&&a(t,["languageCode"],s),t}function v2(e){const t={},n=l(e,["voiceConfig"]);if(n!=null&&a(t,["voiceConfig"],U2(n)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(e,["languageCode"]);return o!=null&&a(t,["languageCode"],o),t}function C2(e){const t={},n=l(e,["includeThoughts"]);n!=null&&a(t,["includeThoughts"],n);const o=l(e,["thinkingBudget"]);return o!=null&&a(t,["thinkingBudget"],o),t}function T2(e){const t={},n=l(e,["includeThoughts"]);n!=null&&a(t,["includeThoughts"],n);const o=l(e,["thinkingBudget"]);return o!=null&&a(t,["thinkingBudget"],o),t}function S2(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>bw(d))),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(t,["googleSearch"],Nw(o));const s=l(e,["googleSearchRetrieval"]);if(s!=null&&a(t,["googleSearchRetrieval"],Tw(s)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(t,["urlContext"],w2());const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],nw(r));const c=l(e,["codeExecution"]);return c!=null&&a(t,["codeExecution"],c),t}function N2(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>vw(h))),a(t,["functionDeclarations"],p)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const s=l(e,["googleSearch"]);s!=null&&a(t,["googleSearch"],Ew(s));const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],Sw(i));const r=l(e,["enterpriseWebSearch"]);r!=null&&a(t,["enterpriseWebSearch"],fw(r));const c=l(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],Cw(c)),l(e,["urlContext"])!=null&&a(t,["urlContext"],A2());const d=l(e,["computerUse"]);d!=null&&a(t,["computerUse"],ow(d));const m=l(e,["codeExecution"]);return m!=null&&a(t,["codeExecution"],m),t}function Qm(e){const t={},n=l(e,["text"]);n!=null&&a(t,["text"],n);const o=l(e,["finished"]);return o!=null&&a(t,["finished"],o),t}function Wm(e){const t={},n=l(e,["text"]);n!=null&&a(t,["text"],n);const o=l(e,["finished"]);return o!=null&&a(t,["finished"],o),t}function E2(e){const t={},n=l(e,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>M2(s))),a(t,["urlMetadata"],o)}return t}function w2(){return{}}function A2(){return{}}function M2(e){const t={},n=l(e,["retrievedUrl"]);n!=null&&a(t,["retrievedUrl"],n);const o=l(e,["urlRetrievalStatus"]);return o!=null&&a(t,["urlRetrievalStatus"],o),t}function _2(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const s=l(e,["responseTokenCount"]);s!=null&&a(t,["responseTokenCount"],s);const i=l(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const r=l(e,["thoughtsTokenCount"]);r!=null&&a(t,["thoughtsTokenCount"],r);const c=l(e,["totalTokenCount"]);c!=null&&a(t,["totalTokenCount"],c);const f=l(e,["promptTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Zi(g))),a(t,["promptTokensDetails"],h)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Zi(g))),a(t,["cacheTokensDetails"],h)}const m=l(e,["responseTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>Zi(g))),a(t,["responseTokensDetails"],h)}const p=l(e,["toolUsePromptTokensDetails"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>Zi(g))),a(t,["toolUsePromptTokensDetails"],h)}return t}function R2(e){const t={},n=l(e,["promptTokenCount"]);n!=null&&a(t,["promptTokenCount"],n);const o=l(e,["cachedContentTokenCount"]);o!=null&&a(t,["cachedContentTokenCount"],o);const s=l(e,["candidatesTokenCount"]);s!=null&&a(t,["responseTokenCount"],s);const i=l(e,["toolUsePromptTokenCount"]);i!=null&&a(t,["toolUsePromptTokenCount"],i);const r=l(e,["thoughtsTokenCount"]);r!=null&&a(t,["thoughtsTokenCount"],r);const c=l(e,["totalTokenCount"]);c!=null&&a(t,["totalTokenCount"],c);const f=l(e,["promptTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(C=>el(C))),a(t,["promptTokensDetails"],g)}const d=l(e,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(C=>el(C))),a(t,["cacheTokensDetails"],g)}const m=l(e,["candidatesTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(C=>el(C))),a(t,["responseTokensDetails"],g)}const p=l(e,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(C=>el(C))),a(t,["toolUsePromptTokensDetails"],g)}const h=l(e,["trafficType"]);return h!=null&&a(t,["trafficType"],h),t}function D2(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function k2(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function I2(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function L2(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function tx(e){const t={},n=l(e,["prebuiltVoiceConfig"]);return n!=null&&a(t,["prebuiltVoiceConfig"],r2(n)),t}function U2(e){const t={},n=l(e,["prebuiltVoiceConfig"]);return n!=null&&a(t,["prebuiltVoiceConfig"],u2(n)),t}function P2(e){const t={},n=l(e,["text"]);n!=null&&a(t,["text"],n);const o=l(e,["weight"]);return o!=null&&a(t,["weight"],o),t}function nx(e){const t={},n=l(e,["text"]);n!=null&&a(t,["text"],n);const o=l(e,["weight"]);return o!=null&&a(t,["weight"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B2(e){const t={},n=l(e,["apiKeyString"]);return n!=null&&a(t,["apiKeyString"],n),t}function F2(e){const t={},n=l(e,["apiKeyConfig"]);n!=null&&a(t,["apiKeyConfig"],B2(n));const o=l(e,["authType"]);o!=null&&a(t,["authType"],o);const s=l(e,["googleServiceAccountConfig"]);s!=null&&a(t,["googleServiceAccountConfig"],s);const i=l(e,["httpBasicAuthConfig"]);i!=null&&a(t,["httpBasicAuthConfig"],i);const r=l(e,["oauthConfig"]);r!=null&&a(t,["oauthConfig"],r);const c=l(e,["oidcConfig"]);return c!=null&&a(t,["oidcConfig"],c),t}function V2(e){const t={},n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function j2(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["data"]);o!=null&&a(t,["data"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function z2(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function H2(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["data"]);o!=null&&a(t,["data"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function q2(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],tA(n));const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],$2(o));const s=l(e,["tokenCount"]);s!=null&&a(t,["tokenCount"],s);const i=l(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const r=l(e,["urlContextMetadata"]);r!=null&&a(t,["urlContextMetadata"],CM(r));const c=l(e,["avgLogprobs"]);c!=null&&a(t,["avgLogprobs"],c);const f=l(e,["groundingMetadata"]);f!=null&&a(t,["groundingMetadata"],f);const d=l(e,["index"]);d!=null&&a(t,["index"],d);const m=l(e,["logprobsResult"]);m!=null&&a(t,["logprobsResult"],m);const p=l(e,["safetyRatings"]);return p!=null&&a(t,["safetyRatings"],p),t}function G2(e){const t={},n=l(e,["content"]);n!=null&&a(t,["content"],nA(n));const o=l(e,["citationMetadata"]);o!=null&&a(t,["citationMetadata"],J2(o));const s=l(e,["finishMessage"]);s!=null&&a(t,["finishMessage"],s);const i=l(e,["finishReason"]);i!=null&&a(t,["finishReason"],i);const r=l(e,["urlContextMetadata"]);r!=null&&a(t,["urlContextMetadata"],TM(r));const c=l(e,["avgLogprobs"]);c!=null&&a(t,["avgLogprobs"],c);const f=l(e,["groundingMetadata"]);f!=null&&a(t,["groundingMetadata"],f);const d=l(e,["index"]);d!=null&&a(t,["index"],d);const m=l(e,["logprobsResult"]);m!=null&&a(t,["logprobsResult"],m);const p=l(e,["safetyRatings"]);return p!=null&&a(t,["safetyRatings"],p),t}function O2(e){const t={},n=l(e,["checkpointId"]);n!=null&&a(t,["checkpointId"],n);const o=l(e,["epoch"]);o!=null&&a(t,["epoch"],o);const s=l(e,["step"]);return s!=null&&a(t,["step"],s),t}function $2(e){const t={},n=l(e,["citationSources"]);return n!=null&&a(t,["citations"],n),t}function J2(e){const t={},n=l(e,["citations"]);return n!=null&&a(t,["citations"],n),t}function Y2(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["contents"]);if(s!=null){let i=Ut(s);Array.isArray(i)&&(i=i.map(r=>Ns(r))),a(n,["contents"],i)}return n}function K2(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["tokensInfo"]);return o!=null&&a(t,["tokensInfo"],o),t}function X2(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function Q2(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function W2(e){const t={},n=l(e,["values"]);return n!=null&&a(t,["values"],n),t}function Z2(e){const t={},n=l(e,["values"]);n!=null&&a(t,["values"],n);const o=l(e,["statistics"]);return o!=null&&a(t,["statistics"],eA(o)),t}function eA(e){const t={},n=l(e,["truncated"]);n!=null&&a(t,["truncated"],n);const o=l(e,["token_count"]);return o!=null&&a(t,["tokenCount"],o),t}function tA(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>I1(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function nA(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>L1(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function Ma(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>U1(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function Ns(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>P1(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function oA(e){const t={},n=l(e,["controlType"]);n!=null&&a(t,["controlType"],n);const o=l(e,["enableControlImageComputation"]);return o!=null&&a(t,["computeControl"],o),t}function sA(e){const t={};if(l(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function iA(e,t){const n={},o=l(e,["systemInstruction"]);t!==void 0&&o!=null&&a(t,["systemInstruction"],Ns(nt(o)));const s=l(e,["tools"]);if(t!==void 0&&s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>ax(c))),a(t,["tools"],r)}const i=l(e,["generationConfig"]);return t!==void 0&&i!=null&&a(t,["generationConfig"],i),n}function lA(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["contents"]);if(s!=null){let r=Ut(s);Array.isArray(r)&&(r=r.map(c=>Ma(c))),a(n,["contents"],r)}const i=l(t,["config"]);return i!=null&&sA(i),n}function aA(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["contents"]);if(s!=null){let r=Ut(s);Array.isArray(r)&&(r=r.map(c=>Ns(c))),a(n,["contents"],r)}const i=l(t,["config"]);return i!=null&&iA(i,n),n}function rA(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);o!=null&&a(t,["totalTokens"],o);const s=l(e,["cachedContentTokenCount"]);return s!=null&&a(t,["cachedContentTokenCount"],s),t}function uA(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["totalTokens"]);return o!=null&&a(t,["totalTokens"],o),t}function cA(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],ue(e,o)),n}function dA(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],ue(e,o)),n}function fA(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function mA(e){const t={},n=l(e,["sdkHttpResponse"]);return n!=null&&a(t,["sdkHttpResponse"],n),t}function pA(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function hA(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function gA(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const s=l(e,["negativePrompt"]);t!==void 0&&s!=null&&a(t,["parameters","negativePrompt"],s);const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const r=l(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["parameters","seed"],f);const d=l(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=l(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const C=l(e,["outputMimeType"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","mimeType"],C);const T=l(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&a(t,["parameters","outputOptions","compressionQuality"],T);const N=l(e,["addWatermark"]);t!==void 0&&N!=null&&a(t,["parameters","addWatermark"],N);const b=l(e,["editMode"]);t!==void 0&&b!=null&&a(t,["parameters","editMode"],b);const y=l(e,["baseSteps"]);return t!==void 0&&y!=null&&a(t,["parameters","editConfig","baseSteps"],y),n}function yA(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const i=l(t,["referenceImages"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>G1(f))),a(n,["instances[0]","referenceImages"],c)}const r=l(t,["config"]);return r!=null&&gA(r,n),n}function xA(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(i=>_a(i))),a(t,["generatedImages"],s)}return t}function bA(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["requests[]","taskType"],o);const s=l(e,["title"]);t!==void 0&&s!=null&&a(t,["requests[]","title"],s);const i=l(e,["outputDimensionality"]);if(t!==void 0&&i!=null&&a(t,["requests[]","outputDimensionality"],i),l(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vA(e,t){const n={},o=l(e,["taskType"]);t!==void 0&&o!=null&&a(t,["instances[]","task_type"],o);const s=l(e,["title"]);t!==void 0&&s!=null&&a(t,["instances[]","title"],s);const i=l(e,["outputDimensionality"]);t!==void 0&&i!=null&&a(t,["parameters","outputDimensionality"],i);const r=l(e,["mimeType"]);t!==void 0&&r!=null&&a(t,["instances[]","mimeType"],r);const c=l(e,["autoTruncate"]);return t!==void 0&&c!=null&&a(t,["parameters","autoTruncate"],c),n}function CA(){return{}}function TA(e){const t={},n=l(e,["billableCharacterCount"]);return n!=null&&a(t,["billableCharacterCount"],n),t}function SA(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["contents"]);s!=null&&a(n,["requests[]","content"],$c(e,s));const i=l(t,["config"]);i!=null&&bA(i,n);const r=l(t,["model"]);return r!==void 0&&a(n,["requests[]","model"],ue(e,r)),n}function NA(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["contents"]);s!=null&&a(n,["instances[]","content"],$c(e,s));const i=l(t,["config"]);return i!=null&&vA(i,n),n}function EA(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>W2(r))),a(t,["embeddings"],i)}return l(e,["metadata"])!=null&&a(t,["metadata"],CA()),t}function wA(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Z2(r))),a(t,["embeddings"],i)}const s=l(e,["metadata"]);return s!=null&&a(t,["metadata"],TA(s)),t}function AA(e){const t={},n=l(e,["endpoint"]);n!=null&&a(t,["name"],n);const o=l(e,["deployedModelId"]);return o!=null&&a(t,["deployedModelId"],o),t}function MA(e){const t={},n=l(e,["excludeDomains"]);return n!=null&&a(t,["excludeDomains"],n),t}function _A(e){const t={},n=l(e,["label"]);n!=null&&a(t,["label"],n);const o=l(e,["score"]);return o!=null&&a(t,["score"],o),t}function RA(e){const t={},n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function DA(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function kA(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function IA(e){const t={},n=l(e,["displayName"]);n!=null&&a(t,["displayName"],n);const o=l(e,["fileUri"]);o!=null&&a(t,["fileUri"],o);const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function LA(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function UA(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function PA(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function BA(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function FA(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(t,["allowedFunctionNames"],o),t}function VA(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["allowedFunctionNames"]);return o!=null&&a(t,["allowedFunctionNames"],o),t}function jA(e){const t={},n=l(e,["behavior"]);n!=null&&a(t,["behavior"],n);const o=l(e,["description"]);o!=null&&a(t,["description"],o);const s=l(e,["name"]);s!=null&&a(t,["name"],s);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const c=l(e,["response"]);c!=null&&a(t,["response"],c);const f=l(e,["responseJsonSchema"]);return f!=null&&a(t,["responseJsonSchema"],f),t}function zA(e){const t={};if(l(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=l(e,["description"]);n!=null&&a(t,["description"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["parameters"]);s!=null&&a(t,["parameters"],s);const i=l(e,["parametersJsonSchema"]);i!=null&&a(t,["parametersJsonSchema"],i);const r=l(e,["response"]);r!=null&&a(t,["response"],r);const c=l(e,["responseJsonSchema"]);return c!=null&&a(t,["responseJsonSchema"],c),t}function HA(e,t,n){const o={},s=l(t,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],Ma(nt(s)));const i=l(t,["temperature"]);i!=null&&a(o,["temperature"],i);const r=l(t,["topP"]);r!=null&&a(o,["topP"],r);const c=l(t,["topK"]);c!=null&&a(o,["topK"],c);const f=l(t,["candidateCount"]);f!=null&&a(o,["candidateCount"],f);const d=l(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const m=l(t,["stopSequences"]);m!=null&&a(o,["stopSequences"],m);const p=l(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const C=l(t,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=l(t,["seed"]);T!=null&&a(o,["seed"],T);const N=l(t,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);const b=l(t,["responseSchema"]);b!=null&&a(o,["responseSchema"],K1(Jc(b)));const y=l(t,["responseJsonSchema"]);if(y!=null&&a(o,["responseJsonSchema"],y),l(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const x=l(t,["safetySettings"]);if(n!==void 0&&x!=null){let R=x;Array.isArray(R)&&(R=R.map(F=>J1(F))),a(n,["safetySettings"],R)}const v=l(t,["tools"]);if(n!==void 0&&v!=null){let R=Ts(v);Array.isArray(R)&&(R=R.map(F=>dM(Cs(F)))),a(n,["tools"],R)}const A=l(t,["toolConfig"]);if(n!==void 0&&A!=null&&a(n,["toolConfig"],uM(A)),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(t,["cachedContent"]);n!==void 0&&w!=null&&a(n,["cachedContent"],Sn(e,w));const E=l(t,["responseModalities"]);E!=null&&a(o,["responseModalities"],E);const _=l(t,["mediaResolution"]);_!=null&&a(o,["mediaResolution"],_);const M=l(t,["speechConfig"]);if(M!=null&&a(o,["speechConfig"],oM(Yc(M))),l(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const D=l(t,["thinkingConfig"]);D!=null&&a(o,["thinkingConfig"],aM(D));const B=l(t,["imageConfig"]);return B!=null&&a(o,["imageConfig"],y1(B)),o}function qA(e,t,n){const o={},s=l(t,["systemInstruction"]);n!==void 0&&s!=null&&a(n,["systemInstruction"],Ns(nt(s)));const i=l(t,["temperature"]);i!=null&&a(o,["temperature"],i);const r=l(t,["topP"]);r!=null&&a(o,["topP"],r);const c=l(t,["topK"]);c!=null&&a(o,["topK"],c);const f=l(t,["candidateCount"]);f!=null&&a(o,["candidateCount"],f);const d=l(t,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const m=l(t,["stopSequences"]);m!=null&&a(o,["stopSequences"],m);const p=l(t,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const h=l(t,["logprobs"]);h!=null&&a(o,["logprobs"],h);const g=l(t,["presencePenalty"]);g!=null&&a(o,["presencePenalty"],g);const C=l(t,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const T=l(t,["seed"]);T!=null&&a(o,["seed"],T);const N=l(t,["responseMimeType"]);N!=null&&a(o,["responseMimeType"],N);const b=l(t,["responseSchema"]);b!=null&&a(o,["responseSchema"],X1(Jc(b)));const y=l(t,["responseJsonSchema"]);y!=null&&a(o,["responseJsonSchema"],y);const x=l(t,["routingConfig"]);x!=null&&a(o,["routingConfig"],x);const v=l(t,["modelSelectionConfig"]);v!=null&&a(o,["modelConfig"],D1(v));const A=l(t,["safetySettings"]);if(n!==void 0&&A!=null){let U=A;Array.isArray(U)&&(U=U.map(H=>Y1(H))),a(n,["safetySettings"],U)}const w=l(t,["tools"]);if(n!==void 0&&w!=null){let U=Ts(w);Array.isArray(U)&&(U=U.map(H=>ax(Cs(H)))),a(n,["tools"],U)}const E=l(t,["toolConfig"]);n!==void 0&&E!=null&&a(n,["toolConfig"],cM(E));const _=l(t,["labels"]);n!==void 0&&_!=null&&a(n,["labels"],_);const M=l(t,["cachedContent"]);n!==void 0&&M!=null&&a(n,["cachedContent"],Sn(e,M));const D=l(t,["responseModalities"]);D!=null&&a(o,["responseModalities"],D);const B=l(t,["mediaResolution"]);B!=null&&a(o,["mediaResolution"],B);const R=l(t,["speechConfig"]);R!=null&&a(o,["speechConfig"],sM(Yc(R)));const F=l(t,["audioTimestamp"]);F!=null&&a(o,["audioTimestamp"],F);const Z=l(t,["thinkingConfig"]);Z!=null&&a(o,["thinkingConfig"],rM(Z));const K=l(t,["imageConfig"]);return K!=null&&a(o,["imageConfig"],x1(K)),o}function Zm(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["contents"]);if(s!=null){let r=Ut(s);Array.isArray(r)&&(r=r.map(c=>Ma(c))),a(n,["contents"],r)}const i=l(t,["config"]);return i!=null&&a(n,["generationConfig"],HA(e,i,n)),n}function ep(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["contents"]);if(s!=null){let r=Ut(s);Array.isArray(r)&&(r=r.map(c=>Ns(c))),a(n,["contents"],r)}const i=l(t,["config"]);return i!=null&&a(n,["generationConfig"],qA(e,i,n)),n}function tp(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(d=>q2(d))),a(t,["candidates"],f)}const s=l(e,["modelVersion"]);s!=null&&a(t,["modelVersion"],s);const i=l(e,["promptFeedback"]);i!=null&&a(t,["promptFeedback"],i);const r=l(e,["responseId"]);r!=null&&a(t,["responseId"],r);const c=l(e,["usageMetadata"]);return c!=null&&a(t,["usageMetadata"],c),t}function np(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>G2(m))),a(t,["candidates"],d)}const s=l(e,["createTime"]);s!=null&&a(t,["createTime"],s);const i=l(e,["modelVersion"]);i!=null&&a(t,["modelVersion"],i);const r=l(e,["promptFeedback"]);r!=null&&a(t,["promptFeedback"],r);const c=l(e,["responseId"]);c!=null&&a(t,["responseId"],c);const f=l(e,["usageMetadata"]);return f!=null&&a(t,["usageMetadata"],f),t}function GA(e,t){const n={};if(l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const s=l(e,["aspectRatio"]);t!==void 0&&s!=null&&a(t,["parameters","aspectRatio"],s);const i=l(e,["guidanceScale"]);if(t!==void 0&&i!=null&&a(t,["parameters","guidanceScale"],i),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=l(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&a(t,["parameters","safetySetting"],r);const c=l(e,["personGeneration"]);t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c);const f=l(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&a(t,["parameters","includeSafetyAttributes"],f);const d=l(e,["includeRaiReason"]);t!==void 0&&d!=null&&a(t,["parameters","includeRaiReason"],d);const m=l(e,["language"]);t!==void 0&&m!=null&&a(t,["parameters","language"],m);const p=l(e,["outputMimeType"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","mimeType"],p);const h=l(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&a(t,["parameters","outputOptions","compressionQuality"],h),l(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const g=l(e,["imageSize"]);if(t!==void 0&&g!=null&&a(t,["parameters","sampleImageSize"],g),l(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function OA(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const s=l(e,["negativePrompt"]);t!==void 0&&s!=null&&a(t,["parameters","negativePrompt"],s);const i=l(e,["numberOfImages"]);t!==void 0&&i!=null&&a(t,["parameters","sampleCount"],i);const r=l(e,["aspectRatio"]);t!==void 0&&r!=null&&a(t,["parameters","aspectRatio"],r);const c=l(e,["guidanceScale"]);t!==void 0&&c!=null&&a(t,["parameters","guidanceScale"],c);const f=l(e,["seed"]);t!==void 0&&f!=null&&a(t,["parameters","seed"],f);const d=l(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&a(t,["parameters","safetySetting"],d);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&a(t,["parameters","includeSafetyAttributes"],p);const h=l(e,["includeRaiReason"]);t!==void 0&&h!=null&&a(t,["parameters","includeRaiReason"],h);const g=l(e,["language"]);t!==void 0&&g!=null&&a(t,["parameters","language"],g);const C=l(e,["outputMimeType"]);t!==void 0&&C!=null&&a(t,["parameters","outputOptions","mimeType"],C);const T=l(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&a(t,["parameters","outputOptions","compressionQuality"],T);const N=l(e,["addWatermark"]);t!==void 0&&N!=null&&a(t,["parameters","addWatermark"],N);const b=l(e,["imageSize"]);t!==void 0&&b!=null&&a(t,["parameters","sampleImageSize"],b);const y=l(e,["enhancePrompt"]);return t!==void 0&&y!=null&&a(t,["parameters","enhancePrompt"],y),n}function $A(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const i=l(t,["config"]);return i!=null&&GA(i,n),n}function JA(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const i=l(t,["config"]);return i!=null&&OA(i,n),n}function YA(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>l1(r))),a(t,["generatedImages"],i)}const s=l(e,["positivePromptSafetyAttributes"]);return s!=null&&a(t,["positivePromptSafetyAttributes"],ix(s)),t}function KA(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>_a(r))),a(t,["generatedImages"],i)}const s=l(e,["positivePromptSafetyAttributes"]);return s!=null&&a(t,["positivePromptSafetyAttributes"],lx(s)),t}function XA(e,t){const n={},o=l(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o),l(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=l(e,["durationSeconds"]);if(t!==void 0&&s!=null&&a(t,["parameters","durationSeconds"],s),l(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=l(e,["aspectRatio"]);t!==void 0&&i!=null&&a(t,["parameters","aspectRatio"],i);const r=l(e,["resolution"]);t!==void 0&&r!=null&&a(t,["parameters","resolution"],r);const c=l(e,["personGeneration"]);if(t!==void 0&&c!=null&&a(t,["parameters","personGeneration"],c),l(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=l(e,["negativePrompt"]);t!==void 0&&f!=null&&a(t,["parameters","negativePrompt"],f);const d=l(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&a(t,["parameters","enhancePrompt"],d),l(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(l(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(l(e,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(l(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function QA(e,t){const n={},o=l(e,["numberOfVideos"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const s=l(e,["outputGcsUri"]);t!==void 0&&s!=null&&a(t,["parameters","storageUri"],s);const i=l(e,["fps"]);t!==void 0&&i!=null&&a(t,["parameters","fps"],i);const r=l(e,["durationSeconds"]);t!==void 0&&r!=null&&a(t,["parameters","durationSeconds"],r);const c=l(e,["seed"]);t!==void 0&&c!=null&&a(t,["parameters","seed"],c);const f=l(e,["aspectRatio"]);t!==void 0&&f!=null&&a(t,["parameters","aspectRatio"],f);const d=l(e,["resolution"]);t!==void 0&&d!=null&&a(t,["parameters","resolution"],d);const m=l(e,["personGeneration"]);t!==void 0&&m!=null&&a(t,["parameters","personGeneration"],m);const p=l(e,["pubsubTopic"]);t!==void 0&&p!=null&&a(t,["parameters","pubsubTopic"],p);const h=l(e,["negativePrompt"]);t!==void 0&&h!=null&&a(t,["parameters","negativePrompt"],h);const g=l(e,["enhancePrompt"]);t!==void 0&&g!=null&&a(t,["parameters","enhancePrompt"],g);const C=l(e,["generateAudio"]);t!==void 0&&C!=null&&a(t,["parameters","generateAudio"],C);const T=l(e,["lastFrame"]);t!==void 0&&T!=null&&a(t,["instances[0]","lastFrame"],qt(T));const N=l(e,["referenceImages"]);if(t!==void 0&&N!=null){let x=N;Array.isArray(x)&&(x=x.map(v=>RM(v))),a(t,["instances[0]","referenceImages"],x)}const b=l(e,["mask"]);t!==void 0&&b!=null&&a(t,["instances[0]","mask"],_M(b));const y=l(e,["compressionQuality"]);return t!==void 0&&y!=null&&a(t,["parameters","compressionQuality"],y),n}function WA(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const r=l(e,["response","generateVideoResponse"]);return r!=null&&a(t,["response"],n1(r)),t}function ZA(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["metadata"]);o!=null&&a(t,["metadata"],o);const s=l(e,["done"]);s!=null&&a(t,["done"],s);const i=l(e,["error"]);i!=null&&a(t,["error"],i);const r=l(e,["response"]);return r!=null&&a(t,["response"],o1(r)),t}function e1(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const i=l(t,["image"]);if(i!=null&&a(n,["instances[0]","image"],sx(i)),l(t,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=l(t,["source"]);r!=null&&s1(r,n);const c=l(t,["config"]);return c!=null&&XA(c,n),n}function t1(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["prompt"]);s!=null&&a(n,["instances[0]","prompt"],s);const i=l(t,["image"]);i!=null&&a(n,["instances[0]","image"],qt(i));const r=l(t,["video"]);r!=null&&a(n,["instances[0]","video"],rx(r));const c=l(t,["source"]);c!=null&&i1(c,n);const f=l(t,["config"]);return f!=null&&QA(f,n),n}function n1(e){const t={},n=l(e,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r1(r))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function o1(e){const t={},n=l(e,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>u1(r))),a(t,["generatedVideos"],i)}const o=l(e,["raiMediaFilteredCount"]);o!=null&&a(t,["raiMediaFilteredCount"],o);const s=l(e,["raiMediaFilteredReasons"]);return s!=null&&a(t,["raiMediaFilteredReasons"],s),t}function s1(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const s=l(e,["image"]);if(t!==void 0&&s!=null&&a(t,["instances[0]","image"],sx(s)),l(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return n}function i1(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const s=l(e,["image"]);t!==void 0&&s!=null&&a(t,["instances[0]","image"],qt(s));const i=l(e,["video"]);return t!==void 0&&i!=null&&a(t,["instances[0]","video"],rx(i)),n}function l1(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["image"],b1(n));const o=l(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const s=l(e,["_self"]);return s!=null&&a(t,["safetyAttributes"],ix(s)),t}function _a(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["image"],ox(n));const o=l(e,["raiFilteredReason"]);o!=null&&a(t,["raiFilteredReason"],o);const s=l(e,["_self"]);s!=null&&a(t,["safetyAttributes"],lx(s));const i=l(e,["prompt"]);return i!=null&&a(t,["enhancedPrompt"],i),t}function a1(e){const t={},n=l(e,["_self"]);n!=null&&a(t,["mask"],ox(n));const o=l(e,["labels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(i=>_A(i))),a(t,["labels"],s)}return t}function r1(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],AM(n)),t}function u1(e){const t={},n=l(e,["_self"]);return n!=null&&a(t,["video"],MM(n)),t}function c1(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],ue(e,o)),n}function d1(e,t){const n={},o=l(t,["model"]);return o!=null&&a(n,["_url","name"],ue(e,o)),n}function f1(e){const t={},n=l(e,["authConfig"]);return n!=null&&a(t,["authConfig"],F2(n)),t}function m1(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],pA(n)),t}function p1(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],hA(n)),t}function h1(e){const t={},n=l(e,["timeRangeFilter"]);if(n!=null&&a(t,["timeRangeFilter"],v1(n)),l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function g1(e){const t={},n=l(e,["timeRangeFilter"]);n!=null&&a(t,["timeRangeFilter"],C1(n));const o=l(e,["excludeDomains"]);return o!=null&&a(t,["excludeDomains"],o),t}function y1(e){const t={},n=l(e,["aspectRatio"]);return n!=null&&a(t,["aspectRatio"],n),t}function x1(e){const t={},n=l(e,["aspectRatio"]);return n!=null&&a(t,["aspectRatio"],n),t}function b1(e){const t={},n=l(e,["bytesBase64Encoded"]);n!=null&&a(t,["imageBytes"],To(n));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function ox(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["imageBytes"],To(o));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function sx(e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=l(e,["imageBytes"]);n!=null&&a(t,["bytesBase64Encoded"],To(n));const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function qt(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["imageBytes"]);o!=null&&a(t,["bytesBase64Encoded"],To(o));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function v1(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function C1(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function T1(e){const t={},n=l(e,["latitude"]);n!=null&&a(t,["latitude"],n);const o=l(e,["longitude"]);return o!=null&&a(t,["longitude"],o),t}function S1(e){const t={},n=l(e,["latitude"]);n!=null&&a(t,["latitude"],n);const o=l(e,["longitude"]);return o!=null&&a(t,["longitude"],o),t}function N1(e,t,n){const o={},s=l(t,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const i=l(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const r=l(t,["filter"]);n!==void 0&&r!=null&&a(n,["_query","filter"],r);const c=l(t,["queryBase"]);return n!==void 0&&c!=null&&a(n,["_url","models_url"],zy(e,c)),o}function E1(e,t,n){const o={},s=l(t,["pageSize"]);n!==void 0&&s!=null&&a(n,["_query","pageSize"],s);const i=l(t,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const r=l(t,["filter"]);n!==void 0&&r!=null&&a(n,["_query","filter"],r);const c=l(t,["queryBase"]);return n!==void 0&&c!=null&&a(n,["_url","models_url"],zy(e,c)),o}function w1(e,t){const n={},o=l(t,["config"]);return o!=null&&N1(e,o,n),n}function A1(e,t){const n={},o=l(t,["config"]);return o!=null&&E1(e,o,n),n}function M1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["_self"]);if(s!=null){let i=Hy(s);Array.isArray(i)&&(i=i.map(r=>ku(r))),a(t,["models"],i)}return t}function _1(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["_self"]);if(s!=null){let i=Hy(s);Array.isArray(i)&&(i=i.map(r=>Iu(r))),a(t,["models"],i)}return t}function R1(e){const t={},n=l(e,["maskMode"]);n!=null&&a(t,["maskMode"],n);const o=l(e,["segmentationClasses"]);o!=null&&a(t,["maskClasses"],o);const s=l(e,["maskDilation"]);return s!=null&&a(t,["dilation"],s),t}function ku(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["description"]);s!=null&&a(t,["description"],s);const i=l(e,["version"]);i!=null&&a(t,["version"],i);const r=l(e,["_self"]);r!=null&&a(t,["tunedModelInfo"],fM(r));const c=l(e,["inputTokenLimit"]);c!=null&&a(t,["inputTokenLimit"],c);const f=l(e,["outputTokenLimit"]);f!=null&&a(t,["outputTokenLimit"],f);const d=l(e,["supportedGenerationMethods"]);return d!=null&&a(t,["supportedActions"],d),t}function Iu(e){const t={},n=l(e,["name"]);n!=null&&a(t,["name"],n);const o=l(e,["displayName"]);o!=null&&a(t,["displayName"],o);const s=l(e,["description"]);s!=null&&a(t,["description"],s);const i=l(e,["versionId"]);i!=null&&a(t,["version"],i);const r=l(e,["deployedModels"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>AA(h))),a(t,["endpoints"],p)}const c=l(e,["labels"]);c!=null&&a(t,["labels"],c);const f=l(e,["_self"]);f!=null&&a(t,["tunedModelInfo"],mM(f));const d=l(e,["defaultCheckpointId"]);d!=null&&a(t,["defaultCheckpointId"],d);const m=l(e,["checkpoints"]);if(m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>O2(h))),a(t,["checkpoints"],p)}return t}function D1(e){const t={},n=l(e,["featureSelectionPreference"]);return n!=null&&a(t,["featureSelectionPreference"],n),t}function k1(e){const t={},n=l(e,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>nM(s))),a(t,["speakerVoiceConfigs"],o)}return t}function I1(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],DM(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],V2(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],RA(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],LA(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function L1(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],kM(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],j2(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],DA(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],UA(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function U1(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],IM(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],z2(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],kA(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],PA(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function P1(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],LM(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],H2(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],IA(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],BA(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function B1(e){const t={},n=l(e,["voiceName"]);return n!=null&&a(t,["voiceName"],n),t}function F1(e){const t={},n=l(e,["voiceName"]);return n!=null&&a(t,["voiceName"],n),t}function V1(e){const t={},n=l(e,["productImage"]);return n!=null&&a(t,["image"],qt(n)),t}function j1(e,t){const n={},o=l(e,["numberOfImages"]);t!==void 0&&o!=null&&a(t,["parameters","sampleCount"],o);const s=l(e,["baseSteps"]);t!==void 0&&s!=null&&a(t,["parameters","editConfig","baseSteps"],s);const i=l(e,["outputGcsUri"]);t!==void 0&&i!=null&&a(t,["parameters","storageUri"],i);const r=l(e,["seed"]);t!==void 0&&r!=null&&a(t,["parameters","seed"],r);const c=l(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&a(t,["parameters","safetySetting"],c);const f=l(e,["personGeneration"]);t!==void 0&&f!=null&&a(t,["parameters","personGeneration"],f);const d=l(e,["addWatermark"]);t!==void 0&&d!=null&&a(t,["parameters","addWatermark"],d);const m=l(e,["outputMimeType"]);t!==void 0&&m!=null&&a(t,["parameters","outputOptions","mimeType"],m);const p=l(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&a(t,["parameters","outputOptions","compressionQuality"],p);const h=l(e,["enhancePrompt"]);return t!==void 0&&h!=null&&a(t,["parameters","enhancePrompt"],h),n}function z1(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["source"]);s!=null&&q1(s,n);const i=l(t,["config"]);return i!=null&&j1(i,n),n}function H1(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>_a(s))),a(t,["generatedImages"],o)}return t}function q1(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const s=l(e,["personImage"]);t!==void 0&&s!=null&&a(t,["instances[0]","personImage","image"],qt(s));const i=l(e,["productImages"]);if(t!==void 0&&i!=null){let r=i;Array.isArray(r)&&(r=r.map(c=>V1(c))),a(t,["instances[0]","productImages"],r)}return n}function G1(e){const t={},n=l(e,["referenceImage"]);n!=null&&a(t,["referenceImage"],qt(n));const o=l(e,["referenceId"]);o!=null&&a(t,["referenceId"],o);const s=l(e,["referenceType"]);s!=null&&a(t,["referenceType"],s);const i=l(e,["maskImageConfig"]);i!=null&&a(t,["maskImageConfig"],R1(i));const r=l(e,["controlImageConfig"]);r!=null&&a(t,["controlImageConfig"],oA(r));const c=l(e,["styleImageConfig"]);c!=null&&a(t,["styleImageConfig"],iM(c));const f=l(e,["subjectImageConfig"]);return f!=null&&a(t,["subjectImageConfig"],lM(f)),t}function O1(e){const t={},n=l(e,["latLng"]);n!=null&&a(t,["latLng"],T1(n));const o=l(e,["languageCode"]);return o!=null&&a(t,["languageCode"],o),t}function $1(e){const t={},n=l(e,["latLng"]);n!=null&&a(t,["latLng"],S1(n));const o=l(e,["languageCode"]);return o!=null&&a(t,["languageCode"],o),t}function ix(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const s=l(e,["contentType"]);return s!=null&&a(t,["contentType"],s),t}function lx(e){const t={},n=l(e,["safetyAttributes","categories"]);n!=null&&a(t,["categories"],n);const o=l(e,["safetyAttributes","scores"]);o!=null&&a(t,["scores"],o);const s=l(e,["contentType"]);return s!=null&&a(t,["contentType"],s),t}function J1(e){const t={};if(l(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=l(e,["category"]);n!=null&&a(t,["category"],n);const o=l(e,["threshold"]);return o!=null&&a(t,["threshold"],o),t}function Y1(e){const t={},n=l(e,["method"]);n!=null&&a(t,["method"],n);const o=l(e,["category"]);o!=null&&a(t,["category"],o);const s=l(e,["threshold"]);return s!=null&&a(t,["threshold"],s),t}function K1(e){const t={},n=l(e,["anyOf"]);n!=null&&a(t,["anyOf"],n);const o=l(e,["default"]);o!=null&&a(t,["default"],o);const s=l(e,["description"]);s!=null&&a(t,["description"],s);const i=l(e,["enum"]);i!=null&&a(t,["enum"],i);const r=l(e,["example"]);r!=null&&a(t,["example"],r);const c=l(e,["format"]);c!=null&&a(t,["format"],c);const f=l(e,["items"]);f!=null&&a(t,["items"],f);const d=l(e,["maxItems"]);d!=null&&a(t,["maxItems"],d);const m=l(e,["maxLength"]);m!=null&&a(t,["maxLength"],m);const p=l(e,["maxProperties"]);p!=null&&a(t,["maxProperties"],p);const h=l(e,["maximum"]);h!=null&&a(t,["maximum"],h);const g=l(e,["minItems"]);g!=null&&a(t,["minItems"],g);const C=l(e,["minLength"]);C!=null&&a(t,["minLength"],C);const T=l(e,["minProperties"]);T!=null&&a(t,["minProperties"],T);const N=l(e,["minimum"]);N!=null&&a(t,["minimum"],N);const b=l(e,["nullable"]);b!=null&&a(t,["nullable"],b);const y=l(e,["pattern"]);y!=null&&a(t,["pattern"],y);const x=l(e,["properties"]);x!=null&&a(t,["properties"],x);const v=l(e,["propertyOrdering"]);v!=null&&a(t,["propertyOrdering"],v);const A=l(e,["required"]);A!=null&&a(t,["required"],A);const w=l(e,["title"]);w!=null&&a(t,["title"],w);const E=l(e,["type"]);return E!=null&&a(t,["type"],E),t}function X1(e){const t={},n=l(e,["anyOf"]);n!=null&&a(t,["anyOf"],n);const o=l(e,["default"]);o!=null&&a(t,["default"],o);const s=l(e,["description"]);s!=null&&a(t,["description"],s);const i=l(e,["enum"]);i!=null&&a(t,["enum"],i);const r=l(e,["example"]);r!=null&&a(t,["example"],r);const c=l(e,["format"]);c!=null&&a(t,["format"],c);const f=l(e,["items"]);f!=null&&a(t,["items"],f);const d=l(e,["maxItems"]);d!=null&&a(t,["maxItems"],d);const m=l(e,["maxLength"]);m!=null&&a(t,["maxLength"],m);const p=l(e,["maxProperties"]);p!=null&&a(t,["maxProperties"],p);const h=l(e,["maximum"]);h!=null&&a(t,["maximum"],h);const g=l(e,["minItems"]);g!=null&&a(t,["minItems"],g);const C=l(e,["minLength"]);C!=null&&a(t,["minLength"],C);const T=l(e,["minProperties"]);T!=null&&a(t,["minProperties"],T);const N=l(e,["minimum"]);N!=null&&a(t,["minimum"],N);const b=l(e,["nullable"]);b!=null&&a(t,["nullable"],b);const y=l(e,["pattern"]);y!=null&&a(t,["pattern"],y);const x=l(e,["properties"]);x!=null&&a(t,["properties"],x);const v=l(e,["propertyOrdering"]);v!=null&&a(t,["propertyOrdering"],v);const A=l(e,["required"]);A!=null&&a(t,["required"],A);const w=l(e,["title"]);w!=null&&a(t,["title"],w);const E=l(e,["type"]);return E!=null&&a(t,["type"],E),t}function Q1(e){const t={},n=l(e,["image"]);return n!=null&&a(t,["image"],qt(n)),t}function W1(e,t){const n={},o=l(e,["mode"]);t!==void 0&&o!=null&&a(t,["parameters","mode"],o);const s=l(e,["maxPredictions"]);t!==void 0&&s!=null&&a(t,["parameters","maxPredictions"],s);const i=l(e,["confidenceThreshold"]);t!==void 0&&i!=null&&a(t,["parameters","confidenceThreshold"],i);const r=l(e,["maskDilation"]);t!==void 0&&r!=null&&a(t,["parameters","maskDilation"],r);const c=l(e,["binaryColorThreshold"]);return t!==void 0&&c!=null&&a(t,["parameters","binaryColorThreshold"],c),n}function Z1(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["source"]);s!=null&&tM(s,n);const i=l(t,["config"]);return i!=null&&W1(i,n),n}function eM(e){const t={},n=l(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>a1(s))),a(t,["generatedMasks"],o)}return t}function tM(e,t){const n={},o=l(e,["prompt"]);t!==void 0&&o!=null&&a(t,["instances[0]","prompt"],o);const s=l(e,["image"]);t!==void 0&&s!=null&&a(t,["instances[0]","image"],qt(s));const i=l(e,["scribbleImage"]);return t!==void 0&&i!=null&&a(t,["instances[0]","scribble"],Q1(i)),n}function nM(e){const t={},n=l(e,["speaker"]);n!=null&&a(t,["speaker"],n);const o=l(e,["voiceConfig"]);return o!=null&&a(t,["voiceConfig"],ux(o)),t}function oM(e){const t={},n=l(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],ux(n));const o=l(e,["multiSpeakerVoiceConfig"]);o!=null&&a(t,["multiSpeakerVoiceConfig"],k1(o));const s=l(e,["languageCode"]);return s!=null&&a(t,["languageCode"],s),t}function sM(e){const t={},n=l(e,["voiceConfig"]);if(n!=null&&a(t,["voiceConfig"],UM(n)),l(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=l(e,["languageCode"]);return o!=null&&a(t,["languageCode"],o),t}function iM(e){const t={},n=l(e,["styleDescription"]);return n!=null&&a(t,["styleDescription"],n),t}function lM(e){const t={},n=l(e,["subjectType"]);n!=null&&a(t,["subjectType"],n);const o=l(e,["subjectDescription"]);return o!=null&&a(t,["subjectDescription"],o),t}function aM(e){const t={},n=l(e,["includeThoughts"]);n!=null&&a(t,["includeThoughts"],n);const o=l(e,["thinkingBudget"]);return o!=null&&a(t,["thinkingBudget"],o),t}function rM(e){const t={},n=l(e,["includeThoughts"]);n!=null&&a(t,["includeThoughts"],n);const o=l(e,["thinkingBudget"]);return o!=null&&a(t,["thinkingBudget"],o),t}function uM(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],FA(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],O1(o)),t}function cM(e){const t={},n=l(e,["functionCallingConfig"]);n!=null&&a(t,["functionCallingConfig"],VA(n));const o=l(e,["retrievalConfig"]);return o!=null&&a(t,["retrievalConfig"],$1(o)),t}function dM(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>jA(d))),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(t,["googleSearch"],h1(o));const s=l(e,["googleSearchRetrieval"]);if(s!=null&&a(t,["googleSearchRetrieval"],m1(s)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(t,["urlContext"],SM());const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],X2(r));const c=l(e,["codeExecution"]);return c!=null&&a(t,["codeExecution"],c),t}function ax(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>zA(h))),a(t,["functionDeclarations"],p)}const o=l(e,["retrieval"]);o!=null&&a(t,["retrieval"],o);const s=l(e,["googleSearch"]);s!=null&&a(t,["googleSearch"],g1(s));const i=l(e,["googleSearchRetrieval"]);i!=null&&a(t,["googleSearchRetrieval"],p1(i));const r=l(e,["enterpriseWebSearch"]);r!=null&&a(t,["enterpriseWebSearch"],MA(r));const c=l(e,["googleMaps"]);c!=null&&a(t,["googleMaps"],f1(c)),l(e,["urlContext"])!=null&&a(t,["urlContext"],NM());const d=l(e,["computerUse"]);d!=null&&a(t,["computerUse"],Q2(d));const m=l(e,["codeExecution"]);return m!=null&&a(t,["codeExecution"],m),t}function fM(e){const t={},n=l(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const s=l(e,["updateTime"]);return s!=null&&a(t,["updateTime"],s),t}function mM(e){const t={},n=l(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["createTime"]);o!=null&&a(t,["createTime"],o);const s=l(e,["updateTime"]);return s!=null&&a(t,["updateTime"],s),t}function pM(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const s=l(e,["description"]);t!==void 0&&s!=null&&a(t,["description"],s);const i=l(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function hM(e,t){const n={},o=l(e,["displayName"]);t!==void 0&&o!=null&&a(t,["displayName"],o);const s=l(e,["description"]);t!==void 0&&s!=null&&a(t,["description"],s);const i=l(e,["defaultCheckpointId"]);return t!==void 0&&i!=null&&a(t,["defaultCheckpointId"],i),n}function gM(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","name"],ue(e,o));const s=l(t,["config"]);return s!=null&&pM(s,n),n}function yM(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["config"]);return s!=null&&hM(s,n),n}function xM(e,t){const n={},o=l(e,["outputGcsUri"]);t!==void 0&&o!=null&&a(t,["parameters","storageUri"],o);const s=l(e,["includeRaiReason"]);t!==void 0&&s!=null&&a(t,["parameters","includeRaiReason"],s);const i=l(e,["outputMimeType"]);t!==void 0&&i!=null&&a(t,["parameters","outputOptions","mimeType"],i);const r=l(e,["outputCompressionQuality"]);t!==void 0&&r!=null&&a(t,["parameters","outputOptions","compressionQuality"],r);const c=l(e,["enhanceInputImage"]);t!==void 0&&c!=null&&a(t,["parameters","upscaleConfig","enhanceInputImage"],c);const f=l(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&a(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const d=l(e,["numberOfImages"]);t!==void 0&&d!=null&&a(t,["parameters","sampleCount"],d);const m=l(e,["mode"]);return t!==void 0&&m!=null&&a(t,["parameters","mode"],m),n}function bM(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["_url","model"],ue(e,o));const s=l(t,["image"]);s!=null&&a(n,["instances[0]","image"],qt(s));const i=l(t,["upscaleFactor"]);i!=null&&a(n,["parameters","upscaleConfig","upscaleFactor"],i);const r=l(t,["config"]);return r!=null&&xM(r,n),n}function vM(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(i=>_a(i))),a(t,["generatedImages"],s)}return t}function CM(e){const t={},n=l(e,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>EM(s))),a(t,["urlMetadata"],o)}return t}function TM(e){const t={},n=l(e,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>wM(s))),a(t,["urlMetadata"],o)}return t}function SM(){return{}}function NM(){return{}}function EM(e){const t={},n=l(e,["retrievedUrl"]);n!=null&&a(t,["retrievedUrl"],n);const o=l(e,["urlRetrievalStatus"]);return o!=null&&a(t,["urlRetrievalStatus"],o),t}function wM(e){const t={},n=l(e,["retrievedUrl"]);n!=null&&a(t,["retrievedUrl"],n);const o=l(e,["urlRetrievalStatus"]);return o!=null&&a(t,["urlRetrievalStatus"],o),t}function AM(e){const t={},n=l(e,["video","uri"]);n!=null&&a(t,["uri"],n);const o=l(e,["video","encodedVideo"]);o!=null&&a(t,["videoBytes"],To(o));const s=l(e,["encoding"]);return s!=null&&a(t,["mimeType"],s),t}function MM(e){const t={},n=l(e,["gcsUri"]);n!=null&&a(t,["uri"],n);const o=l(e,["bytesBase64Encoded"]);o!=null&&a(t,["videoBytes"],To(o));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function _M(e){const t={},n=l(e,["image"]);n!=null&&a(t,["_self"],qt(n));const o=l(e,["maskMode"]);return o!=null&&a(t,["maskMode"],o),t}function RM(e){const t={},n=l(e,["image"]);n!=null&&a(t,["image"],qt(n));const o=l(e,["referenceType"]);return o!=null&&a(t,["referenceType"],o),t}function DM(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function kM(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function IM(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function LM(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function rx(e){const t={},n=l(e,["uri"]);n!=null&&a(t,["gcsUri"],n);const o=l(e,["videoBytes"]);o!=null&&a(t,["bytesBase64Encoded"],To(o));const s=l(e,["mimeType"]);return s!=null&&a(t,["mimeType"],s),t}function ux(e){const t={},n=l(e,["prebuiltVoiceConfig"]);return n!=null&&a(t,["prebuiltVoiceConfig"],B1(n)),t}function UM(e){const t={},n=l(e,["prebuiltVoiceConfig"]);return n!=null&&a(t,["prebuiltVoiceConfig"],F1(n)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PM="Content-Type",BM="X-Server-Timeout",FM="User-Agent",Lu="x-goog-api-client",VM="1.22.0",jM=`google-genai-sdk/${VM}`,zM="v1beta1",HM="v1beta",op=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class qM{constructor(t){var n,o;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zM,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:HM,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&o.push(t.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,o){const s=[this.getRequestUrlInternal(n)];return o&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,o);if(t.queryParams)for(const[r,c]of Object.entries(t.queryParams))s.searchParams.append(r,String(c));let i={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=t.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,t.abortSignal),this.unaryApiCall(s,i,t.httpMethod)}patchHttpOptions(t,n){const o=JSON.parse(JSON.stringify(t));for(const[s,i]of Object.entries(n))typeof i=="object"?o[s]=Object.assign(Object.assign({},o[s]),i):i!==void 0&&(o[s]=i);return o}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const o=this.shouldPrependVertexProjectPath(t),s=this.constructUrl(t.path,n,o);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=t.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,t.abortSignal),this.streamApiCall(s,i,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,o){if(n&&n.timeout||o){const s=new AbortController,i=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>s.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}o&&o.addEventListener("abort",()=>{s.abort()}),t.signal=i}return n&&n.extraBody!==null&&GM(t,n.extraBody),t.headers=await this.getHeadersInternal(n),t}async unaryApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async s=>(await sp(s),new Au(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,n,o){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:o})).then(async s=>(await sp(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){var n;return Wo(this,arguments,function*(){const s=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let r="";for(;;){const{done:c,value:f}=yield Ne(s.read());if(c){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=i.decode(f,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),g=h.status,C=h.code,T=`got status: ${g}. ${JSON.stringify(p)}`;if(C>=400&&C<600)throw new Aa({message:T,status:C})}}catch(p){if(p.name==="ApiError")throw p}r+=d;let m=r.match(op);for(;m;){const p=m[1];try{const h=new Response(p,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ne(new Au(h)),r=r.slice(m[0].length),m=r.match(op)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{s.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const t={},n=jM+" "+this.clientOptions.userAgentExtra;return t[FM]=n,t[Lu]=n,t[PM]="application/json",t}async getHeadersInternal(t){const n=new Headers;if(t&&t.headers){for(const[o,s]of Object.entries(t.headers))n.append(o,s);t.timeout&&t.timeout>0&&n.append(BM,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(t,n){var o;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,r=await i.stat(t);s.sizeBytes=String(r.size);const c=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:r.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=c;const f=await this.fetchUploadUrl(s,n);return i.upload(t,f,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var o;let s={};n!=null&&n.httpOptions?s=n.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const i={file:t},r=await this.request({path:O("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:s});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(o=r==null?void 0:r.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function sp(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const s=JSON.stringify(o);throw n>=400&&n<600?new Aa({message:s,status:n}):new Error(s)}}function GM(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,r){const c=Object.assign({},i);for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)){const d=r[f],m=c[f];d&&typeof d=="object"&&!Array.isArray(d)&&m&&typeof m=="object"&&!Array.isArray(m)?c[f]=o(m,d):(m&&d&&typeof m!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof d}. Overwriting.`),c[f]=d)}return c}const s=o(n,t);e.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OM="mcp_used/unknown";let $M=!1;function cx(e){for(const t of e)if(JM(t)||typeof t=="object"&&"inputSchema"in t)return!0;return $M}function dx(e){var t;const n=(t=e[Lu])!==null&&t!==void 0?t:"";e[Lu]=(n+` ${OM}`).trimStart()}function JM(e){return e!==null&&typeof e=="object"&&e instanceof Qc}function YM(e,t=100){return Wo(this,arguments,function*(){let o,s=0;for(;s<t;){const i=yield Ne(e.listTools({cursor:o}));for(const r of i.tools)yield yield Ne(r),s++;if(!i.nextCursor)break;o=i.nextCursor}})}class Qc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Qc(t,n)}async initialize(){var t,n,o,s;if(this.mcpTools.length>0)return;const i={},r=[];for(const m of this.mcpClients)try{for(var c=!0,f=(n=void 0,ti(YM(m))),d;d=await f.next(),t=d.done,!t;c=!0){s=d.value,c=!1;const p=s;r.push(p);const h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=m}}catch(p){n={error:p}}finally{try{!c&&!t&&(o=f.return)&&await o.call(f)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),sS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const o of t)if(o.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const r=await s.callTool({name:o.name,arguments:o.args},void 0,i);n.push({functionResponse:{name:o.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function KM(e,t,n){const o=new XT;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data);const i=Pw(s);Object.assign(o,i),t(o)}class XM{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o}async connect(t){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),r=ZM(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),f=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${c}`;let d=()=>{};const m=new Promise(x=>{d=x}),p=t.callbacks,h=function(){d({})},g=this.apiClient,C={onopen:h,onmessage:x=>{KM(g,p.onmessage,x)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(x){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(x){}},T=this.webSocketFactory.create(f,WM(r),C);T.connect(),await m;const N=ue(this.apiClient,t.model),b=Zy({model:N}),y=Du({setup:b});return T.send(JSON.stringify(y)),new QM(T,this.apiClient)}}class QM{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Vw(t),o=Wy(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Fw(t),o=Du(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const n=Du({playbackControl:t});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(qo.PLAY)}pause(){this.sendPlaybackControl(qo.PAUSE)}stop(){this.sendPlaybackControl(qo.STOP)}resetContext(){this.sendPlaybackControl(qo.RESET_CONTEXT)}close(){this.conn.close()}}function WM(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function ZM(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function t_(e,t,n){const o=new KT;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(e.isVertexAI()){const r=Yw(i);Object.assign(o,r)}else{const r=Jw(i);Object.assign(o,r)}t(o)}class n_{constructor(t,n,o){this.apiClient=t,this.auth=n,this.webSocketFactory=o,this.music=new XM(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,o,s,i,r,c;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let m;const p=this.apiClient.getHeaders();t.config&&t.config.tools&&cx(t.config.tools)&&dx(p);const h=l_(p);if(this.apiClient.isVertexAI())m=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const M=this.apiClient.getApiKey();let D="BidiGenerateContent",B="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),D="BidiGenerateContentConstrained",B="access_token"),m=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${D}?${B}=${M}`}let g=()=>{};const C=new Promise(M=>{g=M}),T=t.callbacks,N=function(){var M;(M=T==null?void 0:T.onopen)===null||M===void 0||M.call(T),g({})},b=this.apiClient,y={onopen:N,onmessage:M=>{t_(b,T.onmessage,M)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(M){}},x=this.webSocketFactory.create(m,i_(h),y);x.connect(),await C;let v=ue(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){const M=this.apiClient.getProject(),D=this.apiClient.getLocation();v=`projects/${M}/locations/${D}/`+v}let A={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ea.AUDIO]}:t.config.responseModalities=[ea.AUDIO]),!((i=t.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(c=(r=t.config)===null||r===void 0?void 0:r.tools)!==null&&c!==void 0?c:[],E=[];for(const M of w)if(this.isCallableTool(M)){const D=M;E.push(await D.tool())}else E.push(M);E.length>0&&(t.config.tools=E);const _={model:v,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=Dw(this.apiClient,_):A=Rw(this.apiClient,_),delete A.config,x.send(JSON.stringify(A)),new s_(x,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const o_={turnComplete:!0};class s_{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=Ut(n.turns),t.isVertexAI()?o=o.map(s=>Ns(s)):o=o.map(s=>Ma(s))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!t.isVertexAI()&&!("id"in i))throw new Error(e_)}return{toolResponse:{functionResponses:o}}}sendClientContent(t){t=Object.assign(Object.assign({},o_),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Hw(t)}:n={realtimeInput:zw(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function i_(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function l_(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ip=10;function lp(e){var t,n,o;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const r of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Zo(r)){s=!0;break}if(!s)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Zo(e){return"callTool"in e&&typeof e.callTool=="function"}function a_(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(s=>Zo(s)))!==null&&o!==void 0?o:!1}function r_(e){var t,n,o;return(o=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(s=>!Zo(s)))!==null&&o!==void 0?o:!1}function ap(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u_ extends Co{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var o,s,i,r,c;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!a_(n)||lp(n.config))return await this.generateContentInternal(f);if(r_(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,m;const p=Ut(f.contents),h=(i=(s=(o=f.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:ip;let g=0;for(;g<h&&(d=await this.generateContentInternal(f),!(!d.functionCalls||d.functionCalls.length===0));){const C=d.candidates[0].content,T=[];for(const N of(c=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&c!==void 0?c:[])if(Zo(N)){const y=await N.callTool(d.functionCalls);T.push(...y)}g++,m={role:"user",parts:T},f.contents=Ut(f.contents),f.contents.push(C),f.contents.push(m),ap(f.config)&&(p.push(C),p.push(m))}return ap(f.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),lp(n.config)){const o=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var s;let i;const r=[];if(o!=null&&o.generatedImages)for(const f of o.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((s=f==null?void 0:f.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=f==null?void 0:f.safetyAttributes:r.push(f);let c;return i?c={generatedImages:r,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:c={generatedImages:r,sdkHttpResponse:o.sdkHttpResponse},c}),this.list=async n=>{var o;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((o=r.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new Ii(po.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(r),r)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,o,s;const i=(n=t.config)===null||n===void 0?void 0:n.tools;if(!i)return t;const r=await Promise.all(i.map(async f=>Zo(f)?await f.tool():f)),c={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:r})};if(c.config.tools=r,t.config&&t.config.tools&&cx(t.config.tools)){const f=(s=(o=t.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&s!==void 0?s:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),dx(d),c.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return c}async initAfcToolsMap(t){var n,o,s;const i=new Map;for(const r of(o=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(Zo(r)){const c=r,f=await c.tool();for(const d of(s=f.functionDeclarations)!==null&&s!==void 0?s:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,c)}}return i}async processAfcStream(t){var n,o,s;const i=(s=(o=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&s!==void 0?s:ip;let r=!1,c=0;const f=await this.initAfcToolsMap(t);return function(d,m,p){var h,g;return Wo(this,arguments,function*(){for(var C,T,N,b;c<i;){r&&(c++,r=!1);const A=yield Ne(d.processParamsMaybeAddMcpUsage(p)),w=yield Ne(d.generateContentStreamInternal(A)),E=[],_=[];try{for(var y=!0,x=(T=void 0,ti(w)),v;v=yield Ne(x.next()),C=v.done,!C;y=!0){b=v.value,y=!1;const M=b;if(yield yield Ne(M),M.candidates&&(!((h=M.candidates[0])===null||h===void 0)&&h.content)){_.push(M.candidates[0].content);for(const D of(g=M.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(c<i&&D.functionCall){if(!D.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(D.functionCall.name)){const B=yield Ne(m.get(D.functionCall.name).callTool([D.functionCall]));E.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${D.functionCall.name}`)}}}}catch(M){T={error:M}}finally{try{!y&&!C&&(N=x.return)&&(yield Ne(N.call(x)))}finally{if(T)throw T.error}}if(E.length>0){r=!0;const M=new Ls;M.candidates=[{content:{role:"user",parts:E}}],yield yield Ne(M);const D=[];D.push(..._),D.push({role:"user",parts:E});const B=Ut(p.contents).concat(D);p.contents=B}else break}})}(this,f,t)}async generateContentInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=ep(this.apiClient,t);return c=O("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=np(m),h=new Ls;return Object.assign(h,p),h})}else{const d=Zm(this.apiClient,t);return c=O("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=tp(m),h=new Ls;return Object.assign(h,p),h})}}async generateContentStreamInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=ep(this.apiClient,t);return c=O("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(p){return Wo(this,arguments,function*(){var h,g,C,T;try{for(var N=!0,b=ti(p),y;y=yield Ne(b.next()),h=y.done,!h;N=!0){T=y.value,N=!1;const x=T,v=np(yield Ne(x.json()));v.sdkHttpResponse={headers:x.headers};const A=new Ls;Object.assign(A,v),yield yield Ne(A)}}catch(x){g={error:x}}finally{try{!N&&!h&&(C=b.return)&&(yield Ne(C.call(b)))}finally{if(g)throw g.error}}})})}else{const d=Zm(this.apiClient,t);return c=O("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.requestStream({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(p){return Wo(this,arguments,function*(){var h,g,C,T;try{for(var N=!0,b=ti(p),y;y=yield Ne(b.next()),h=y.done,!h;N=!0){T=y.value,N=!1;const x=T,v=tp(yield Ne(x.json()));v.sdkHttpResponse={headers:x.headers};const A=new Ls;Object.assign(A,v),yield yield Ne(A)}}catch(x){g={error:x}}finally{try{!N&&!h&&(C=b.return)&&(yield Ne(C.call(b)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=NA(this.apiClient,t);return c=O("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=wA(m),h=new Im;return Object.assign(h,p),h})}else{const d=SA(this.apiClient,t);return c=O("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=EA(m),h=new Im;return Object.assign(h,p),h})}}async generateImagesInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=JA(this.apiClient,t);return c=O("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=KA(m),h=new Lm;return Object.assign(h,p),h})}else{const d=$A(this.apiClient,t);return c=O("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=YA(m),h=new Lm;return Object.assign(h,p),h})}}async editImageInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI()){const c=yA(this.apiClient,t);return i=O("{model}:predict",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const d=xA(f),m=new zT;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI()){const c=bM(this.apiClient,t);return i=O("{model}:predict",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const d=vM(f),m=new HT;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI()){const c=z1(this.apiClient,t);return i=O("{model}:predict",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const d=H1(f),m=new qT;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI()){const c=Z1(this.apiClient,t);return i=O("{model}:predict",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const d=eM(f),m=new GT;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=d1(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>Iu(m))}else{const d=c1(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>ku(m))}}async listInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=A1(this.apiClient,t);return c=O("{models_url}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=_1(m),h=new Um;return Object.assign(h,p),h})}else{const d=w1(this.apiClient,t);return c=O("{models_url}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=M1(m),h=new Um;return Object.assign(h,p),h})}}async update(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=yM(this.apiClient,t);return c=O("{model}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>Iu(m))}else{const d=gM(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>ku(m))}}async delete(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=dA(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=mA(m),h=new Pm;return Object.assign(h,p),h})}else{const d=cA(this.apiClient,t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=fA(m),h=new Pm;return Object.assign(h,p),h})}}async countTokens(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=aA(this.apiClient,t);return c=O("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=uA(m),h=new Bm;return Object.assign(h,p),h})}else{const d=lA(this.apiClient,t);return c=O("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=rA(m),h=new Bm;return Object.assign(h,p),h})}}async computeTokens(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI()){const c=Y2(this.apiClient,t);return i=O("{model}:computeTokens",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>{const d=K2(f),m=new OT;return Object.assign(m,d),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=t1(this.apiClient,t);return c=O("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r.then(m=>{const p=ZA(m),h=new ta;return Object.assign(h,p),h})}else{const d=e1(this.apiClient,t);return c=O("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r.then(m=>{const p=WA(m),h=new ta;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c_ extends Co{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async get(t){const n=t.operation,o=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:r,isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:s,isVertexAI:!1})}}async getVideosOperationInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=FT(t);return c=O("{operationName}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),r}else{const d=BT(t);return c=O("{operationName}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),r}}async fetchPredictVideosOperationInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI()){const c=RT(t);return i=O("{resourceName}:fetchPredictOperation",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rp(){return{}}function d_(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["name"],n),t}function f_(e){const t={},n=l(e,["disabled"]);n!=null&&a(t,["disabled"],n);const o=l(e,["startOfSpeechSensitivity"]);o!=null&&a(t,["startOfSpeechSensitivity"],o);const s=l(e,["endOfSpeechSensitivity"]);s!=null&&a(t,["endOfSpeechSensitivity"],s);const i=l(e,["prefixPaddingMs"]);i!=null&&a(t,["prefixPaddingMs"],i);const r=l(e,["silenceDurationMs"]);return r!=null&&a(t,["silenceDurationMs"],r),t}function m_(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["data"]);n!=null&&a(t,["data"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function p_(e){const t={},n=l(e,["environment"]);n!=null&&a(t,["environment"],n);const o=l(e,["excludedPredefinedFunctions"]);return o!=null&&a(t,["excludedPredefinedFunctions"],o),t}function h_(e){const t={},n=l(e,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>__(i))),a(t,["parts"],s)}const o=l(e,["role"]);return o!=null&&a(t,["role"],o),t}function g_(e){const t={},n=l(e,["triggerTokens"]);n!=null&&a(t,["triggerTokens"],n);const o=l(e,["slidingWindow"]);return o!=null&&a(t,["slidingWindow"],L_(o)),t}function y_(e,t,n){const o={},s=l(t,["expireTime"]);n!==void 0&&s!=null&&a(n,["expireTime"],s);const i=l(t,["newSessionExpireTime"]);n!==void 0&&i!=null&&a(n,["newSessionExpireTime"],i);const r=l(t,["uses"]);n!==void 0&&r!=null&&a(n,["uses"],r);const c=l(t,["liveConnectConstraints"]);n!==void 0&&c!=null&&a(n,["bidiGenerateContentSetup"],A_(e,c));const f=l(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&a(n,["fieldMask"],f),o}function x_(e,t){const n={},o=l(t,["config"]);return o!=null&&a(n,["config"],y_(e,o,n)),n}function b_(e){const t={},n=l(e,["mode"]);n!=null&&a(t,["mode"],n);const o=l(e,["dynamicThreshold"]);return o!=null&&a(t,["dynamicThreshold"],o),t}function v_(e){const t={};if(l(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=l(e,["fileUri"]);n!=null&&a(t,["fileUri"],n);const o=l(e,["mimeType"]);return o!=null&&a(t,["mimeType"],o),t}function C_(e){const t={},n=l(e,["id"]);n!=null&&a(t,["id"],n);const o=l(e,["args"]);o!=null&&a(t,["args"],o);const s=l(e,["name"]);return s!=null&&a(t,["name"],s),t}function T_(e){const t={},n=l(e,["behavior"]);n!=null&&a(t,["behavior"],n);const o=l(e,["description"]);o!=null&&a(t,["description"],o);const s=l(e,["name"]);s!=null&&a(t,["name"],s);const i=l(e,["parameters"]);i!=null&&a(t,["parameters"],i);const r=l(e,["parametersJsonSchema"]);r!=null&&a(t,["parametersJsonSchema"],r);const c=l(e,["response"]);c!=null&&a(t,["response"],c);const f=l(e,["responseJsonSchema"]);return f!=null&&a(t,["responseJsonSchema"],f),t}function S_(e){const t={},n=l(e,["dynamicRetrievalConfig"]);return n!=null&&a(t,["dynamicRetrievalConfig"],b_(n)),t}function N_(e){const t={},n=l(e,["timeRangeFilter"]);if(n!=null&&a(t,["timeRangeFilter"],E_(n)),l(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function E_(e){const t={},n=l(e,["startTime"]);n!=null&&a(t,["startTime"],n);const o=l(e,["endTime"]);return o!=null&&a(t,["endTime"],o),t}function w_(e,t){const n={},o=l(e,["generationConfig"]);t!==void 0&&o!=null&&a(t,["setup","generationConfig"],o);const s=l(e,["responseModalities"]);t!==void 0&&s!=null&&a(t,["setup","generationConfig","responseModalities"],s);const i=l(e,["temperature"]);t!==void 0&&i!=null&&a(t,["setup","generationConfig","temperature"],i);const r=l(e,["topP"]);t!==void 0&&r!=null&&a(t,["setup","generationConfig","topP"],r);const c=l(e,["topK"]);t!==void 0&&c!=null&&a(t,["setup","generationConfig","topK"],c);const f=l(e,["maxOutputTokens"]);t!==void 0&&f!=null&&a(t,["setup","generationConfig","maxOutputTokens"],f);const d=l(e,["mediaResolution"]);t!==void 0&&d!=null&&a(t,["setup","generationConfig","mediaResolution"],d);const m=l(e,["seed"]);t!==void 0&&m!=null&&a(t,["setup","generationConfig","seed"],m);const p=l(e,["speechConfig"]);t!==void 0&&p!=null&&a(t,["setup","generationConfig","speechConfig"],P_(Kc(p)));const h=l(e,["thinkingConfig"]);t!==void 0&&h!=null&&a(t,["setup","generationConfig","thinkingConfig"],B_(h));const g=l(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&a(t,["setup","generationConfig","enableAffectiveDialog"],g);const C=l(e,["systemInstruction"]);t!==void 0&&C!=null&&a(t,["setup","systemInstruction"],h_(nt(C)));const T=l(e,["tools"]);if(t!==void 0&&T!=null){let w=Ts(T);Array.isArray(w)&&(w=w.map(E=>F_(Cs(E)))),a(t,["setup","tools"],w)}const N=l(e,["sessionResumption"]);t!==void 0&&N!=null&&a(t,["setup","sessionResumption"],I_(N));const b=l(e,["inputAudioTranscription"]);t!==void 0&&b!=null&&a(t,["setup","inputAudioTranscription"],rp());const y=l(e,["outputAudioTranscription"]);t!==void 0&&y!=null&&a(t,["setup","outputAudioTranscription"],rp());const x=l(e,["realtimeInputConfig"]);t!==void 0&&x!=null&&a(t,["setup","realtimeInputConfig"],k_(x));const v=l(e,["contextWindowCompression"]);t!==void 0&&v!=null&&a(t,["setup","contextWindowCompression"],g_(v));const A=l(e,["proactivity"]);return t!==void 0&&A!=null&&a(t,["setup","proactivity"],D_(A)),n}function A_(e,t){const n={},o=l(t,["model"]);o!=null&&a(n,["setup","model"],ue(e,o));const s=l(t,["config"]);return s!=null&&a(n,["config"],w_(s,n)),n}function M_(e){const t={},n=l(e,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>U_(s))),a(t,["speakerVoiceConfigs"],o)}return t}function __(e){const t={},n=l(e,["videoMetadata"]);n!=null&&a(t,["videoMetadata"],j_(n));const o=l(e,["thought"]);o!=null&&a(t,["thought"],o);const s=l(e,["inlineData"]);s!=null&&a(t,["inlineData"],m_(s));const i=l(e,["fileData"]);i!=null&&a(t,["fileData"],v_(i));const r=l(e,["thoughtSignature"]);r!=null&&a(t,["thoughtSignature"],r);const c=l(e,["functionCall"]);c!=null&&a(t,["functionCall"],C_(c));const f=l(e,["codeExecutionResult"]);f!=null&&a(t,["codeExecutionResult"],f);const d=l(e,["executableCode"]);d!=null&&a(t,["executableCode"],d);const m=l(e,["functionResponse"]);m!=null&&a(t,["functionResponse"],m);const p=l(e,["text"]);return p!=null&&a(t,["text"],p),t}function R_(e){const t={},n=l(e,["voiceName"]);return n!=null&&a(t,["voiceName"],n),t}function D_(e){const t={},n=l(e,["proactiveAudio"]);return n!=null&&a(t,["proactiveAudio"],n),t}function k_(e){const t={},n=l(e,["automaticActivityDetection"]);n!=null&&a(t,["automaticActivityDetection"],f_(n));const o=l(e,["activityHandling"]);o!=null&&a(t,["activityHandling"],o);const s=l(e,["turnCoverage"]);return s!=null&&a(t,["turnCoverage"],s),t}function I_(e){const t={},n=l(e,["handle"]);if(n!=null&&a(t,["handle"],n),l(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function L_(e){const t={},n=l(e,["targetTokens"]);return n!=null&&a(t,["targetTokens"],n),t}function U_(e){const t={},n=l(e,["speaker"]);n!=null&&a(t,["speaker"],n);const o=l(e,["voiceConfig"]);return o!=null&&a(t,["voiceConfig"],fx(o)),t}function P_(e){const t={},n=l(e,["voiceConfig"]);n!=null&&a(t,["voiceConfig"],fx(n));const o=l(e,["multiSpeakerVoiceConfig"]);o!=null&&a(t,["multiSpeakerVoiceConfig"],M_(o));const s=l(e,["languageCode"]);return s!=null&&a(t,["languageCode"],s),t}function B_(e){const t={},n=l(e,["includeThoughts"]);n!=null&&a(t,["includeThoughts"],n);const o=l(e,["thinkingBudget"]);return o!=null&&a(t,["thinkingBudget"],o),t}function F_(e){const t={},n=l(e,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>T_(d))),a(t,["functionDeclarations"],f)}if(l(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=l(e,["googleSearch"]);o!=null&&a(t,["googleSearch"],N_(o));const s=l(e,["googleSearchRetrieval"]);if(s!=null&&a(t,["googleSearchRetrieval"],S_(s)),l(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(l(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");l(e,["urlContext"])!=null&&a(t,["urlContext"],V_());const r=l(e,["computerUse"]);r!=null&&a(t,["computerUse"],p_(r));const c=l(e,["codeExecution"]);return c!=null&&a(t,["codeExecution"],c),t}function V_(){return{}}function j_(e){const t={},n=l(e,["fps"]);n!=null&&a(t,["fps"],n);const o=l(e,["endOffset"]);o!=null&&a(t,["endOffset"],o);const s=l(e,["startOffset"]);return s!=null&&a(t,["startOffset"],s),t}function fx(e){const t={},n=l(e,["prebuiltVoiceConfig"]);return n!=null&&a(t,["prebuiltVoiceConfig"],R_(n)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z_(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const s=Object.keys(o).map(i=>`${n}.${i}`);t.push(...s)}else t.push(n)}return t.join(",")}function H_(e,t){let n=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,n=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const s=e.fieldMask;if(n){const i=z_(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];s.length>0&&(c=s.map(d=>r.includes(d)?`generationConfig.${d}`:d));const f=[];i&&f.push(i),c.length>0&&f.push(...c),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?e.fieldMask=s.join(","):delete e.fieldMask;return e}class q_ extends Co{constructor(t){super(),this.apiClient=t}async create(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=x_(this.apiClient,t);i=O("auth_tokens",c._url),r=c._query,delete c.config,delete c._url,delete c._query;const f=H_(c,t.config);return s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G_(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function O_(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function $_(e,t){const n={};if(l(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=l(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&a(t,["displayName"],o),l(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=l(e,["epochCount"]);t!==void 0&&s!=null&&a(t,["tuningTask","hyperparameters","epochCount"],s);const i=l(e,["learningRateMultiplier"]);if(i!=null&&a(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),l(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=l(e,["batchSize"]);t!==void 0&&r!=null&&a(t,["tuningTask","hyperparameters","batchSize"],r);const c=l(e,["learningRate"]);if(t!==void 0&&c!=null&&a(t,["tuningTask","hyperparameters","learningRate"],c),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function J_(e,t){const n={},o=l(e,["validationDataset"]);t!==void 0&&o!=null&&a(t,["supervisedTuningSpec"],dR(o,n));const s=l(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&a(t,["tunedModelDisplayName"],s);const i=l(e,["description"]);t!==void 0&&i!=null&&a(t,["description"],i);const r=l(e,["epochCount"]);t!==void 0&&r!=null&&a(t,["supervisedTuningSpec","hyperParameters","epochCount"],r);const c=l(e,["learningRateMultiplier"]);t!==void 0&&c!=null&&a(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],c);const f=l(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&a(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=l(e,["adapterSize"]);if(t!==void 0&&d!=null&&a(t,["supervisedTuningSpec","hyperParameters","adapterSize"],d),l(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=l(e,["labels"]);return t!==void 0&&m!=null&&a(t,["labels"],m),n}function Y_(e){const t={},n=l(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["preTunedModel"]);o!=null&&a(t,["preTunedModel"],o);const s=l(e,["trainingDataset"]);s!=null&&a(t,["tuningTask","trainingData"],aR(s));const i=l(e,["config"]);return i!=null&&$_(i,t),t}function K_(e){const t={},n=l(e,["baseModel"]);n!=null&&a(t,["baseModel"],n);const o=l(e,["preTunedModel"]);o!=null&&a(t,["preTunedModel"],o);const s=l(e,["trainingDataset"]);s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],rR(s,t));const i=l(e,["config"]);return i!=null&&J_(i,t),t}function X_(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function Q_(e){const t={},n=l(e,["name"]);return n!=null&&a(t,["_url","name"],n),t}function W_(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=l(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const i=l(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function Z_(e,t){const n={},o=l(e,["pageSize"]);t!==void 0&&o!=null&&a(t,["_query","pageSize"],o);const s=l(e,["pageToken"]);t!==void 0&&s!=null&&a(t,["_query","pageToken"],s);const i=l(e,["filter"]);return t!==void 0&&i!=null&&a(t,["_query","filter"],i),n}function eR(e){const t={},n=l(e,["config"]);return n!=null&&W_(n,t),t}function tR(e){const t={},n=l(e,["config"]);return n!=null&&Z_(n,t),t}function nR(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["tunedModels"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>mx(r))),a(t,["tuningJobs"],i)}return t}function oR(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["nextPageToken"]);o!=null&&a(t,["nextPageToken"],o);const s=l(e,["tuningJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>Uu(r))),a(t,["tuningJobs"],i)}return t}function sR(e){const t={},n=l(e,["checkpointId"]);n!=null&&a(t,["checkpointId"],n);const o=l(e,["epoch"]);o!=null&&a(t,["epoch"],o);const s=l(e,["step"]);s!=null&&a(t,["step"],s);const i=l(e,["endpoint"]);return i!=null&&a(t,["endpoint"],i),t}function iR(e){const t={},n=l(e,["name"]);n!=null&&a(t,["model"],n);const o=l(e,["name"]);return o!=null&&a(t,["endpoint"],o),t}function lR(e){const t={},n=l(e,["model"]);n!=null&&a(t,["model"],n);const o=l(e,["endpoint"]);o!=null&&a(t,["endpoint"],o);const s=l(e,["checkpoints"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(r=>sR(r))),a(t,["checkpoints"],i)}return t}function aR(e){const t={};if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=l(e,["examples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>uR(s))),a(t,["examples","examples"],o)}return t}function rR(e,t){const n={},o=l(e,["gcsUri"]);t!==void 0&&o!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],o);const s=l(e,["vertexDatasetResource"]);if(t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s),l(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function uR(e){const t={},n=l(e,["textInput"]);n!=null&&a(t,["textInput"],n);const o=l(e,["output"]);return o!=null&&a(t,["output"],o),t}function mx(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["state"]);s!=null&&a(t,["state"],Vy(s));const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=l(e,["tuningTask","startTime"]);r!=null&&a(t,["startTime"],r);const c=l(e,["tuningTask","completeTime"]);c!=null&&a(t,["endTime"],c);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=l(e,["description"]);d!=null&&a(t,["description"],d);const m=l(e,["baseModel"]);m!=null&&a(t,["baseModel"],m);const p=l(e,["_self"]);p!=null&&a(t,["tunedModel"],iR(p));const h=l(e,["customBaseModel"]);h!=null&&a(t,["customBaseModel"],h);const g=l(e,["experiment"]);g!=null&&a(t,["experiment"],g);const C=l(e,["labels"]);C!=null&&a(t,["labels"],C);const T=l(e,["outputUri"]);T!=null&&a(t,["outputUri"],T);const N=l(e,["pipelineJob"]);N!=null&&a(t,["pipelineJob"],N);const b=l(e,["serviceAccount"]);b!=null&&a(t,["serviceAccount"],b);const y=l(e,["tunedModelDisplayName"]);y!=null&&a(t,["tunedModelDisplayName"],y);const x=l(e,["veoTuningSpec"]);return x!=null&&a(t,["veoTuningSpec"],x),t}function Uu(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["state"]);s!=null&&a(t,["state"],Vy(s));const i=l(e,["createTime"]);i!=null&&a(t,["createTime"],i);const r=l(e,["startTime"]);r!=null&&a(t,["startTime"],r);const c=l(e,["endTime"]);c!=null&&a(t,["endTime"],c);const f=l(e,["updateTime"]);f!=null&&a(t,["updateTime"],f);const d=l(e,["error"]);d!=null&&a(t,["error"],d);const m=l(e,["description"]);m!=null&&a(t,["description"],m);const p=l(e,["baseModel"]);p!=null&&a(t,["baseModel"],p);const h=l(e,["tunedModel"]);h!=null&&a(t,["tunedModel"],lR(h));const g=l(e,["preTunedModel"]);g!=null&&a(t,["preTunedModel"],g);const C=l(e,["supervisedTuningSpec"]);C!=null&&a(t,["supervisedTuningSpec"],C);const T=l(e,["tuningDataStats"]);T!=null&&a(t,["tuningDataStats"],T);const N=l(e,["encryptionSpec"]);N!=null&&a(t,["encryptionSpec"],N);const b=l(e,["partnerModelTuningSpec"]);b!=null&&a(t,["partnerModelTuningSpec"],b);const y=l(e,["customBaseModel"]);y!=null&&a(t,["customBaseModel"],y);const x=l(e,["experiment"]);x!=null&&a(t,["experiment"],x);const v=l(e,["labels"]);v!=null&&a(t,["labels"],v);const A=l(e,["outputUri"]);A!=null&&a(t,["outputUri"],A);const w=l(e,["pipelineJob"]);w!=null&&a(t,["pipelineJob"],w);const E=l(e,["serviceAccount"]);E!=null&&a(t,["serviceAccount"],E);const _=l(e,["tunedModelDisplayName"]);_!=null&&a(t,["tunedModelDisplayName"],_);const M=l(e,["veoTuningSpec"]);return M!=null&&a(t,["veoTuningSpec"],M),t}function cR(e){const t={},n=l(e,["sdkHttpResponse"]);n!=null&&a(t,["sdkHttpResponse"],n);const o=l(e,["name"]);o!=null&&a(t,["name"],o);const s=l(e,["metadata"]);s!=null&&a(t,["metadata"],s);const i=l(e,["done"]);i!=null&&a(t,["done"],i);const r=l(e,["error"]);return r!=null&&a(t,["error"],r),t}function dR(e,t){const n={},o=l(e,["gcsUri"]);o!=null&&a(n,["validationDatasetUri"],o);const s=l(e,["vertexDatasetResource"]);return t!==void 0&&s!=null&&a(t,["supervisedTuningSpec","trainingDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fR extends Co{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Ii(po.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let r="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?r=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(r=i.name.split("/operations/")[0]),{name:r,state:wu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=Q_(t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>Uu(m))}else{const d=X_(t);return c=O("{name}",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>mx(m))}}async listInternal(t){var n,o,s,i;let r,c="",f={};if(this.apiClient.isVertexAI()){const d=tR(t);return c=O("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=oR(m),h=new Fm;return Object.assign(h,p),h})}else{const d=eR(t);return c=O("tunedModels",d._url),f=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:m.headers},h})),r.then(m=>{const p=nR(m),h=new Fm;return Object.assign(h,p),h})}}async cancel(t){var n,o,s,i;let r="",c={};if(this.apiClient.isVertexAI()){const f=O_(t);r=O("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}else{const f=G_(t);r=O("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI()){const c=K_(t);return i=O("tuningJobs",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>Uu(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,o;let s,i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Y_(t);return i=O("tunedModels",c._url),r=c._query,delete c._url,delete c._query,s=this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(d=>{const m=d;return m.sdkHttpResponse={headers:f.headers},m})),s.then(f=>cR(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mR{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const pR=1024*1024*8,hR=3,gR=1e3,yR=2,Sr="x-goog-upload-status";async function xR(e,t,n){var o,s,i;let r=0,c=0,f=new Au(new Response),d="upload";for(r=e.size;c<r;){const p=Math.min(pR,r-c),h=e.slice(c,c+p);c+p>=r&&(d+=", finalize");let g=0,C=gR;for(;g<hR&&(f=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((o=f==null?void 0:f.headers)===null||o===void 0)&&o[Sr]));)g++,await vR(C),C=C*yR;if(c+=p,((s=f==null?void 0:f.headers)===null||s===void 0?void 0:s[Sr])!=="active")break;if(r<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const m=await(f==null?void 0:f.json());if(((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Sr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return m.file}async function bR(e){return{size:e.size,type:e.type}}function vR(e){return new Promise(t=>setTimeout(t,e))}class CR{async upload(t,n,o){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await xR(t,n,o)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await bR(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TR{create(t,n,o){return new SR(t,n,o)}}class SR{constructor(t,n,o){this.url=t,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const up="x-goog-api-key";class NR{constructor(t){this.apiKey=t}async addAuthHeaders(t){if(t.get(up)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(up,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ER="gl-node/";class wR{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const o=_T(t.httpOptions,t.vertexai,void 0,void 0);o&&(t.httpOptions?t.httpOptions.baseUrl=o:t.httpOptions={baseUrl:o}),this.apiVersion=t.apiVersion;const s=new NR(this.apiKey);this.apiClient=new qM({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:ER+"web",uploader:new CR,downloader:new mR}),this.models=new u_(this.apiClient),this.live=new n_(this.apiClient,s,new TR),this.batches=new CN(this.apiClient),this.chats=new _E(this.models,this.apiClient),this.caches=new wE(this.apiClient),this.files=new HE(this.apiClient),this.operations=new c_(this.apiClient),this.authTokens=new q_(this.apiClient),this.tunings=new fR(this.apiClient)}}const AR="AIzaSyCF0j0LFCwPdpz30sdfiyEHG44qlLIGW1Q";let Sl=null;Sl=new wR({apiKey:AR});const MR={type:Je.OBJECT,properties:{headline:{type:Je.STRING,description:"A brief, catchy headline summarizing the draw result. Max 15 words."},netProfitAnalysis:{type:Je.STRING,description:'A short sentence analyzing the net profit or loss figure. Example: "The company secured a healthy profit from this draw."'},performanceAnalysis:{type:Je.STRING,description:`Analysis of the draw's performance, considering participation levels (number of bets). Example: "Participation was moderate, indicating steady player engagement."`},conclusion:{type:Je.STRING,description:'A concluding remark or a forecast for future draws. Example: "Overall, a successful draw. Future promotions could boost participation further."'}},required:["headline","netProfitAnalysis","performanceAnalysis","conclusion"]},_R={type:Je.OBJECT,properties:{headline:{type:Je.STRING,description:"A brief, catchy headline summarizing the current betting landscape for the draw. Max 15 words."},riskAnalysis:{type:Je.STRING,description:'A short sentence analyzing the financial risk based on heavily-betted numbers. Example: "Significant liability on number 1234; a win on this could lead to a large payout."'},participationAnalysis:{type:Je.STRING,description:`Analysis of the draw's participation levels (number of bets). Example: "High participation with a wide spread of bets suggests strong player engagement."`},conclusion:{type:Je.STRING,description:'A concluding remark about the betting trends. Example: "Betting is concentrated on lower-order numbers. Monitor results closely."'}},required:["headline","riskAnalysis","participationAnalysis","conclusion"]},RR=async e=>{var s;if(!Sl)return"AI analysis is disabled. The Google Gemini API key was not provided during the application build.";const{draw:t,bets:n,clients:o}=e;if(t.status===Q.Finished){const i=n.reduce((p,h)=>p+h.stake,0),r=n.filter(p=>wa(p,t.winningNumbers)),c=new Map(o.map(p=>[p.id,p])),f=r.reduce((p,h)=>{const g=c.get(h.clientId);if(!g||!g.prizeRates)return p;const C=h.condition.toLowerCase(),T=g.prizeRates[h.gameType];if(T&&typeof T[C]=="number"){const N=T[C],b=h.stake*(N/100);return p+b}return p},0),d=i-f,m=`
            Analyze the following lottery draw data and provide a summary in the requested JSON format.
            Data for your analysis:
            - Draw Name: Draw ${t.name}
            - Winning Numbers: ${(s=t.winningNumbers)==null?void 0:s.join(", ")}
            - Total Bets Placed: ${n.length}
            - Total Stake Collected: ${i.toFixed(2)}
            - Net Profit for the Company: ${d.toFixed(2)}
        `;try{const h=(await Sl.models.generateContent({model:"gemini-2.5-flash",contents:m,config:{responseMimeType:"application/json",responseSchema:MR}})).text.trim();return JSON.parse(h)}catch(p){return console.error("Error generating final analysis with Gemini API:",p),"An error occurred while generating the final report. The AI model may be temporarily unavailable or the response was not valid. Please try again."}}else if(t.status===Q.Closed){const i=n.reduce((d,m)=>d+m.stake,0),r=new Map;n.forEach(d=>{r.set(d.number,(r.get(d.number)||0)+d.stake)});const c=[...r.entries()].sort((d,m)=>m[1]-d[1]).slice(0,5).map(([d,m])=>`${d} (Stake: ${m.toFixed(2)})`).join(", "),f=`
            Analyze the following live lottery draw data for a draw that has closed for betting but has not yet had winning numbers announced. Provide a summary in the requested JSON format. Focus on financial risk exposure and betting trends.
            Data for your analysis:
            - Draw Name: Draw ${t.name}
            - Total Bets Placed: ${n.length}
            - Total Stake Collected: ${i.toFixed(2)}
            - Top 5 Highest-Staked Numbers: ${c||"N/A"}
        `;try{const m=(await Sl.models.generateContent({model:"gemini-2.5-flash",contents:f,config:{responseMimeType:"application/json",responseSchema:_R}})).text.trim();return JSON.parse(m)}catch(d){return console.error("Error generating interim analysis with Gemini API:",d),"An error occurred while generating the interim report. The AI model may be temporarily unavailable or the response was not valid. Please try again."}}else return"AI analysis is only available for 'CLOSED' or 'FINISHED' draws."},oa=e=>e===0?"-":e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),Nr=({data:e})=>e.stake===0?u.jsx(u.Fragment,{children:oa(0)}):u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{children:oa(e.stake)}),e.sources.length>0&&u.jsxs("span",{className:"text-xs text-brand-text-secondary -mt-1 font-normal opacity-80",children:["(from ",e.sources.join(", "),")"]})]}),DR=({draw:e,conditionFilter:t})=>{const{bets:n}=ce(),[o,s]=S.useState(""),[i,r]=S.useState({key:"total",direction:"desc"}),[c,f]=S.useState(1),d=50,m=S.useMemo(()=>{const T=new Map;let N=n.filter(y=>y.drawId===e.id);t!=="ALL"&&(N=N.filter(y=>y.condition===t));const b=y=>(T.has(y)||T.set(y,{"4D":{stake:0,sources:new Set},"3D":{stake:0,sources:new Set},"2D":{stake:0,sources:new Set},"1D":{stake:0,sources:new Set},total:0}),T.get(y));for(const y of N){const{gameType:x,number:v,stake:A}=y;switch(x){case I.FourDigits:{const w=b(v);w["4D"].stake+=A,w.total+=A;break}case I.ThreeDigits:{for(let w=0;w<10;w++){const E=v+w.toString(),_=b(E);_["3D"].stake+=A,_["3D"].sources.add(v),_.total+=A}break}case I.TwoDigits:{for(let w=0;w<100;w++){const E=v+w.toString().padStart(2,"0"),_=b(E);_["2D"].stake+=A,_["2D"].sources.add(v),_.total+=A}break}case I.OneDigit:{for(let w=0;w<1e3;w++){const E=v+w.toString().padStart(3,"0"),_=b(E);_["1D"].stake+=A,_["1D"].sources.add(v),_.total+=A}break}}}return Array.from(T.entries()).map(([y,x])=>({number:y,"4D":{stake:x["4D"].stake,sources:Array.from(x["4D"].sources)},"3D":{stake:x["3D"].stake,sources:Array.from(x["3D"].sources)},"2D":{stake:x["2D"].stake,sources:Array.from(x["2D"].sources)},"1D":{stake:x["1D"].stake,sources:Array.from(x["1D"].sources)},total:x.total}))},[e.id,n,t]),p=S.useMemo(()=>{let T=[...m];return o&&(T=T.filter(N=>N.number.includes(o))),T.sort((N,b)=>{const y=i.key,x=i.direction,v=y==="number"||y==="total"?N[y]:N[y].stake,A=y==="number"||y==="total"?b[y]:b[y].stake;return v<A?x==="asc"?-1:1:v>A?x==="asc"?1:-1:0}),T},[m,o,i]),h=S.useMemo(()=>{const T=(c-1)*d;return p.slice(T,T+d)},[p,c]),g=Math.ceil(p.length/d),C=T=>{r(N=>({key:T,direction:N.key===T&&N.direction==="desc"?"asc":"desc"})),f(1)};return S.useEffect(()=>{f(1)},[o,e.id,t]),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsx("input",{type:"text",placeholder:"Search for a number...",value:o,onChange:T=>s(T.target.value),className:"w-full md:w-72 bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"}),u.jsxs("p",{className:"text-sm text-brand-text-secondary",children:["Showing ",h.length," of ",p.length," entries"]})]}),u.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx(ze,{onClick:()=>C("number"),sortKey:"number",currentSort:i.key,direction:i.direction,children:"Number"}),u.jsx(ze,{onClick:()=>C("4D"),sortKey:"4D",currentSort:i.key,direction:i.direction,className:"text-right",children:"4D Stake"}),u.jsx(ze,{onClick:()=>C("3D"),sortKey:"3D",currentSort:i.key,direction:i.direction,className:"text-right",children:"3D Stake"}),u.jsx(ze,{onClick:()=>C("2D"),sortKey:"2D",currentSort:i.key,direction:i.direction,className:"text-right",children:"2D Stake"}),u.jsx(ze,{onClick:()=>C("1D"),sortKey:"1D",currentSort:i.key,direction:i.direction,className:"text-right",children:"1D Stake"}),u.jsx(ze,{onClick:()=>C("total"),sortKey:"total",currentSort:i.key,direction:i.direction,className:"text-right",children:"Total Stake"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:h.map(T=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-2 font-mono font-bold text-brand-text",children:T.number}),u.jsx("td",{className:"px-6 py-2 font-mono text-right",children:oa(T["4D"].stake)}),u.jsx("td",{className:"px-6 py-2 font-mono text-right",children:u.jsx(Nr,{data:T["3D"]})}),u.jsx("td",{className:"px-6 py-2 font-mono text-right",children:u.jsx(Nr,{data:T["2D"]})}),u.jsx("td",{className:"px-6 py-2 font-mono text-right",children:u.jsx(Nr,{data:T["1D"]})}),u.jsx("td",{className:"px-6 py-2 font-mono text-right font-bold text-brand-primary",children:oa(T.total)})]},T.number))})]}),p.length===0&&u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-brand-text-secondary",children:["No betting data found for this draw",o&&" with the current filter","."]})})]}),g>1&&u.jsxs("div",{className:"flex justify-between items-center pt-2",children:[u.jsx("button",{onClick:()=>f(T=>T-1),disabled:c===1,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:" Previous"}),u.jsxs("span",{className:"font-semibold text-brand-text-secondary",children:["Page ",c," of ",g]}),u.jsx("button",{onClick:()=>f(T=>T+1),disabled:c===g,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:"Next "})]})]})},cp=(e,t,n)=>{if(n.length!==4)return!1;switch(t){case I.FourDigits:return e.length===4&&e===n;case I.ThreeDigits:return e.length===3&&n.startsWith(e);case I.TwoDigits:return e.length===2&&n.startsWith(e);case I.OneDigit:return e.length===1&&n.startsWith(e);default:return!1}},dp=(e,t)=>{if(e.length===4&&t.length===4){for(let n=0;n<4;n++){const o=e[n].toUpperCase();if(o!=="X"&&o!==t[n])return!1}return!0}return!1},kR=({draw:e,winningNumber:t})=>{const{bets:n,clients:o}=ce(),s=S.useMemo(()=>new Map(o.map(c=>[c.id,c])),[o]),i=S.useMemo(()=>{var g,C,T;const c=[],f=n.filter(N=>N.drawId===e.id),d=e.winningNumbers[0]===t,m=e.winningNumbers.slice(1).includes(t);for(const N of f){let b=!1;if((N.condition===ie.First&&d||N.condition===ie.Second&&m)&&(b=N.gameType===I.Positional?dp(N.number,t):cp(N.number,N.gameType,t)),b){const y=s.get(N.clientId);if(!y)continue;let x=0;const v=N.condition.toLowerCase();let A=0;if(N.gameType===I.Positional){const _=(N.number.match(/\d/g)||[]).length,M=(g=y.prizeRates)==null?void 0:g.POSITIONAL;M&&M[_]&&(A=M[_][v])}else{const _=(C=y.prizeRates)==null?void 0:C[N.gameType];_&&typeof _[v]=="number"&&(A=_[v])}A>0&&(x=N.stake*(A/100));const w=((T=y.commissionRates)==null?void 0:T[N.gameType])??0,E=N.stake*(w/100);c.push({bet:N,clientUsername:`${y.username} (${y.clientId})`,commissionCredit:E,prizeWon:x})}}const p=c.sort((N,b)=>b.prizeWon-N.prizeWon),h=p.reduce((N,b)=>(N.totalStake+=b.bet.stake,N.totalCommission+=b.commissionCredit,N.totalPrizeWon+=b.prizeWon,N),{totalStake:0,totalCommission:0,totalPrizeWon:0});return{details:p,totals:h}},[e,t,n,s]),r=c=>c.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return u.jsx("div",{className:"text-brand-text",children:i.details.length===0?u.jsx("p",{className:"text-center text-brand-text-secondary py-8",children:"No winning bets found for this number in this draw."}):u.jsx("div",{className:"overflow-x-auto max-h-[70vh]",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-4 py-3",children:"Client"}),u.jsx("th",{scope:"col",className:"px-4 py-3",children:"Winning Combination"}),u.jsx("th",{scope:"col",className:"px-4 py-3",children:"Game Type"}),u.jsx("th",{scope:"col",className:"px-4 py-3",children:"Condition"}),u.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:"Stake"}),u.jsx("th",{scope:"col",className:"px-4 py-3 text-right",children:"Prize Won"}),u.jsx("th",{scope:"col",className:"px-4 py-3 text-right",title:"Commission is a rebate on stake, credited even on losing bets.",children:"Commission Credit"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:i.details.map(c=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-4 py-2 font-medium text-brand-text whitespace-nowrap",children:c.clientUsername}),u.jsx("td",{className:"px-4 py-2 font-mono text-brand-primary",children:c.bet.number}),u.jsx("td",{className:"px-4 py-2",children:Yt(c.bet.gameType)}),u.jsx("td",{className:"px-4 py-2",children:c.bet.condition}),u.jsx("td",{className:"px-4 py-2 text-right font-mono",children:r(c.bet.stake)}),u.jsx("td",{className:"px-4 py-2 text-right font-mono font-bold text-green-400",children:r(c.prizeWon)}),u.jsx("td",{className:"px-4 py-2 text-right font-mono text-blue-400",children:r(c.commissionCredit)})]},c.bet.id))}),u.jsx("tfoot",{className:"bg-brand-secondary/80 font-bold text-brand-text",children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:4,className:"px-4 py-3 text-right",children:"TOTALS"}),u.jsx("td",{className:"px-4 py-3 text-right font-mono",children:r(i.totals.totalStake)}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-green-400 text-base",children:r(i.totals.totalPrizeWon)}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-blue-400",children:r(i.totals.totalCommission)})]})})]})})})},IR=(e,t)=>{if(e.length===4&&t.length===4){for(let n=0;n<4;n++){const o=e[n].toUpperCase();if(o!=="X"&&o!==t[n])return!1}return!0}return!1},LR=({draw:e,playedNumber:t,conditionFilter:n})=>{const{bets:o,clients:s}=ce(),i=S.useMemo(()=>new Map(s.map(d=>[d.id,d])),[s]),r=S.useMemo(()=>{var p;const d=[];let m=o.filter(h=>h.drawId===e.id);n!=="ALL"&&(m=m.filter(h=>h.condition===n));for(const h of m){let g=!1;switch(h.gameType){case I.FourDigits:g=h.number===t;break;case I.ThreeDigits:g=t.startsWith(h.number);break;case I.TwoDigits:g=t.startsWith(h.number);break;case I.OneDigit:g=t.startsWith(h.number);break;case I.Positional:g=IR(h.number,t);break}if(g){const C=i.get(h.clientId);if(!C)continue;const T=((p=C.commissionRates)==null?void 0:p[h.gameType])??0,N=h.stake*(T/100);let b=0;if(C.prizeRates){const y=h.condition.toLowerCase();let x=0;if(h.gameType===I.Positional){const v=(h.number.match(/\d/g)||[]).length,A=C.prizeRates.POSITIONAL;A&&A[v]&&(x=A[v][y])}else{const v=C.prizeRates[h.gameType];v&&typeof v[y]=="number"&&(x=v[y])}b=x>0?h.stake*(x/100):0}d.push({bet:h,client:C,commission:N,potentialPrize:b})}}return d},[e.id,t,n,o,i]),c=S.useMemo(()=>r.reduce((d,m)=>(d.stake+=m.bet.stake,d.commission+=m.commission,d.prize+=m.potentialPrize,d),{stake:0,commission:0,prize:0}),[r]),f=d=>d.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return r.length===0?u.jsx("p",{className:"text-brand-text-secondary text-center py-4",children:"No contributing bets found for this number with the current filters."}):u.jsx("div",{className:"text-brand-text",children:u.jsx("div",{className:"overflow-x-auto max-h-[60vh]",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3",children:"Client"}),u.jsx("th",{className:"px-4 py-3",children:"Original Bet"}),u.jsx("th",{className:"px-4 py-3",children:"Game Type"}),u.jsx("th",{className:"px-4 py-3",children:"Condition"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Stake"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Commission"}),u.jsx("th",{className:"px-4 py-3 text-right",children:"Potential Prize"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:r.map(({bet:d,client:m,commission:p,potentialPrize:h},g)=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsxs("td",{className:"px-4 py-2 font-medium text-brand-text whitespace-nowrap",children:[m.username," (",m.clientId,")"]}),u.jsx("td",{className:"px-4 py-2 font-mono",children:d.number}),u.jsx("td",{className:"px-4 py-2",children:Yt(d.gameType)}),u.jsx("td",{className:"px-4 py-2",children:d.condition}),u.jsx("td",{className:"px-4 py-2 text-right font-mono",children:f(d.stake)}),u.jsx("td",{className:"px-4 py-2 text-right font-mono text-blue-400",children:f(p)}),u.jsx("td",{className:"px-4 py-2 text-right font-mono text-yellow-400",children:f(h)})]},`${d.id}-${g}`))}),u.jsx("tfoot",{className:"bg-brand-secondary/80 font-bold text-brand-text",children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:4,className:"px-4 py-3 text-right",children:"TOTALS"}),u.jsx("td",{className:"px-4 py-3 text-right font-mono",children:f(c.stake)}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-blue-400",children:f(c.commission)}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-yellow-400 text-base",children:f(c.prize)})]})})]})})})},tl=e=>e===0?"-":e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),UR=({draw:e,conditionFilter:t})=>{const{bets:n,clients:o}=ce(),[s,i]=S.useState(""),[r,c]=S.useState({key:"potentialPrize",direction:"desc"}),[f,d]=S.useState(1),[m,p]=S.useState(null),h=100,g=S.useMemo(()=>new Map(o.map(v=>[v.id,v])),[o]),C=S.useMemo(()=>{var E;const v=new Map;let A=n.filter(_=>_.drawId===e.id);t!=="ALL"&&(A=A.filter(_=>_.condition===t));const w=(_,M)=>{if(!M.prizeRates)return 0;const D=_.condition.toLowerCase();let B=0;if(_.gameType===I.Positional){const R=(_.number.match(/\d/g)||[]).length,F=M.prizeRates.POSITIONAL;F&&F[R]&&(B=F[R][D])}else{const R=M.prizeRates[_.gameType];R&&typeof R[D]=="number"&&(B=R[D])}return B>0?_.stake*(B/100):0};for(const _ of A){const M=g.get(_.clientId);if(!M)continue;const D=_.stake*((((E=M.commissionRates)==null?void 0:E[_.gameType])??0)/100),B=w(_,M),R=(F,Z,K)=>{const U=F.substring(0,Z),H=10**(4-Z);for(let P=0;P<H;P++){const z=P.toString().padStart(4-Z,"0"),k=U+z;v.has(k)||v.set(k,{playedNumber:k,source1D:new Set,source2D:new Set,source3D:new Set,source4D:new Set,totalStake:0,totalCommission:0,potentialPrize:0});const V=v.get(k);V.totalStake+=_.stake,V.totalCommission+=D,V.potentialPrize+=B,V[K].add(_.number)}};switch(_.gameType){case I.FourDigits:R(_.number,4,"source4D");break;case I.ThreeDigits:R(_.number,3,"source3D");break;case I.TwoDigits:R(_.number,2,"source2D");break;case I.OneDigit:R(_.number,1,"source1D");break;case I.Positional:const F=_.number.substring(0,4),K=4-F.split("").map((H,P)=>H!=="X"?{char:H,index:P}:null).filter(Boolean).length,U=10**K;for(let H=0;H<U;H++){let P=F.split(""),z=H.toString().padStart(K,"0"),k=0;for(let te=0;te<4;te++)P[te]==="X"&&(P[te]=z[k++]);const V=P.join("");v.has(V)||v.set(V,{playedNumber:V,source1D:new Set,source2D:new Set,source3D:new Set,source4D:new Set,totalStake:0,totalCommission:0,potentialPrize:0});const Y=v.get(V);Y.totalStake+=_.stake,Y.totalCommission+=D,Y.potentialPrize+=B,Y.source2D.add(_.number)}break}}return Array.from(v.values())},[e.id,n,g,t]),T=S.useMemo(()=>{let v=[...C];return s&&(v=v.filter(A=>A.playedNumber.includes(s))),v.sort((A,w)=>{let E,_;const M=r.key;return M==="netTotal"?(E=A.totalStake-A.totalCommission-A.potentialPrize,_=w.totalStake-w.totalCommission-w.potentialPrize):(E=A[M],_=w[M]),typeof E=="object"&&(E=0),typeof _=="object"&&(_=0),E<_?r.direction==="asc"?-1:1:E>_?r.direction==="asc"?1:-1:0}),v},[C,s,r]),N=S.useMemo(()=>{const v=(f-1)*h;return T.slice(v,v+h)},[T,f]),b=Math.ceil(T.length/h),y=v=>{c(A=>({key:v,direction:A.key===v&&A.direction==="desc"?"asc":"desc"})),d(1)};S.useEffect(()=>{d(1)},[s,e.id,t]);const x=new Set(e.winningNumbers||[]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsx("input",{type:"text",placeholder:"Search for a played number...",value:s,onChange:v=>i(v.target.value),className:"w-full md:w-72 bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"}),u.jsxs("p",{className:"text-sm text-brand-text-secondary",children:["Showing ",N.length," of ",T.length," potential outcomes"]})]}),u.jsxs("div",{className:"overflow-x-auto max-h-[60vh]",children:[u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary whitespace-nowrap",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx(ze,{onClick:()=>y("playedNumber"),sortKey:"playedNumber",currentSort:r.key,direction:r.direction,children:"Played Number"}),u.jsx("th",{className:"px-4 py-3",children:"1 Digit"}),u.jsx("th",{className:"px-4 py-3",children:"2 Digit / Combo / Multipositional"}),u.jsx("th",{className:"px-4 py-3",children:"3 Digit / Combo / Multipositional"}),u.jsx("th",{className:"px-4 py-3",children:"4 Digit / Combo / Multipositional"}),u.jsx(ze,{onClick:()=>y("totalStake"),sortKey:"totalStake",currentSort:r.key,direction:r.direction,className:"text-right",children:"Stake Amount ()"}),u.jsx(ze,{onClick:()=>y("totalCommission"),sortKey:"totalCommission",currentSort:r.key,direction:r.direction,className:"text-right",children:"Commission ()"}),u.jsx(ze,{onClick:()=>y("potentialPrize"),sortKey:"potentialPrize",currentSort:r.key,direction:r.direction,className:"text-right",children:"If Declared Number Match  Prize Amount ()"}),u.jsx(ze,{onClick:()=>y("netTotal"),sortKey:"netTotal",currentSort:r.key,direction:r.direction,className:"text-right",children:"Net Total ()"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:N.map(v=>{const A=v.totalStake-v.totalCommission-v.potentialPrize,w=x.has(v.playedNumber);return u.jsxs("tr",{className:`hover:bg-brand-secondary/30 ${w?"bg-yellow-400/20":""}`,children:[u.jsx("td",{className:"px-4 py-2 font-mono font-bold",children:u.jsx("button",{onClick:()=>p(v.playedNumber),className:`w-full text-left ${w?"text-brand-primary":"text-brand-text"} hover:underline transition-colors`,title:`View details for ${v.playedNumber}`,children:v.playedNumber})}),u.jsx("td",{className:"px-4 py-2 font-mono",children:[...v.source1D].join(", ")}),u.jsx("td",{className:"px-4 py-2 font-mono",children:[...v.source2D].join(", ")}),u.jsx("td",{className:"px-4 py-2 font-mono",children:[...v.source3D].join(", ")}),u.jsx("td",{className:"px-4 py-2 font-mono",children:[...v.source4D].join(", ")}),u.jsx("td",{className:"px-4 py-2 font-mono text-right",children:tl(v.totalStake)}),u.jsx("td",{className:"px-4 py-2 font-mono text-right text-blue-400",children:tl(v.totalCommission)}),u.jsx("td",{className:"px-4 py-2 font-mono text-right text-yellow-400",children:tl(v.potentialPrize)}),u.jsx("td",{className:`px-4 py-2 font-mono text-right font-bold ${A>=0?"text-green-400":"text-red-400"}`,children:tl(A)})]},v.playedNumber)})})]}),T.length===0&&u.jsx("div",{className:"text-center py-8",children:u.jsxs("p",{className:"text-brand-text-secondary",children:["No betting data found",s&&" with the current filter","."]})})]}),b>1&&u.jsxs("div",{className:"flex justify-between items-center pt-2",children:[u.jsx("button",{onClick:()=>d(v=>v-1),disabled:f===1,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:" Previous"}),u.jsxs("span",{className:"font-semibold text-brand-text-secondary",children:["Page ",f," of ",b]}),u.jsx("button",{onClick:()=>d(v=>v+1),disabled:f===b,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:"Next "})]}),m&&u.jsx(ki,{title:`Bet Details for Number: ${m}`,onClose:()=>p(null),children:u.jsx(LR,{draw:e,playedNumber:m,conditionFilter:t})})]})},PR=({draw:e})=>{const{bets:t,clients:n}=ce(),[o,s]=S.useState({key:"netResult",direction:"asc"}),i=S.useMemo(()=>{var g;if(!e||e.status!==Q.Finished&&e.status!==Q.Declared)return[];const m=new Map,p=t.filter(C=>C.drawId===e.id),h=new Set(p.map(C=>C.clientId));for(const C of n)h.has(C.id)&&m.set(C.id,{client:C,totalStake:0,totalWinnings:0,totalCommission:0,netResult:0,betCount:0});for(const C of p){const T=m.get(C.clientId);if(!T)continue;T.totalStake+=C.stake,T.betCount+=1;const N=T.client,b=((g=N.commissionRates)==null?void 0:g[C.gameType])??0,y=C.stake*(b/100);if(T.totalCommission+=y,wa(C,e.winningNumbers)){let x=0;if(N.prizeRates){const v=C.condition.toLowerCase();let A=0;if(C.gameType===I.Positional){const w=(C.number.match(/\d/g)||[]).length,E=N.prizeRates.POSITIONAL;E&&E[w]&&(A=E[w][v])}else{const w=N.prizeRates[C.gameType];w&&typeof w[v]=="number"&&(A=w[v])}A>0&&(x=C.stake*(A/100))}T.totalWinnings+=x}}for(const C of m.values())C.netResult=C.totalWinnings+C.totalCommission-C.totalStake;return Array.from(m.values())},[e,t,n]),r=S.useMemo(()=>[...i].sort((m,p)=>{const h=o.key;let g,C;return h==="client"?(g=m.client.username,C=p.client.username):(g=m[h],C=p[h]),g<C?o.direction==="asc"?-1:1:g>C?o.direction==="asc"?1:-1:0}),[i,o]),c=m=>{s(p=>({key:m,direction:p.key===m&&p.direction==="desc"?"asc":"desc"}))},f=m=>m.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),d=S.useMemo(()=>i.reduce((m,p)=>(m.totalStake+=p.totalStake,m.totalWinnings+=p.totalWinnings,m.totalCommission+=p.totalCommission,m.netResult+=p.netResult,m.betCount+=p.betCount,m),{totalStake:0,totalWinnings:0,totalCommission:0,netResult:0,betCount:0}),[i]);return!e||e.status!==Q.Finished&&e.status!==Q.Declared?u.jsx("p",{className:"text-center text-brand-text-secondary py-4",children:"This report is only available for finished or declared draws."}):i.length===0?u.jsx("p",{className:"text-center text-brand-text-secondary py-4",children:"No client betting data found for this draw."}):u.jsx("div",{className:"space-y-4",children:u.jsx("div",{className:"overflow-x-auto max-h-[70vh]",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx(ze,{onClick:()=>c("client"),sortKey:"client",currentSort:o.key,direction:o.direction,children:"Client"}),u.jsx(ze,{onClick:()=>c("betCount"),sortKey:"betCount",currentSort:o.key,direction:o.direction,className:"text-center",children:"Bets"}),u.jsx(ze,{onClick:()=>c("totalStake"),sortKey:"totalStake",currentSort:o.key,direction:o.direction,className:"text-right",children:"Total Stake"}),u.jsx(ze,{onClick:()=>c("totalCommission"),sortKey:"totalCommission",currentSort:o.key,direction:o.direction,className:"text-right",children:"Commission"}),u.jsx(ze,{onClick:()=>c("totalWinnings"),sortKey:"totalWinnings",currentSort:o.key,direction:o.direction,className:"text-right",children:"Winnings"}),u.jsx(ze,{onClick:()=>c("netResult"),sortKey:"netResult",currentSort:o.key,direction:o.direction,className:"text-right",children:"Net Result (for Client)"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:r.map(m=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsxs("td",{className:"px-4 py-2 font-medium text-brand-text whitespace-nowrap",children:[m.client.username," (",m.client.clientId,")"]}),u.jsx("td",{className:"px-4 py-2 text-center font-mono",children:m.betCount}),u.jsx("td",{className:"px-4 py-2 text-right font-mono",children:f(m.totalStake)}),u.jsx("td",{className:"px-4 py-2 text-right font-mono text-blue-400",children:f(m.totalCommission)}),u.jsx("td",{className:"px-4 py-2 text-right font-mono text-green-400",children:f(m.totalWinnings)}),u.jsxs("td",{className:`px-4 py-2 text-right font-mono font-bold ${m.netResult>=0?"text-green-400":"text-red-400"}`,children:[m.netResult>=0?"+":"",f(m.netResult)]})]},m.client.id))}),u.jsx("tfoot",{className:"bg-brand-secondary/80 font-bold text-brand-text",children:u.jsxs("tr",{children:[u.jsx("td",{colSpan:1,className:"px-4 py-3 text-right",children:"TOTALS"}),u.jsx("td",{className:"px-4 py-3 text-center font-mono",children:d.betCount.toLocaleString()}),u.jsx("td",{className:"px-4 py-3 text-right font-mono",children:f(d.totalStake)}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-blue-400",children:f(d.totalCommission)}),u.jsx("td",{className:"px-4 py-3 text-right font-mono text-green-400",children:f(d.totalWinnings)}),u.jsxs("td",{className:`px-4 py-3 text-right font-mono ${d.netResult>=0?"text-green-400":"text-red-400"}`,children:[d.netResult>=0?"+":"",f(d.netResult)]})]})})]})})})},BR=()=>{var H;const{draws:e,bets:t,clients:n}=ce(),[o,s]=S.useState(""),[i,r]=S.useState(null),[c,f]=S.useState(!1),[d,m]=S.useState("smart-power-report"),[p,h]=S.useState("ALL"),[g,C]=S.useState(null),[T,N]=S.useState(""),b=S.useMemo(()=>e.filter(P=>P.status===Q.Finished||P.status===Q.Closed||P.status===Q.Declared).sort((P,z)=>z.drawTime.getTime()-P.drawTime.getTime()),[e]),y=S.useMemo(()=>b.find(P=>P.id===o),[b,o]);S.useEffect(()=>{N("")},[d]);const x=async()=>{if(!y||y.status!==Q.Finished&&y.status!==Q.Closed){alert("AI analysis can only be generated for closed or finished draws.");return}f(!0),r(null);const P=t.filter(k=>k.drawId===o),z=await RR({draw:y,bets:P,clients:n});r(z),f(!1)},v=S.useMemo(()=>{if(!o)return new Map;const P=t.filter(k=>k.drawId===o),z=new Map;for(const k of P){z.has(k.gameType)||z.set(k.gameType,new Map);const V=z.get(k.gameType);V.has(k.condition)||V.set(k.condition,new Map);const Y=V.get(k.condition);Y.has(k.number)||Y.set(k.number,{totalStake:0,count:0});const te=Y.get(k.number);te.totalStake+=k.stake,te.count+=1}return z},[o,t]),A=P=>{s(P.target.value),r(null),h("ALL"),N("")},w={[I.FourDigits]:1e4,[I.ThreeDigits]:1e3,[I.TwoDigits]:100,[I.OneDigit]:10,[I.Positional]:0,[I.Combo]:0},E=[I.FourDigits,I.ThreeDigits,I.TwoDigits,I.OneDigit,I.Positional,I.Combo],_=S.useMemo(()=>{const P=v.get(d);if(!P)return new Map;if(p==="ALL"){const z=new Map;for(const k of P.values())for(const[V,Y]of k.entries()){const te=z.get(V)||{totalStake:0,count:0};te.totalStake+=Y.totalStake,te.count+=Y.count,z.set(V,te)}return z}else return P.get(p)||new Map},[v,d,p]),M=S.useMemo(()=>{let P=Array.from(_.entries());return T&&(P=P.filter(([z])=>z.includes(T))),P.sort((z,k)=>k[1].totalStake-z[1].totalStake)},[_,T]),D=w[d],B=(_==null?void 0:_.size)||0,R=D?D-B:0,F=D&&D>0?(B/D*100).toFixed(2):"0.00",Z=D&&D>0?(R/D*100).toFixed(2):"0.00",K=S.useMemo(()=>{if(!w[d])return null;const z=[],k=d===I.OneDigit?1:d===I.TwoDigits?2:d===I.ThreeDigits?3:4,V=Math.pow(10,k);for(let te=0;te<V;te++)z.push(te.toString().padStart(k,"0"));const Y=new Set((_==null?void 0:_.keys())||[]);return z.filter(te=>!Y.has(te))},[d,_]),U=()=>{if(!K||K.length===0||!y)return;const P=K.join(`
`),z=new Blob([P],{type:"text/plain;charset=utf-8;"}),k=URL.createObjectURL(z),V=document.createElement("a");V.href=k,V.download=`unbooked_numbers_${d}_draw_${y.name}.txt`,document.body.appendChild(V),V.click(),document.body.removeChild(V),URL.revokeObjectURL(k)};return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-text mb-4",children:"Smart-Powered Draw Reporting"}),u.jsx("div",{className:"bg-brand-surface p-4 rounded-lg shadow border border-brand-secondary",children:u.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[u.jsxs("select",{value:o,onChange:A,className:"w-full md:w-auto flex-grow bg-brand-bg border border-brand-secondary rounded-md py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:[u.jsx("option",{value:"",children:"Select a Reportable Draw"}),b.map(P=>u.jsxs("option",{value:P.id,children:["Draw ",P.name," (",P.status,") - ",P.drawTime.toLocaleDateString()]},P.id))]}),u.jsx("button",{onClick:x,disabled:!o||c||(y==null?void 0:y.status)!==Q.Finished&&(y==null?void 0:y.status)!==Q.Closed,className:"w-full md:w-auto bg-brand-primary text-brand-bg font-bold py-2 px-4 rounded-md disabled:bg-brand-secondary disabled:cursor-not-allowed hover:bg-yellow-400 transition-colors",children:c?"Generating...":"Generate AI Analysis"})]})}),y&&(y.status===Q.Finished||y.status===Q.Declared)&&((H=y.winningNumbers)==null?void 0:H.length)>0&&u.jsxs("div",{className:"mt-4 bg-brand-bg p-4 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-lg font-bold text-brand-text mb-3",children:"Declared Winning Numbers"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-center",children:[u.jsxs("div",{className:"bg-brand-surface p-3 rounded-lg",children:[u.jsx("p",{className:"text-sm font-semibold text-brand-primary",children:"First (F)"}),u.jsx("button",{onClick:()=>C({draw:y,winningNumber:y.winningNumbers[0]}),className:"text-4xl font-bold text-brand-primary font-mono tracking-wider hover:text-yellow-300 transition-colors",title:"Click to view winning bet breakdown",children:y.winningNumbers[0]})]}),u.jsxs("div",{className:"bg-brand-surface p-3 rounded-lg",children:[u.jsx("p",{className:"text-sm font-semibold text-brand-text-secondary",children:"Second (S)"}),u.jsx("div",{className:"flex justify-center items-center gap-4 text-xl font-semibold text-brand-text-secondary font-mono tracking-wider",children:y.winningNumbers.slice(1).map((P,z)=>u.jsx("button",{onClick:()=>C({draw:y,winningNumber:P}),className:"hover:text-brand-text transition-colors",title:"Click to view winning bet breakdown",children:P},z))})]})]})]}),y&&u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-3 gap-2",children:[u.jsxs("h3",{className:"text-xl font-bold text-brand-primary",children:["Betting Book for Draw ",y.name]}),u.jsxs("div",{className:"flex items-center gap-2 bg-brand-secondary p-1 rounded-lg",children:[u.jsx("button",{onClick:()=>h("ALL"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${p==="ALL"?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-brand-surface"}`,children:"All"}),u.jsx("button",{onClick:()=>h("FIRST"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${p==="FIRST"?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-brand-surface"}`,children:"First (F)"}),u.jsx("button",{onClick:()=>h("SECOND"),className:`px-3 py-1 text-sm font-semibold rounded-md transition-colors ${p==="SECOND"?"bg-brand-primary text-brand-bg":"text-brand-text-secondary hover:bg-brand-surface"}`,children:"Second (S)"})]})]}),u.jsx("div",{className:"border-b border-brand-secondary mb-4",children:u.jsxs("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:[u.jsx("button",{onClick:()=>m("smart-power-report"),className:`whitespace-nowrap px-4 py-2 font-semibold rounded-t-lg transition-colors ${d==="smart-power-report"?"bg-brand-surface text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary hover:bg-brand-surface/50"}`,children:"Profit/Loss Report"}),u.jsx("button",{onClick:()=>m("comprehensive"),className:`whitespace-nowrap px-4 py-2 font-semibold rounded-t-lg transition-colors ${d==="comprehensive"?"bg-brand-surface text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary hover:bg-brand-surface/50"}`,children:"Comprehensive Book"}),u.jsx("button",{onClick:()=>m("client-performance"),className:`whitespace-nowrap px-4 py-2 font-semibold rounded-t-lg transition-colors ${d==="client-performance"?"bg-brand-surface text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary hover:bg-brand-surface/50"}`,children:"Client Win/Loss"}),E.map(P=>u.jsx("button",{onClick:()=>m(P),className:`whitespace-nowrap px-4 py-2 font-semibold rounded-t-lg transition-colors ${d===P?"bg-brand-surface text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary hover:bg-brand-surface/50"}`,children:Yt(P)},P))]})}),u.jsx("div",{className:"bg-brand-surface p-4 rounded-b-lg rounded-r-lg shadow border border-brand-secondary",children:d==="smart-power-report"?u.jsx(UR,{draw:y,conditionFilter:p}):d==="comprehensive"?u.jsx(DR,{draw:y,conditionFilter:p}):d==="client-performance"?u.jsx(PR,{draw:y}):u.jsxs(u.Fragment,{children:[D&&D>0&&u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 text-center",children:[u.jsx(cn,{title:"Total Possible Numbers",value:D.toLocaleString()}),u.jsx(cn,{title:"Unique Booked Numbers",value:`${B.toLocaleString()} (${F}%)`,className:"text-green-400"}),u.jsx(cn,{title:"Unbooked Numbers",value:`${R.toLocaleString()} (${Z}%)`,className:"text-brand-text-secondary"})]}),u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-2",children:[u.jsxs("div",{className:"relative w-full md:w-1/2",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-brand-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),u.jsx("input",{type:"text",placeholder:"Search by number...",value:T,onChange:P=>N(P.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 pl-10 pr-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),T&&u.jsxs("p",{className:"text-sm text-brand-text-secondary",children:["Found ",M.length," result(s)."]})]}),_&&_.size>0?u.jsx("div",{className:"overflow-x-auto max-h-96",children:M.length>0?u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Number"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Total Stake"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-center",children:"Times Played"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:M.map(([P,z])=>u.jsxs("tr",{className:"hover:bg-brand-secondary/30 transition-colors",children:[u.jsx("td",{className:"px-6 py-3 font-mono font-bold text-brand-text",children:P}),u.jsxs("td",{className:"px-6 py-3 text-right font-mono",children:["RS. ",z.totalStake.toLocaleString()]}),u.jsx("td",{className:"px-6 py-3 text-center",children:z.count})]},P))})]}):u.jsx("p",{className:"text-center text-brand-text-secondary py-4",children:"No numbers found matching your search."})}):u.jsx("p",{className:"text-center text-brand-text-secondary py-4",children:"No bets were placed for this game type in this draw."}),K&&K.length>0&&!T&&u.jsxs("div",{className:"mt-6 pt-4 border-t border-brand-secondary",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("h4",{className:"text-lg font-bold text-brand-text",children:["Unbooked Numbers (",K.length,")"]}),K.length>0&&u.jsx("button",{onClick:U,className:"bg-brand-accent text-white text-sm font-bold py-1 px-3 rounded-md hover:bg-sky-400 transition-colors",children:"Download List (.txt)"})]}),K.length>0?u.jsx("div",{className:"flex flex-wrap gap-2 bg-brand-bg p-2 rounded-md max-h-48 overflow-y-auto",children:K.map(P=>u.jsx("span",{className:"font-mono text-sm px-2 py-1 rounded bg-brand-secondary text-brand-text-secondary",children:P},P))}):u.jsx("p",{className:"text-center text-green-400 py-4",children:"All possible numbers for this game were booked!"})]})]})})]}),c&&u.jsx("div",{className:"mt-4 text-center",children:u.jsxs("div",{role:"status",className:"flex justify-center items-center space-x-2",children:[u.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-brand-secondary animate-spin fill-brand-primary",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),u.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0492C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),u.jsx("span",{className:"text-brand-text-secondary",children:"Generating report with Gemini Smart..."})]})}),i&&u.jsxs("div",{className:"mt-6 bg-brand-surface p-6 rounded-lg shadow border border-brand-secondary animate-fade-in-down",children:[u.jsxs("h3",{className:"text-xl font-bold text-brand-primary mb-4",children:["AI Analysis for Draw ",y==null?void 0:y.name]}),typeof i=="string"?u.jsx("p",{className:"text-red-400",children:i}):"netProfitAnalysis"in i?u.jsxs("div",{className:"space-y-4 text-brand-text",children:[u.jsx("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:u.jsx("h4",{className:"font-bold text-lg text-brand-primary",children:i.headline})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:[u.jsx("p",{className:"text-sm font-bold text-brand-text-secondary mb-1",children:"Profitability"}),u.jsx("p",{children:i.netProfitAnalysis})]}),u.jsxs("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:[u.jsx("p",{className:"text-sm font-bold text-brand-text-secondary mb-1",children:"Participation"}),u.jsx("p",{children:i.performanceAnalysis})]}),u.jsxs("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:[u.jsx("p",{className:"text-sm font-bold text-brand-text-secondary mb-1",children:"Conclusion"}),u.jsx("p",{children:i.conclusion})]})]})]}):u.jsxs("div",{className:"space-y-4 text-brand-text",children:[u.jsx("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:u.jsx("h4",{className:"font-bold text-lg text-brand-primary",children:i.headline})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:[u.jsx("p",{className:"text-sm font-bold text-brand-text-secondary mb-1",children:"Risk Analysis"}),u.jsx("p",{children:i.riskAnalysis})]}),u.jsxs("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:[u.jsx("p",{className:"text-sm font-bold text-brand-text-secondary mb-1",children:"Participation Trend"}),u.jsx("p",{children:i.participationAnalysis})]}),u.jsxs("div",{className:"bg-brand-secondary/30 p-4 rounded-lg",children:[u.jsx("p",{className:"text-sm font-bold text-brand-text-secondary mb-1",children:"Conclusion"}),u.jsx("p",{children:i.conclusion})]})]})]})]}),g&&u.jsx(ki,{title:`Winning Bet Breakdown for: ${g.winningNumber}`,onClose:()=>C(null),children:u.jsx(kR,{draw:g.draw,winningNumber:g.winningNumber})})]})};function Er(e){const t=e.toUpperCase();if(t.includes("X"))return t.length===4&&t.replace(/[^X]/g,"").length>0?I.Positional:null;switch(e.length){case 1:return I.OneDigit;case 2:return I.TwoDigits;case 3:return I.ThreeDigits;case 4:return I.FourDigits;default:return null}}function px(e){const t=[];if(!e||!e.trim())return t;const o=e.toLowerCase().replace(/[.,;/{}@#*^%&()_=+~`'"!$><?-]/g," ").replace(/\s+/g," ").trim().split(" ");let s=[];const i=5;let r=!1;const c=()=>{s.length>0&&!r&&s.forEach(d=>{const m=Er(d);m&&t.push({number:d,stake:i,gameType:m,condition:void 0})}),s=[],r=!1};let f=0;for(;f<o.length;){const d=o[f],m=d.match(/^p([1-4])$/i);if(m&&o[f+1]&&/^\d$/.test(o[f+1])){c();const b=parseInt(m[1],10),y=o[f+1];let x=-1,v,A=0;const w=o[f+2],E=o[f+3];if(w){const D=w.match(/^(f|s)(\d+)$/),B=w.match(/^(\d+)(rs)?$/);(w==="f"||w==="s")&&E&&/^\d+$/.test(E)?(v=w==="s"?ie.Second:ie.First,x=parseInt(E,10),A=2):D?(v=D[1]==="s"?ie.Second:ie.First,x=parseInt(D[2],10),A=1):(w==="all"||w==="sab")&&E&&/^\d+$/.test(E)?(x=parseInt(E,10),A=2):B&&(x=parseInt(B[1],10),A=1)}const _=["X","X","X","X"];_[b-1]=y;const M=_.join("");t.push({number:M,stake:x!==-1?x:i,gameType:I.Positional,condition:v}),f+=2+A,s=[],r=!1;continue}const p=d.match(/^(\d{1,4}|[0-9x]{4})([fs])$/i);if(p){c();const b=p[1].toUpperCase(),x=p[2].toLowerCase()==="s"?ie.Second:ie.First,v=Er(b);v&&t.push({number:b,stake:i,gameType:v,condition:x}),f++,s=[],r=!1;continue}if(/^([0-9x]{1,4})$/.test(d)){r&&(s=[],r=!1),s.push(d.toUpperCase()),f++;continue}let h=-1,g,C=0;const T=d.match(/^(f|s)(\d+)$/),N=d.match(/^(\d+)(rs)?$/);(d==="f"||d==="s")&&o[f+1]&&/^\d+$/.test(o[f+1])?(g=d==="s"?ie.Second:ie.First,h=parseInt(o[f+1],10),C=2):T?(g=T[1]==="s"?ie.Second:ie.First,h=parseInt(T[2],10),C=1):(d==="all"||d==="sab")&&o[f+1]&&/^\d+$/.test(o[f+1])?(h=parseInt(o[f+1],10),C=2):N&&(h=parseInt(N[1],10),C=1),h!==-1?(s.length>0&&(s.forEach(b=>{const y=Er(b);y&&t.push({number:b,stake:h,gameType:y,condition:g})}),r=!0),f+=C):(c(),f++)}return c(),t}const FR=()=>{const{clients:e,draws:t,placeBetsForClient:n}=ce(),[o,s]=S.useState(""),[i,r]=S.useState(""),[c,f]=S.useState(""),[d,m]=S.useState([]),[p,h]=S.useState(!1),[g,C]=S.useState(null),[T,N]=S.useState(""),[b,y]=S.useState("5"),[x,v]=S.useState(ie.First),A=e.filter(R=>R.role===je.Client&&R.isActive),w=t.filter(R=>R.status==="OPEN");S.useEffect(()=>{w.length>0&&!w.find(R=>R.id===i)?r(w[0].id):w.length===0&&r("")},[w,i]);const E=()=>{if(!c.trim()){C({type:"error",message:"Message cannot be empty."});return}h(!0),C(null);try{const R=px(c);R.length===0&&C({type:"error",message:"Parser could not find any valid bets in the message. Please check the format."}),m(R)}catch(R){console.error(R),C({type:"error",message:"An error occurred while parsing the message."})}finally{h(!1)}},_=async()=>{if(!o){C({type:"error",message:"Please select a client."});return}if(!i){C({type:"error",message:"Please select an open draw."});return}if(d.length===0){C({type:"error",message:"No bets to place."});return}h(!0);try{const R=d.map(Z=>({drawId:i,gameType:Z.gameType,number:Z.number,stake:Z.stake,createdAt:new Date,condition:Z.condition||x})),F=await n(R,o);C({type:F.successCount>0?"success":"error",message:F.message}),F.successCount>0&&(m([]),f(""),N(""),y("5"))}finally{h(!1)}},M=R=>{switch(R.length){case 1:return I.OneDigit;case 2:return I.TwoDigits;case 3:return I.ThreeDigits;default:return I.FourDigits}},D=R=>{R.preventDefault();const F=parseInt(b,10);if(T.length>0&&T.length<=4&&F>0){const Z={number:T,stake:F,gameType:M(T)};m(K=>[...K,Z]),N(""),y("5")}},B=d.reduce((R,F)=>R+F.stake,0);return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-text mb-4",children:"Rule-Based Bulk Betting"}),w.length>0?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"client-select",className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Select Client"}),u.jsxs("select",{id:"client-select",value:o,onChange:R=>s(R.target.value),className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-3 px-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:[u.jsx("option",{value:"",children:"-- Choose a client --"}),A.map(R=>u.jsxs("option",{value:R.id,children:[R.username," (",R.clientId,") (Wallet: ",R.wallet.toFixed(2),")"]},R.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"draw-select",className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Select Draw"}),u.jsx("select",{id:"draw-select",value:i,onChange:R=>r(R.target.value),className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-3 px-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:w.map(R=>u.jsxs("option",{value:R.id,children:["Draw ",R.name]},R.id))})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"bet-message",className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Paste Client's Message"}),u.jsx("textarea",{id:"bet-message",rows:6,value:c,onChange:R=>f(R.target.value),placeholder:"Paste the full message from the client here, then click 'Parse Message' below.",className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-3 px-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary font-mono",disabled:p}),u.jsx("button",{onClick:E,disabled:p||!c.trim()||!o||!i,className:"mt-2 w-full bg-brand-accent text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-400 disabled:bg-brand-secondary disabled:cursor-not-allowed transition-colors",children:p?"Parsing...":"Parse Message"})]}),u.jsx("div",{className:"text-center text-brand-text-secondary",children:"or"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Add Bets Manually"}),u.jsxs("form",{onSubmit:D,className:"flex flex-wrap gap-4 items-end bg-brand-surface p-4 rounded-lg border border-brand-secondary",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-xs font-bold text-brand-text-secondary",children:"Number (1-4 digits)"}),u.jsx("input",{type:"text",value:T,onChange:R=>N(R.target.value.replace(/[^0-9]/g,"")),maxLength:4,className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary font-mono text-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-brand-text-secondary",children:"Stake"}),u.jsx("input",{type:"number",value:b,min:"1",step:"1",onChange:R=>y(R.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsx("button",{type:"submit",disabled:!T||T.length===0,className:"bg-brand-accent text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-400 disabled:bg-brand-secondary",children:"Add Bet"})]})]}),d.length>0&&u.jsxs("div",{className:"bg-brand-surface p-4 rounded-lg border border-brand-secondary",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-lg font-bold text-brand-primary",children:"Review Bets"}),u.jsx("button",{onClick:()=>m([]),className:"text-xs text-red-400 hover:text-red-300",children:"Clear All Bets"})]}),u.jsx("div",{className:"overflow-x-auto max-h-64",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Number"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Game Type"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Condition"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Stake"})]})}),u.jsx("tbody",{className:"bg-brand-surface",children:d.map((R,F)=>u.jsxs("tr",{className:"border-b border-brand-secondary hover:bg-brand-secondary/20",children:[u.jsx("td",{className:"px-6 py-2 font-mono text-brand-text",children:R.number}),u.jsx("td",{className:"px-6 py-2",children:Yt(R.gameType)}),u.jsx("td",{className:"px-6 py-2",children:R.condition||x}),u.jsx("td",{className:"px-6 py-2 text-right font-mono",children:R.stake.toFixed(2)})]},F))})]})}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-secondary flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"text-lg font-bold",children:[u.jsxs("span",{children:["Total Bets: ",u.jsx("span",{className:"text-brand-primary",children:d.length})]}),u.jsx("span",{className:"mx-4",children:"|"}),u.jsxs("span",{children:["Total Stake: ",u.jsxs("span",{className:"text-brand-primary",children:["RS. ",B.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),u.jsx("button",{onClick:_,disabled:p||!o||!i,className:"w-full md:w-auto bg-brand-primary hover:bg-yellow-400 text-brand-bg font-bold py-3 px-6 rounded-lg disabled:bg-brand-secondary disabled:cursor-not-allowed transition-colors",children:p?"Placing Bets...":"Confirm & Place Bets"})]})]}),g&&u.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm text-center ${g.type==="success"?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:g.message})]}):u.jsx("p",{className:"text-center text-yellow-400 font-semibold p-4 bg-brand-surface rounded-lg",children:"The market is currently closed. Bulk betting is disabled."})]})},nl=Gc,VR=()=>{const{currentClient:e,updateClientCredentials:t}=ce(),[n,o]=S.useState(""),[s,i]=S.useState(""),[r,c]=S.useState(""),[f,d]=S.useState(""),[m,p]=S.useState(""),[h,g]=S.useState(null),C=async N=>{if(N.preventDefault(),g(null),!n||!s){g({type:"error",message:"All fields are required."});return}const b=await t({currentPassword:s,newUsername:n});g({type:b.success?"success":"error",message:b.message}),b.success&&(o(""),i(""))},T=async N=>{if(N.preventDefault(),g(null),!r||!f||!m){g({type:"error",message:"All fields are required."});return}if(f.length<8){g({type:"error",message:"New password must be at least 8 characters long."});return}if(f!==m){g({type:"error",message:"New passwords do not match."});return}const b=await t({currentPassword:r,newPassword:f});g({type:b.success?"success":"error",message:b.message}),b.success&&(c(""),d(""),p(""))};return e?u.jsxs("div",{className:"space-y-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-text",children:"Profile Settings"}),h&&u.jsx("div",{className:`p-4 rounded-lg text-sm text-center ${h.type==="success"?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:h.message}),u.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-text mb-4",children:"Change Username"}),u.jsxs("form",{onSubmit:C,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"newUsername",children:"New Username"}),u.jsx("input",{id:"newUsername",type:"text",value:n,onChange:N=>o(N.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"currentPasswordForUser",children:"Current Password to Confirm"}),u.jsx(nl,{id:"currentPasswordForUser",value:s,onChange:N=>i(N.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsx("button",{type:"submit",className:"w-full md:w-auto bg-brand-primary text-brand-bg font-bold py-2 px-6 rounded-lg hover:bg-yellow-400 transition-colors",children:"Update Username"})]})]}),u.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-text mb-4",children:"Change Password"}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"currentPasswordForPass",children:"Current Password"}),u.jsx(nl,{id:"currentPasswordForPass",value:r,onChange:N=>c(N.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"newPassword",children:"New Password"}),u.jsx(nl,{id:"newPassword",value:f,onChange:N=>d(N.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-brand-text-secondary text-sm font-bold mb-2",htmlFor:"confirmNewPassword",children:"Confirm New Password"}),u.jsx(nl,{id:"confirmNewPassword",value:m,onChange:N=>p(N.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",required:!0})]}),u.jsx("button",{type:"submit",className:"w-full md:w-auto bg-brand-primary text-brand-bg font-bold py-2 px-6 rounded-lg hover:bg-yellow-400 transition-colors",children:"Update Password"})]})]})]}):null},wr=["ddl_clients","ddl_draws","ddl_bets","ddl_transactions","ddl_marketOverride"],jR=()=>{const{clients:e,importClientsFromCSV:t}=ce(),[n,o]=S.useState(null),[s,i]=S.useState(!1),[r,c]=S.useState(null),[f,d]=S.useState(null),[m,p]=S.useState(!1),h=(x,v)=>{o({type:x,message:v}),setTimeout(()=>o(null),5e3)},g=()=>{try{const x={};wr.forEach(M=>{const D=localStorage.getItem(M);D&&(x[M]=JSON.parse(D))});const v=JSON.stringify(x,null,2),A=new Blob([v],{type:"application/json"}),w=URL.createObjectURL(A),E=document.createElement("a");E.href=w;const _=new Date().toISOString().split("T")[0];E.download=`ddl-full-data-backup-${_}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(w),h("success","Full data backup downloaded successfully!")}catch(x){console.error("Backup failed:",x),h("error","An error occurred during data backup.")}},C=()=>{const x=e.filter(v=>v.role===je.Client);if(x.length===0){h("error","No client data to export.");return}try{const v=["Client ID","Username","Contact","Area","Wallet Balance","Status","Commission Rate (%)"],A=x.map(R=>{var F;return[R.clientId,R.username,R.contact||"",R.area||"",R.wallet.toFixed(2),R.isActive?"Active":"Suspended",((F=R.commissionRates)==null?void 0:F[I.FourDigits])||0]}),w=R=>{const F=String(R);return F.includes(",")||F.includes('"')||F.includes(`
`)?`"${F.replace(/"/g,'""')}"`:F},E=[v.join(","),...A.map(R=>R.map(w).join(","))].join(`
`),_=new Blob([E],{type:"text/csv;charset=utf-8;"}),M=URL.createObjectURL(_),D=document.createElement("a");D.href=M;const B=new Date().toISOString().split("T")[0];D.download=`ddl-client-data-${B}.csv`,document.body.appendChild(D),D.click(),document.body.removeChild(D),URL.revokeObjectURL(M),h("success","Client data CSV downloaded successfully!")}catch(v){console.error("Client data export failed:",v),h("error","An error occurred during client data export.")}},T=x=>{x.target.files&&x.target.files.length>0&&c(x.target.files[0])},N=()=>{if(!r){h("error","Please select a data backup file to restore.");return}if(!window.confirm("WARNING: This will overwrite all existing application data with the content of the backup file. This action cannot be undone. Are you sure you want to proceed?"))return;i(!0);const v=new FileReader;v.onload=A=>{var w;try{const E=(w=A.target)==null?void 0:w.result;if(typeof E!="string")throw new Error("Failed to read file.");const _=JSON.parse(E),M=Object.keys(_);if(!wr.every(B=>M.includes(B)))throw new Error("Invalid backup file. It is missing some required data keys.");M.forEach(B=>{wr.includes(B)&&localStorage.setItem(B,JSON.stringify(_[B]))}),h("success","Restore successful! The application will now reload."),setTimeout(()=>{window.location.reload()},2e3)}catch(E){console.error("Restore failed:",E),h("error",`Restore failed: ${E.message||"Invalid JSON format."}`),i(!1)}},v.onerror=()=>{h("error","Failed to read the selected file."),i(!1)},v.readAsText(r)},b=x=>{x.target.files&&x.target.files.length>0?d(x.target.files[0]):d(null)},y=()=>{if(!f){h("error","Please select a CSV file to import.");return}p(!0);const x=new FileReader;x.onload=async v=>{var A;try{const E=((A=v.target)==null?void 0:A.result).split(/\r?\n/).filter(F=>F.trim()!=="");if(E.length<1)throw new Error("CSV file is empty.");const _=E[0].split(",").map(F=>F.trim().replace(/^"|"$/g,"")),M=["Client ID","Username","Password","Contact","Area","Initial Deposit","Commission Rate (%)"];if(_.length!==M.length||!_.every((F,Z)=>F===M[Z]))throw new Error(`Invalid CSV header. Expected: ${M.join(", ")}`);const D=E.slice(1).map((F,Z)=>{var U,H,P,z,k,V,Y;const K=F.split(",");if(K.length!==M.length)throw new Error(`Row ${Z+2}: has incorrect number of columns. Expected ${M.length}, got ${K.length}.`);return{"Client ID":(U=K[0])==null?void 0:U.trim(),Username:(H=K[1])==null?void 0:H.trim(),Password:(P=K[2])==null?void 0:P.trim(),Contact:(z=K[3])==null?void 0:z.trim(),Area:(k=K[4])==null?void 0:k.trim(),"Initial Deposit":parseFloat((V=K[5])==null?void 0:V.trim())||0,"Commission Rate (%)":parseFloat((Y=K[6])==null?void 0:Y.trim())||0}});if(D.length===0)throw new Error("No data rows found in the CSV file.");const B=await t(D);let R=`Import finished. ${B.successCount} clients imported successfully.`;B.errorCount>0?(R+=`
${B.errorCount} clients failed due to errors.`,console.error(`Import Errors:
`+B.errorMessages.join(`
`)),h("error",`${R} See browser console for details.`)):h("success",R)}catch(w){h("error",`Import failed: ${w.message}`)}finally{p(!1),d(null);const w=document.getElementById("import-file-input");w&&(w.value="")}},x.onerror=()=>{h("error","Failed to read the file."),p(!1)},x.readAsText(f)};return u.jsxs("div",{className:"space-y-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-text",children:"Data Management"}),n&&u.jsx("div",{className:`p-4 rounded-lg text-sm text-center ${n.type==="success"?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:n.message}),u.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-text mb-2",children:"Export Client Data (CSV)"}),u.jsx("p",{className:"text-brand-text-secondary mb-4",children:"Download a CSV file containing a list of all clients and their key information, such as contact details, wallet balance, and commission rate. This is useful for offline analysis or record-keeping."}),u.jsx("button",{onClick:C,className:"w-full md:w-auto bg-green-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-green-700 transition-colors",children:"Download Client Info (.csv)"})]}),u.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-text mb-2",children:"Import Client Data (CSV)"}),u.jsx("p",{className:"text-brand-text-secondary mb-4",children:"Upload a CSV file to bulk-create new client accounts. The file must have a header row and data in the following format. Ensure Client ID, Username, and Contact are unique."}),u.jsx("code",{className:"block bg-brand-bg p-2 rounded-md text-brand-text-secondary text-sm mb-4 font-mono",children:"Client ID,Username,Password,Contact,Area,Initial Deposit,Commission Rate (%)"}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[u.jsx("input",{id:"import-file-input",type:"file",accept:".csv",onChange:b,className:"flex-grow w-full text-sm text-brand-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-primary file:text-brand-bg hover:file:bg-yellow-400"}),u.jsx("button",{onClick:y,disabled:!f||m,className:"w-full md:w-auto bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors disabled:bg-brand-secondary disabled:cursor-not-allowed",children:m?"Importing...":"Import from CSV"})]})]}),u.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg border border-brand-secondary",children:[u.jsx("h3",{className:"text-xl font-bold text-brand-text mb-2",children:"Create Full Data Backup"}),u.jsxs("p",{className:"text-brand-text-secondary mb-4",children:["This application runs in your browser and does not need to be downloaded to your PC.",u.jsx("br",{}),"This button will save a ",u.jsx("strong",{className:"text-brand-text",children:"JSON data file"})," to your computer. This file contains all client accounts, betting history, and financial transactions. Keep it in a safe place."]}),u.jsx("button",{onClick:g,className:"w-full md:w-auto bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors",children:"Download Full Data File (.json)"})]}),u.jsxs("div",{className:"bg-brand-surface p-6 rounded-lg border border-red-500/50",children:[u.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"Restore from Data File"}),u.jsx("p",{className:"text-brand-text-secondary mb-4",children:"Upload a `.json` data file to restore all clients, bets, and transactions."}),u.jsxs("div",{className:"bg-red-900/30 border border-red-500/50 p-3 rounded-lg text-red-300 text-sm mb-4",children:[u.jsx("strong",{children:"Warning:"})," Restoring will completely overwrite all current data in your browser's storage. This action is irreversible."]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[u.jsx("input",{type:"file",accept:".json",onChange:T,className:"flex-grow w-full text-sm text-brand-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-brand-primary file:text-brand-bg hover:file:bg-yellow-400"}),u.jsx("button",{onClick:N,disabled:!r||s,className:"w-full md:w-auto bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition-colors disabled:bg-brand-secondary disabled:cursor-not-allowed",children:s?"Restoring...":"Restore Data"})]})]})]})},zR=({title:e,value:t,icon:n,className:o=""})=>u.jsxs("div",{className:"bg-brand-surface border border-brand-secondary p-4 rounded-lg shadow-lg flex items-center space-x-4",children:[u.jsx("div",{className:"bg-brand-secondary p-3 rounded-full",children:n}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-brand-text-secondary",children:e}),u.jsx("p",{className:`text-2xl font-bold text-brand-text ${o}`,children:t})]})]}),Ar=zR,HR=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-brand-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),qR=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-brand-accent",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),GR=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})}),OR=()=>{const{clients:e,draws:t,bets:n}=ce(),o=e.filter(r=>r.role===je.Client).length,s=t.filter(r=>r.status===Q.Open).length,i=S.useMemo(()=>{const r=new Set(t.map(c=>c.id));return n.filter(c=>r.has(c.drawId)).reduce((c,f)=>c+f.stake,0)},[t,n]);return u.jsx("div",{className:"mb-8",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Ar,{title:"Total Clients",value:o.toLocaleString(),icon:u.jsx(HR,{})}),u.jsx(Ar,{title:"Active Draws",value:s.toLocaleString(),icon:u.jsx(qR,{})}),u.jsx(Ar,{title:"Today's Total Stakes",value:`RS. ${i.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`,className:"text-green-400",icon:u.jsx(GR,{})})]})})},$R=()=>{const{transactions:e,clients:t}=ce(),[n,o]=S.useState(1),s=25,i=S.useMemo(()=>new Map(t.map(p=>[p.id,p])),[t]),r=S.useMemo(()=>{let p=0,h=0,g=0,C=0;return e.forEach(T=>{T.type===kt.Credit?T.description.toLowerCase().includes("prize")?C+=T.amount:p+=T.amount:T.type===kt.Debit&&(T.description.toLowerCase().includes("booking")?g+=T.amount:h+=T.amount)}),{totalDeposits:p,totalWithdrawals:h,totalStakes:g,totalWinnings:C,netFlow:p+g-(h+C)}},[e]),c=S.useMemo(()=>{const p=(n-1)*s;return e.slice(p,p+s)},[e,n]),f=Math.ceil(e.length/s),d=p=>`RS. ${p.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,m=p=>{p>=1&&p<=f&&o(p)};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-brand-text",children:"Site-Wide Financials"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(cn,{title:"Total Stakes (Client Debits)",value:d(r.totalStakes),className:"text-green-400"}),u.jsx(cn,{title:"Total Winnings (Client Credits)",value:d(r.totalWinnings),className:"text-yellow-400"}),u.jsx(cn,{title:"Manual Deposits",value:d(r.totalDeposits)}),u.jsx(cn,{title:"Manual Withdrawals",value:d(r.totalWithdrawals)})]}),u.jsxs("div",{className:"bg-brand-surface rounded-lg shadow",children:[u.jsx("div",{className:"overflow-x-auto max-h-[60vh] relative",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/80 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Client"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Description"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Debit"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Credit"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Balance After"})]})}),u.jsx("tbody",{className:"divide-y divide-brand-secondary/50",children:c.map(p=>{const h=i.get(p.clientId);return u.jsxs("tr",{className:"hover:bg-brand-secondary/30",children:[u.jsx("td",{className:"px-6 py-3 whitespace-nowrap",children:new Date(p.createdAt).toLocaleString()}),u.jsx("td",{className:"px-6 py-3 font-medium text-brand-text",children:h?`${h.username} (${h.clientId})`:"N/A"}),u.jsx("td",{className:"px-6 py-3",children:p.description}),u.jsx("td",{className:"px-6 py-3 text-right font-mono text-yellow-400",children:p.type===kt.Debit?d(p.amount):"-"}),u.jsx("td",{className:"px-6 py-3 text-right font-mono text-green-400",children:p.type===kt.Credit?d(p.amount):"-"}),u.jsx("td",{className:"px-6 py-3 text-right font-mono text-brand-text",children:d(p.balanceAfter)})]},p.id)})})]})}),e.length===0&&u.jsx("div",{className:"text-center py-4",children:u.jsx("p",{className:"text-brand-text-secondary",children:"No transactions found."})})]}),f>1&&u.jsxs("div",{className:"flex justify-between items-center pt-2",children:[u.jsx("button",{onClick:()=>m(n-1),disabled:n===1,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:" Previous"}),u.jsxs("span",{className:"text-brand-text-secondary font-semibold",children:["Page ",n," of ",f]}),u.jsx("button",{onClick:()=>m(n+1),disabled:n===f,className:"bg-brand-secondary hover:bg-opacity-80 text-brand-text font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next "})]})]})},JR=bT,YR=NT,KR=ET,XR=BR,QR=FR,WR=VR,ZR=jR,eD=OR,tD=$R,nD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),oD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),sD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),iD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),lD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),aD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),rD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7a8 8 0 018-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),uD=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"})}),cD=()=>{const[e,t]=S.useState("clients"),n=()=>{switch(e){case"clients":return u.jsx(JR,{});case"draws":return u.jsx(YR,{});case"bulk":return u.jsx(QR,{});case"monitor":return u.jsx(KR,{});case"reports":return u.jsx(XR,{});case"financials":return u.jsx(tD,{});case"backup":return u.jsx(ZR,{});case"profile":return u.jsx(WR,{});default:return null}},o=({tabId:s,icon:i,children:r})=>u.jsxs("button",{onClick:()=>t(s),className:`flex items-center whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-300
            ${e===s?"border-brand-primary text-brand-primary":"border-transparent text-brand-text-secondary hover:border-brand-secondary hover:text-brand-text"}`,children:[i,u.jsx("span",{className:"hidden sm:inline",children:r})]});return u.jsxs("div",{className:"bg-brand-surface rounded-xl p-4 md:p-6 border border-brand-secondary",children:[u.jsx(eD,{}),u.jsx("div",{className:"border-b border-brand-secondary",children:u.jsxs("nav",{className:"-mb-px flex space-x-2 md:space-x-4 overflow-x-auto",children:[u.jsx(o,{tabId:"clients",icon:u.jsx(iD,{}),children:"Clients"}),u.jsx(o,{tabId:"draws",icon:u.jsx(nD,{}),children:"Draws"}),u.jsx(o,{tabId:"bulk",icon:u.jsx(sD,{}),children:"Bulk Betting"}),u.jsx(o,{tabId:"monitor",icon:u.jsx(oD,{}),children:"Live Summary"}),u.jsx(o,{tabId:"reports",icon:u.jsx(lD,{}),children:"Reporting"}),u.jsx(o,{tabId:"financials",icon:u.jsx(uD,{}),children:"Financials"}),u.jsx(o,{tabId:"backup",icon:u.jsx(rD,{}),children:"Backup"}),u.jsx(o,{tabId:"profile",icon:u.jsx(aD,{}),children:"Profile"})]})}),u.jsx("div",{className:"pt-6",children:n()})]})},dD=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"text-yellow-200/50",children:[u.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),u.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),fD=()=>{const{currentClient:e}=ce();return u.jsxs("div",{className:"bg-gradient-to-br from-brand-secondary to-gray-800 p-6 rounded-xl shadow-lg border border-brand-secondary flex flex-col justify-between min-h-[180px] relative overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between z-10",children:[u.jsx("h2",{className:"text-lg font-semibold text-brand-text-secondary",children:"Wallet Balance"}),u.jsx("span",{className:"font-mono text-sm text-brand-primary",children:"CLIENT"})]}),u.jsx("div",{className:"z-10",children:u.jsxs("p",{className:"text-4xl lg:text-5xl font-bold text-brand-text tracking-wider",children:["RS. ",e==null?void 0:e.wallet.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),u.jsxs("div",{className:"flex items-center justify-between z-10",children:[u.jsx("span",{className:"font-mono text-lg text-brand-text",children:e==null?void 0:e.username}),u.jsx(dD,{})]}),u.jsx("div",{className:"absolute -bottom-16 -right-10 w-48 h-48 border-4 border-brand-primary/20 rounded-full opacity-50"})]})},mD=({gameType:e,maxLength:t,onBook:n,disabled:o,betMode:s})=>{const[i,r]=S.useState(""),[c,f]=S.useState(5),[d,m]=S.useState(5),[p,h]=S.useState(null),g=v=>{var _;if(t!==1){const M=v.replace(/[^0-9]/g,"");if(!M)return"";const D=new RegExp(`.{1,${t}}`,"g");return((_=M.match(D))==null?void 0:_.join(","))||""}return v.replace(/[^0-9,]/g,"").split(",").flatMap(M=>M.split("")).filter(M=>M).join(",")},C=v=>{r(g(v.target.value))},T=S.useMemo(()=>{const v=i.replace(/\s/g,"");return v?v.split(",").filter(A=>A.length>0):[]},[i]),N=S.useMemo(()=>T.filter(v=>v.length===t),[T,t]),b=S.useMemo(()=>T.filter(v=>v.length!==t),[T,t]),y=S.useMemo(()=>s==="BOTH"?N.length*(c+d):N.length*c,[N,c,d,s]),x=async v=>{if(v.preventDefault(),N.length===0){h({type:"error",message:"Please enter valid numbers with the correct length."});return}const A=await n({numbers:N,stakeFirst:c,stakeSecond:d});h({type:A.successCount>0?"success":"error",message:A.message}),A.successCount>0&&r("")};return S.useEffect(()=>{if(p){const v=setTimeout(()=>h(null),8e3);return()=>clearTimeout(v)}},[p]),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Enter Your Number(s)"}),u.jsx("input",{type:"text",value:i,onChange:C,placeholder:t===1?"e.g., 1,2,3,4,5":`e.g., 1234,5678 (${t}-digit numbers)`,className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary font-mono text-lg"}),b.length>0&&u.jsxs("p",{className:"text-red-400 text-xs mt-1",children:["Error: The following numbers have an incorrect length and will be ignored: ",b.join(", "),". All numbers for this game must be exactly ",t," digits."]})]}),s==="BOTH"?u.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake (First)"}),u.jsx("input",{type:"number",value:c===0?"":c,min:1,step:1,onFocus:v=>v.target.select(),onChange:v=>f(Number(v.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake (Second)"}),u.jsx("input",{type:"number",value:d===0?"":d,min:1,step:1,onFocus:v=>v.target.select(),onChange:v=>m(Number(v.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}):u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake Amount"}),u.jsx("input",{type:"number",value:c===0?"":c,min:1,step:1,onFocus:v=>v.target.select(),onChange:v=>f(Number(v.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[u.jsx("div",{className:"text-brand-text-secondary text-sm",children:N.length>0&&u.jsxs("span",{children:["Placing ",u.jsx("span",{className:"font-bold text-brand-primary",children:s==="BOTH"?N.length*2:N.length})," bet(s). Total Stake: ",u.jsxs("span",{className:"font-bold text-brand-primary",children:["RS. ",y.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),u.jsx("button",{type:"submit",disabled:o||N.length===0,className:"bg-brand-primary text-brand-bg font-bold py-2 px-6 rounded-lg disabled:bg-brand-secondary hover:bg-yellow-400",children:"Book Now"})]})]}),p&&u.jsx("div",{className:`mt-4 p-4 rounded-lg text-sm whitespace-pre-wrap text-left border ${p.type==="success"?"bg-green-900/20 text-green-300 border-green-500/30":"bg-red-900/20 text-red-300 border-red-500/30"}`,children:p.message})]})},pD=({onBook:e,disabled:t,betMode:n})=>{const[o,s]=S.useState(""),[i,r]=S.useState(2),[c,f]=S.useState(5),[d,m]=S.useState(5),[p,h]=S.useState([]),[g,C]=S.useState([]),[T,N]=S.useState(""),[b,y]=S.useState(null),x={2:{min:3,max:6},3:{min:3,max:7},4:{min:4,max:7}},v=()=>{N(""),h([]),C([]);const R=Array.from(new Set(o.split("").map(Number))),F=x[i];if(R.length<F.min||R.length>F.max){N(`For permutations of size ${i}, you must provide between ${F.min} and ${F.max} unique digits. You provided ${R.length}.`);return}const Z=PC(R,i);h(Z),C(Z)},A=R=>{C(F=>F.includes(R)?F.filter(Z=>Z!==R):[...F,R])},w=()=>{g.length===p.length?C([]):C(p)},E=R=>{r(Number(R.target.value)),s(""),h([]),C([]),N("")},_=async R=>{const F=R?p:g;if(F.length===0){y({type:"error",message:"Please select at least one number to book."});return}const Z=await e({numbers:F,stakeFirst:c,stakeSecond:d,combinationSize:i});y({type:Z.successCount>0?"success":"error",message:Z.message}),Z.successCount>0&&(h([]),C([]),s(""))};S.useEffect(()=>{if(b){const R=setTimeout(()=>y(null),8e3);return()=>clearTimeout(R)}},[b]);const M=S.useMemo(()=>n==="BOTH"?g.length*(c+d):g.length*c,[g,c,d,n]),D=x[i],B=`Enter ${D.min} to ${D.max} unique digits`;return u.jsxs("div",{className:"space-y-4",children:[T&&u.jsx("p",{className:"text-red-400 text-center p-2 bg-red-900/20 rounded-md text-sm",children:T}),u.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:B}),u.jsx("input",{type:"text",value:o,onChange:R=>s(R.target.value.replace(/[^0-9]/g,"")),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",placeholder:"e.g., 12345"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Permutation Size"}),u.jsxs("select",{value:i,onChange:E,className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:[u.jsx("option",{value:2,children:"2 Digits"}),u.jsx("option",{value:3,children:"3 Digits"}),u.jsx("option",{value:4,children:"4 Digits"})]})]}),u.jsx("button",{onClick:v,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700",children:"Generate"})]}),p.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("p",{className:"text-brand-text-secondary",children:[p.length," numbers generated:"]}),u.jsx("button",{onClick:w,className:"text-sm text-brand-primary hover:underline",children:g.length===p.length?"Deselect All":"Select All"})]}),u.jsx("div",{className:"max-h-32 overflow-y-auto bg-brand-bg p-2 rounded-md my-2 border border-brand-secondary flex flex-wrap gap-2",children:p.map(R=>u.jsx("button",{onClick:()=>A(R),className:`font-mono text-sm px-2 py-1 rounded transition-colors ${g.includes(R)?"bg-brand-primary text-brand-bg":"bg-brand-secondary text-brand-text hover:bg-brand-secondary/70"}`,children:R},R))}),u.jsxs("div",{className:"flex flex-col md:flex-row items-end gap-4",children:[n==="BOTH"?u.jsxs("div",{className:"flex items-end gap-4 flex-grow",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake (First)"}),u.jsx("input",{type:"number",value:c===0?"":c,min:1,step:1,onChange:R=>f(Number(R.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake (Second)"}),u.jsx("input",{type:"number",value:d===0?"":d,min:1,step:1,onChange:R=>m(Number(R.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}):u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake per Number"}),u.jsx("input",{type:"number",value:c===0?"":c,min:1,step:1,onChange:R=>f(Number(R.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsxs("div",{className:"flex items-end gap-2 w-full md:w-auto",children:[u.jsxs("button",{onClick:()=>_(!0),disabled:t||p.length===0,className:"w-full md:w-auto bg-green-600 text-white font-bold py-2 px-4 rounded-lg disabled:bg-brand-secondary disabled:cursor-not-allowed hover:bg-green-700",children:["Book All (",p.length,")"]}),u.jsxs("button",{onClick:()=>_(!1),disabled:t||g.length===0,className:"w-full md:w-auto bg-brand-primary text-brand-bg font-bold py-2 px-4 rounded-lg disabled:bg-brand-secondary disabled:cursor-not-allowed hover:bg-yellow-400",children:["Book Selected (",g.length,")"]})]})]}),u.jsxs("p",{className:"text-brand-text-secondary text-sm",children:["Total Stake for Selected: ",u.jsxs("span",{className:"font-bold text-brand-primary",children:["RS. ",M.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),b&&u.jsx("div",{className:`mt-4 p-4 rounded-lg text-sm whitespace-pre-wrap text-left border ${b.type==="success"?"bg-green-900/20 text-green-300 border-green-500/30":"bg-red-900/20 text-red-300 border-red-500/30"}`,children:b.message})]})},hD=({onBook:e,disabled:t,betMode:n})=>{const[o,s]=S.useState(""),[i,r]=S.useState(5),[c,f]=S.useState(5),[d,m]=S.useState(null),[p,h]=S.useState(""),g=v=>{var E;const w=((E=v.toUpperCase().replace(/[^0-9X]/g,"").match(/.{1,4}/g))==null?void 0:E.join(","))||"";s(w),p&&h("")};S.useEffect(()=>{if(d){const v=setTimeout(()=>m(null),8e3);return()=>clearTimeout(v)}},[d]);const C=S.useMemo(()=>o.split(",").map(v=>v.trim()).filter(v=>v.length>0),[o]),T=S.useMemo(()=>C.filter(v=>v.length===4&&/[0-9]/.test(v)),[C]),N=S.useMemo(()=>C.filter(v=>v.length!==4||!/[0-9]/.test(v)),[C]),b=async v=>{if(v.preventDefault(),m(null),h(""),T.length===0){h('Please enter at least one valid 4-character pattern (using digits and "X", with at least one digit).');return}const A=await e({patterns:T,stakeFirst:i,stakeSecond:c});m({type:A.successCount>0?"success":"error",message:A.message}),A.successCount>0&&(s(""),r(5),f(5))},y=S.useMemo(()=>n==="BOTH"?T.length*(i+c):T.length*i,[T,i,c,n]),x=!t&&T.length>0&&(n==="BOTH"?i>0||c>0:i>0);return u.jsxs("form",{onSubmit:b,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Enter Pattern(s)"}),u.jsx("p",{className:"text-xs text-brand-text-secondary mb-2",children:"Place bets on digits in specific positions. Use 'X' as a wildcard. Commas are added automatically."}),u.jsx("textarea",{rows:3,value:o,onChange:v=>g(v.target.value),placeholder:"e.g., 5XX4X1X2 will become 5XX4,X1X2",className:"w-full bg-brand-bg border-2 border-brand-secondary rounded-lg py-3 px-4 text-brand-primary focus:outline-none focus:ring-2 focus:ring-brand-primary focus:border-brand-primary font-mono text-lg tracking-wider"}),p&&u.jsx("p",{className:"text-red-400 text-xs mt-1",children:p}),N.length>0&&u.jsxs("p",{className:"text-yellow-400 text-xs mt-1",children:["Invalid patterns will be ignored: ",N.join(", ")]})]}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[n==="BOTH"?u.jsxs("div",{className:"flex flex-wrap items-end gap-4 flex-grow",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake (First)"}),u.jsx("input",{type:"number",value:i===0?"":i,min:1,step:1,onFocus:v=>v.target.select(),onChange:v=>r(Number(v.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake (Second)"}),u.jsx("input",{type:"number",value:c===0?"":c,min:1,step:1,onFocus:v=>v.target.select(),onChange:v=>f(Number(v.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]})]}):u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Stake per Pattern"}),u.jsx("input",{type:"number",value:i===0?"":i,min:1,step:1,onFocus:v=>v.target.select(),onChange:v=>r(Number(v.target.value)),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsx("div",{className:"w-full md:w-auto text-right",children:u.jsx("button",{type:"submit",disabled:!x,className:"w-full md:w-auto bg-brand-primary text-brand-bg font-bold py-2 px-6 rounded-lg disabled:bg-brand-secondary disabled:cursor-not-allowed hover:bg-yellow-400",children:"Book Now"})})]}),T.length>0&&u.jsxs("div",{className:"text-brand-text-secondary text-sm",children:["Placing ",u.jsx("span",{className:"font-bold text-brand-primary",children:n==="BOTH"?T.length*2:T.length})," bet(s). Total Stake: ",u.jsxs("span",{className:"font-bold text-brand-primary",children:["RS. ",y.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),d&&u.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm whitespace-pre-wrap text-left border ${d.type==="success"?"bg-green-900/20 text-green-300 border-green-500/30":"bg-red-900/20 text-red-300 border-red-500/30"}`,children:d.message})]})},gD=mD,yD=pD,xD=hD,bD=()=>{var y;const{draws:e,placeBulkBetsForCurrentClient:t}=ce(),[n,o]=S.useState(I.FourDigits),[s,i]=S.useState("FIRST"),r=e.filter(x=>x.status==="OPEN"),[c,f]=S.useState("");S.useEffect(()=>{r.length>0&&!r.find(x=>x.id===c)?f(r[0].id):r.length===0&&f("")},[r,c]);const d=x=>x.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),m=r.find(x=>x.id===c),p=m?new Date(m.drawTime.getTime()-15*60*1e3):null,h=p?p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"",g=async x=>{if(!c)return{successCount:0,total:0,message:"No draw selected or market is closed."};const{numbers:v,stakeFirst:A,stakeSecond:w}=x,E=[];if(v.forEach(M=>{s==="FIRST"&&A>0?E.push({drawId:c,gameType:n,number:M,stake:A,createdAt:new Date,condition:ie.First}):s==="SECOND"&&A>0?E.push({drawId:c,gameType:n,number:M,stake:A,createdAt:new Date,condition:ie.Second}):s==="BOTH"&&(A>0&&E.push({drawId:c,gameType:n,number:M,stake:A,createdAt:new Date,condition:ie.First}),w>0&&E.push({drawId:c,gameType:n,number:M,stake:w,createdAt:new Date,condition:ie.Second}))}),E.length===0)return{successCount:0,total:0,message:"No valid bets to place (stake must be > 0)."};const _=await t(E);if(_.successCount>0){const M=E.reduce((R,F)=>R+F.stake,0);let D=` Stake per Number: Rs. ${d(A)}`;s==="BOTH"&&(D=` Stake per Number: Rs. ${d(A)} (First), Rs. ${d(w)} (Second)`);const B=` Successfully Booked: ${v.slice(0,10).join(", ")}${v.length>10?"...":""}
${D}
 Total Bookings: ${E.length}
 Total Amount: Rs. ${d(M)}`;return{..._,total:E.length,message:B}}else return{..._,total:E.length,message:`Booking failed. Reason: ${_.message}`}},C=async x=>{if(!c)return{successCount:0,total:0,message:"No draw selected or market is closed."};const{numbers:v,stakeFirst:A,stakeSecond:w,combinationSize:E}=x;let _;switch(E){case 2:_=I.TwoDigits;break;case 3:_=I.ThreeDigits;break;case 4:_=I.FourDigits;break;default:return{successCount:0,total:0,message:"Invalid combination size."}}const M=[];if(v.forEach(B=>{s==="FIRST"&&A>0?M.push({drawId:c,gameType:_,number:B,stake:A,createdAt:new Date,condition:ie.First}):s==="SECOND"&&A>0?M.push({drawId:c,gameType:_,number:B,stake:A,createdAt:new Date,condition:ie.Second}):s==="BOTH"&&(A>0&&M.push({drawId:c,gameType:_,number:B,stake:A,createdAt:new Date,condition:ie.First}),w>0&&M.push({drawId:c,gameType:_,number:B,stake:w,createdAt:new Date,condition:ie.Second}))}),M.length===0)return{successCount:0,total:0,message:"No valid bets to place (stake must be > 0)."};const D=await t(M);if(D.successCount>0){const B=M.reduce((Z,K)=>Z+K.stake,0);let R=` Stake per Number: Rs. ${d(A)}`;s==="BOTH"&&(R=` Stake per Number: Rs. ${d(A)} (First), Rs. ${d(w)} (Second)`);const F=` Successfully Booked: ${v.slice(0,5).join(", ")}${v.length>5?"...":""}
${R}
 Total Bookings: ${M.length}
 Total Amount: Rs. ${d(B)}`;return{...D,total:M.length,message:F}}else return{...D,total:M.length,message:`Booking failed for all combinations. Reason: ${D.message}`}},T=async x=>{if(!c)return{successCount:0,total:0,message:"No draw selected or market is closed."};const{patterns:v,stakeFirst:A,stakeSecond:w}=x,E=[];if(v.forEach(M=>{s==="FIRST"&&A>0?E.push({drawId:c,gameType:I.Positional,number:M,stake:A,createdAt:new Date,condition:ie.First}):s==="SECOND"&&A>0?E.push({drawId:c,gameType:I.Positional,number:M,stake:A,createdAt:new Date,condition:ie.Second}):s==="BOTH"&&(A>0&&E.push({drawId:c,gameType:I.Positional,number:M,stake:A,createdAt:new Date,condition:ie.First}),w>0&&E.push({drawId:c,gameType:I.Positional,number:M,stake:w,createdAt:new Date,condition:ie.Second}))}),E.length===0)return{successCount:0,total:0,message:"No valid bets to place."};const _=await t(E);if(_.successCount>0){const M=E.reduce((R,F)=>R+F.stake,0);let D=` Stake per Pattern: Rs. ${d(A)}`;s==="BOTH"&&(D=` Stake per Pattern: Rs. ${d(A)} (First), Rs. ${d(w)} (Second)`);const B=` Successfully Booked: ${v.slice(0,10).join(", ")}${v.length>10?"...":""}
${D}
 Total Bookings: ${E.length}
 Total Amount: Rs. ${d(M)}`;return{..._,total:E.length,message:B}}else return{..._,total:E.length,message:`Booking failed. Reason: ${_.message}`}},N=[{id:I.FourDigits,label:"4 Digits",maxLength:4},{id:I.ThreeDigits,label:"3 Digits",maxLength:3},{id:I.TwoDigits,label:"2 Digits",maxLength:2},{id:I.OneDigit,label:"1 Digit",maxLength:1},{id:I.Positional,label:"Multi Positional 1 digit"},{id:I.Combo,label:"Combo"}],b={FIRST:"Bet wins only on the 1st winning number.",SECOND:"Bet wins on the 2nd, 3rd, or 4th winning number.",BOTH:"Places two separate bets: one for First Position and one for Second, with their respective stakes."};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-4 gap-4",children:[u.jsx("h2",{className:"text-xl font-bold text-brand-text",children:"Place Your Bet"}),r.length>0&&u.jsxs("div",{className:"w-full md:w-auto",children:[u.jsx("label",{htmlFor:"draw-select",className:"sr-only",children:"Select an Open Draw"}),u.jsx("select",{id:"draw-select",value:c,onChange:x=>f(x.target.value),className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",disabled:r.length===0,children:r.map(x=>u.jsxs("option",{value:x.id,children:["Draw ",x.name]},x.id))})]})]}),u.jsxs("div",{className:"mb-4 bg-brand-bg p-3 rounded-lg border border-brand-secondary",children:[u.jsx("label",{className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Select Betting Condition"}),u.jsx("div",{className:"flex flex-col sm:flex-row gap-x-4 gap-y-2",children:[{value:"FIRST",label:"First Position"},{value:"SECOND",label:"Second Position"},{value:"BOTH",label:"First & Second"}].map(({value:x,label:v})=>u.jsxs("label",{className:"flex items-center space-x-2 text-brand-text cursor-pointer",children:[u.jsx("input",{type:"radio",name:"betting-condition",value:x,checked:s===x,onChange:()=>i(x),className:"form-radio h-4 w-4 text-brand-primary bg-brand-surface border-brand-secondary focus:ring-brand-primary",disabled:!1}),u.jsx("span",{children:v})]},x))}),u.jsx("p",{className:"text-xs text-brand-text-secondary mt-2",children:b[s]})]}),u.jsx("div",{className:"border-b border-brand-secondary mb-4",children:u.jsx("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:N.map(x=>u.jsx("button",{onClick:()=>o(x.id),className:`whitespace-nowrap px-4 py-2 font-semibold rounded-t-lg transition-colors ${n===x.id?"bg-brand-bg text-brand-primary border-b-2 border-brand-primary":"text-brand-text-secondary hover:bg-brand-secondary/50"}`,children:x.label},x.id))})}),m&&u.jsxs("div",{className:"bg-brand-accent/10 border border-brand-accent/30 text-brand-accent p-3 rounded-lg text-center text-sm mb-4",children:["Betting on ",u.jsxs("span",{className:"font-bold",children:["Draw ",m.name]}),". This market closes at ",u.jsx("span",{className:"font-bold",children:h}),"."]}),u.jsx("div",{className:"min-h-[140px] pt-4",children:c?u.jsx(u.Fragment,{children:n===I.Positional?u.jsx(xD,{onBook:T,disabled:!c,betMode:s}):n===I.Combo?u.jsx(yD,{onBook:C,disabled:!c,betMode:s}):u.jsx(gD,{gameType:n,maxLength:((y=N.find(x=>x.id===n))==null?void 0:y.maxLength)||4,onBook:g,disabled:!c,betMode:s})}):u.jsx("p",{className:"text-center text-yellow-400 font-semibold p-4",children:"The market is currently closed for betting."})})]})},vD=({bet:e,draw:t})=>{const{currentClient:n}=ce();if(!t)return u.jsx("span",{className:"text-gray-400",children:"Loading..."});if(t.status===Q.Finished){if(wa(e,t.winningNumbers)){let o=0;if(n&&n.id===e.clientId&&n.prizeRates){const s=e.condition.toLowerCase();let i=0;if(e.gameType===I.Positional){const r=(e.number.match(/\d/g)||[]).length,c=n.prizeRates.POSITIONAL;c&&c[r]&&(i=c[r][s])}else{const r=n.prizeRates[e.gameType];r&&typeof r[s]=="number"&&(i=r[s])}i>0&&(o=e.stake*(i/100))}return u.jsxs("span",{className:"font-bold text-green-400",children:["Won (+RS. ",o.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),")"]})}return u.jsx("span",{className:"text-red-400",children:"Lost"})}return t.status===Q.Closed?u.jsx("span",{className:"text-yellow-400",children:"Processing"}):u.jsx("span",{className:"text-blue-400",children:"Pending"})},CD=vD,TD=()=>{const{currentClient:e,bets:t,draws:n}=ce(),[o,s]=S.useState("all"),i=S.useMemo(()=>new Map(n.map(d=>[d.id,d])),[n]),r=S.useMemo(()=>e?t.filter(d=>d.clientId===e.id).sort((d,m)=>m.createdAt.getTime()-d.createdAt.getTime()):[],[e,t]),c=S.useMemo(()=>{const d=new Set(r.map(m=>new Date(m.createdAt).toLocaleDateString()));return Array.from(d)},[r]),f=S.useMemo(()=>o==="all"?r:r.filter(d=>new Date(d.createdAt).toLocaleDateString()===o),[r,o]);return e?r.length===0?u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-brand-text-secondary",children:"You haven't placed any bets yet."})}):u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-4 gap-4",children:[u.jsx("h2",{className:"text-xl font-bold text-brand-text",children:"Your Bet History"}),u.jsxs("div",{className:"w-full md:w-auto",children:[u.jsx("label",{htmlFor:"date-filter",className:"sr-only",children:"Filter by Date"}),u.jsxs("select",{id:"date-filter",value:o,onChange:d=>s(d.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:[u.jsx("option",{value:"all",children:"All History"}),c.map(d=>u.jsx("option",{value:d,children:d},d))]})]})]}),u.jsxs("div",{className:"overflow-x-auto bg-brand-bg rounded-lg shadow-md",children:[u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Date"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Draw"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Game"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Number"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Condition"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Stake"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Result"})]})}),u.jsx("tbody",{children:f.map(d=>{const m=i.get(d.drawId);return u.jsxs("tr",{className:"bg-brand-surface border-b border-brand-secondary hover:bg-brand-surface/50",children:[u.jsx("td",{className:"px-6 py-4",children:new Date(d.createdAt).toLocaleString()}),u.jsx("td",{className:"px-6 py-4 font-medium text-brand-text",children:m?`Draw ${m.name}`:"N/A"}),u.jsxs("td",{className:"px-6 py-4",children:[Yt(d.gameType),d.gameType===I.Positional&&d.positions&&u.jsxs("span",{className:"text-xs block text-brand-text-secondary",children:["Pos: [",d.positions.join(","),"]"]})]}),u.jsx("td",{className:"px-6 py-4 font-mono text-brand-primary",children:d.number}),u.jsx("td",{className:"px-6 py-4",children:d.condition}),u.jsx("td",{className:"px-6 py-4 text-right font-mono",children:d.stake.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}),u.jsx("td",{className:"px-6 py-4 text-right",children:u.jsx(CD,{bet:d,draw:m})})]},d.id)})})]}),f.length===0&&o!=="all"&&u.jsxs("p",{className:"text-center py-4 text-brand-text-secondary",children:["No bets found for ",o,"."]})]})]}):null},SD=({tabId:e,activeTab:t,onClick:n,children:o})=>u.jsx("button",{onClick:()=>n(e),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-300
        ${t===e?"border-brand-primary text-brand-primary":"border-transparent text-brand-text-secondary hover:border-brand-secondary hover:text-brand-text"}`,children:o}),ND=()=>{const{currentClient:e,draws:t,placeBulkBetsForCurrentClient:n}=ce(),[o,s]=S.useState(""),[i,r]=S.useState(""),[c,f]=S.useState([]),[d,m]=S.useState(!1),[p,h]=S.useState(null),[g,C]=S.useState(""),[T,N]=S.useState("5"),[b,y]=S.useState(ie.First),x=t.filter(M=>M.status==="OPEN");S.useEffect(()=>{x.length>0&&!x.find(M=>M.id===o)?s(x[0].id):x.length===0&&s("")},[x,o]);const v=()=>{if(!i.trim()){h({type:"error",message:"Message cannot be empty."});return}m(!0),h(null);try{const M=px(i);M.length===0&&h({type:"error",message:"Parser could not find any valid bets in the message. Please check the format."}),f(M)}catch(M){console.error(M),h({type:"error",message:"An error occurred while parsing the message."})}finally{m(!1)}},A=async()=>{if(!e){h({type:"error",message:"You must be logged in."});return}if(!o){h({type:"error",message:"Please select an open draw."});return}if(c.length===0){h({type:"error",message:"No bets to place."});return}m(!0);try{const M=c.map(B=>({drawId:o,gameType:B.gameType,number:B.number,stake:B.stake,createdAt:new Date,condition:B.condition||b})),D=await n(M);h({type:D.successCount>0?"success":"error",message:D.message}),D.successCount>0&&(f([]),r(""),C(""),N("5"))}finally{m(!1)}},w=M=>{switch(M.length){case 1:return I.OneDigit;case 2:return I.TwoDigits;case 3:return I.ThreeDigits;default:return I.FourDigits}},E=M=>{M.preventDefault();const D=parseInt(T,10);if(g.length>0&&g.length<=4&&D>0){const B={number:g,stake:D,gameType:w(g)};f(R=>[...R,B]),C(""),N("5")}},_=c.reduce((M,D)=>M+D.stake,0);return u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-brand-text mb-4",children:"Rule-Based Bulk Betting"}),x.length>0&&e?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"draw-select",className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Select Draw"}),u.jsx("select",{id:"draw-select",value:o,onChange:M=>s(M.target.value),className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-3 px-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary",children:x.map(M=>u.jsxs("option",{value:M.id,children:["Draw ",M.name]},M.id))})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"bet-message",className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Paste Your Message"}),u.jsx("textarea",{id:"bet-message",rows:6,value:i,onChange:M=>r(M.target.value),placeholder:"Paste your full betting message here, then click 'Parse Message' below.",className:"w-full bg-brand-bg border border-brand-secondary rounded-lg py-3 px-4 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary font-mono",disabled:d}),u.jsx("button",{onClick:v,disabled:d||!i.trim()||!o,className:"mt-2 w-full bg-brand-accent text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-400 disabled:bg-brand-secondary disabled:cursor-not-allowed transition-colors",children:d?"Parsing...":"Parse Message"})]}),u.jsx("div",{className:"text-center text-brand-text-secondary",children:"or"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-bold text-brand-text-secondary mb-2",children:"Add Bets Manually"}),u.jsxs("form",{onSubmit:E,className:"flex flex-wrap gap-4 items-end bg-brand-bg p-4 rounded-lg border border-brand-secondary",children:[u.jsxs("div",{className:"flex-grow",children:[u.jsx("label",{className:"text-xs font-bold text-brand-text-secondary",children:"Number (1-4 digits)"}),u.jsx("input",{type:"text",value:g,onChange:M=>C(M.target.value.replace(/[^0-9]/g,"")),maxLength:4,className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary font-mono text-lg"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-bold text-brand-text-secondary",children:"Stake"}),u.jsx("input",{type:"number",value:T,min:"1",step:"1",onChange:M=>N(M.target.value),className:"w-full bg-brand-surface border border-brand-secondary rounded-lg py-2 px-3 text-brand-text focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),u.jsx("button",{type:"submit",disabled:!g||g.length===0,className:"bg-brand-accent text-white font-bold py-2 px-4 rounded-lg hover:bg-sky-400 disabled:bg-brand-secondary",children:"Add Bet"})]})]}),c.length>0&&u.jsxs("div",{className:"bg-brand-bg p-4 rounded-lg border border-brand-secondary",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("h3",{className:"text-lg font-bold text-brand-primary",children:"Review Bets"}),u.jsx("button",{onClick:()=>f([]),className:"text-xs text-red-400 hover:text-red-300",children:"Clear All Bets"})]}),u.jsx("div",{className:"overflow-x-auto max-h-64",children:u.jsxs("table",{className:"min-w-full text-sm text-left text-brand-text-secondary",children:[u.jsx("thead",{className:"text-xs text-brand-text uppercase bg-brand-secondary/50 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Number"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Game Type"}),u.jsx("th",{scope:"col",className:"px-6 py-3",children:"Condition"}),u.jsx("th",{scope:"col",className:"px-6 py-3 text-right",children:"Stake"})]})}),u.jsx("tbody",{className:"bg-brand-surface",children:c.map((M,D)=>u.jsxs("tr",{className:"border-b border-brand-secondary hover:bg-brand-secondary/20",children:[u.jsx("td",{className:"px-6 py-2 font-mono text-brand-text",children:M.number}),u.jsx("td",{className:"px-6 py-2",children:Yt(M.gameType)}),u.jsx("td",{className:"px-6 py-2",children:M.condition||b}),u.jsx("td",{className:"px-6 py-2 text-right font-mono",children:M.stake.toFixed(2)})]},D))})]})}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-secondary flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("div",{className:"text-lg font-bold",children:[u.jsxs("span",{children:["Total Bets: ",u.jsx("span",{className:"text-brand-primary",children:c.length})]}),u.jsx("span",{className:"mx-4",children:"|"}),u.jsxs("span",{children:["Total Stake: ",u.jsxs("span",{className:"text-brand-primary",children:["RS. ",_.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),u.jsx("button",{onClick:A,disabled:d||!o,className:"w-full md:w-auto bg-brand-primary hover:bg-yellow-400 text-brand-bg font-bold py-3 px-6 rounded-lg disabled:bg-brand-secondary disabled:cursor-not-allowed transition-colors",children:d?"Placing Bets...":"Confirm & Place Bets"})]})]}),p&&u.jsx("div",{className:`mt-4 p-3 rounded-lg text-sm text-center ${p.type==="success"?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:p.message})]}):u.jsx("p",{className:"text-center text-yellow-400 font-semibold p-4 bg-brand-surface rounded-lg",children:"The market is currently closed. Bulk betting is disabled."})]})},ED=Iy,wD=()=>{const{currentClient:e}=ce();return e?u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-brand-text mb-4",children:"Your Financial Statement"}),u.jsx(ED,{clientId:e.id})]}):u.jsx("p",{children:"Please log in to view your statement."})},AD=ki,MD=()=>{const{currentClient:e}=ce(),[t,n]=S.useState(!1),[o,s]=S.useState({title:"",body:""});if(!e)return null;const i=()=>{s({title:"How to Deposit Funds",body:"To add funds to your wallet, please contact your administrator directly via WhatsApp. They will assist you with the deposit process."}),n(!0)};return u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-brand-text mb-4",children:"Manage Your Wallet"}),u.jsxs("div",{className:"bg-brand-bg p-6 rounded-lg border border-brand-secondary space-y-6",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-brand-text-secondary text-sm",children:"Current Balance"}),u.jsxs("p",{className:"text-3xl font-bold text-brand-primary",children:["RS. ",e.wallet.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),u.jsx("div",{className:"flex flex-col",children:u.jsx("button",{onClick:i,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"Deposit Funds"})}),u.jsx("p",{className:"text-xs text-brand-text-secondary text-center pt-4",children:"All deposits are handled securely through your administrator."})]}),t&&u.jsxs(AD,{title:o.title,onClose:()=>n(!1),children:[u.jsx("p",{className:"text-brand-text-secondary",children:o.body}),u.jsx("a",{href:"https://wa.me/447879144354",target:"_blank",rel:"noopener noreferrer",className:"mt-4 inline-block bg-green-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-600",children:"Contact on WhatsApp"})]})]})},_D=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-24 w-24 text-brand-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1,children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"})}),RD=()=>{const{currentClient:e}=ce();if(!e)return null;const t=()=>{alert("Profile picture upload feature is coming soon!")};return u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-brand-text mb-4",children:"Your Profile"}),u.jsxs("div",{className:"bg-brand-bg p-6 rounded-lg border border-brand-secondary flex flex-col md:flex-row items-center gap-8",children:[u.jsxs("div",{className:"flex-shrink-0",children:[u.jsx("div",{className:"relative w-40 h-40 rounded-full bg-brand-surface border-2 border-brand-secondary flex items-center justify-center",children:u.jsx(_D,{})}),u.jsx("button",{onClick:t,className:"w-full mt-4 bg-brand-accent hover:bg-sky-400 text-white text-sm font-bold py-2 px-4 rounded-lg",children:"Upload Picture"})]}),u.jsx("div",{className:"flex-grow w-full",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Username"}),u.jsx("p",{className:"text-lg text-brand-text p-2 bg-brand-surface rounded",children:e.username})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Client ID"}),u.jsx("p",{className:"text-lg text-brand-text p-2 bg-brand-surface rounded font-mono",children:e.clientId})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Contact Number"}),u.jsx("p",{className:"text-lg text-brand-text p-2 bg-brand-surface rounded",children:e.contact||"Not provided"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm font-bold text-brand-text-secondary",children:"Area"}),u.jsx("p",{className:"text-lg text-brand-text p-2 bg-brand-surface rounded",children:e.area||"Not provided"})]})]})})]})]})},DD=fD,kD=bD,ID=TD,Eo=SD,LD=ND,UD=wD,PD=MD,BD=RD,FD=()=>{const[e,t]=S.useState("bulk-betting");return u.jsxs("div",{className:"space-y-8",children:[u.jsx(DD,{}),u.jsxs("div",{className:"bg-brand-surface rounded-xl shadow-lg border border-brand-secondary",children:[u.jsx("div",{className:"border-b border-brand-secondary px-4 md:px-6",children:u.jsxs("nav",{className:"-mb-px flex space-x-4 overflow-x-auto",children:[u.jsx(Eo,{tabId:"booking",activeTab:e,onClick:t,children:"Place Bet"}),u.jsx(Eo,{tabId:"bulk-betting",activeTab:e,onClick:t,children:"Bulk Betting"}),u.jsx(Eo,{tabId:"history",activeTab:e,onClick:t,children:"Bet History"}),u.jsx(Eo,{tabId:"statement",activeTab:e,onClick:t,children:"Financial Statement"}),u.jsx(Eo,{tabId:"wallet",activeTab:e,onClick:t,children:"Manage Wallet"}),u.jsx(Eo,{tabId:"profile",activeTab:e,onClick:t,children:"Profile"})]})}),u.jsxs("div",{className:"p-4 md:p-6",children:[e==="booking"&&u.jsx(kD,{}),e==="bulk-betting"&&u.jsx(LD,{}),e==="history"&&u.jsx(ID,{}),e==="statement"&&u.jsx(UD,{}),e==="wallet"&&u.jsx(PD,{}),e==="profile"&&u.jsx(BD,{})]})]})]})},VD=Ry,jD=Dy,zD=cD,HD=FD,qD=ky,GD=()=>{const{currentClient:e,logout:t}=ce();return e?u.jsxs("div",{className:"min-h-screen bg-brand-bg pt-16",children:[u.jsx(VD,{onLogout:t,client:e}),u.jsxs("main",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsxs("h1",{className:"text-3xl font-bold text-brand-text mb-2",children:["Welcome back, ",e.username,"!"]}),u.jsx(qD,{})]}),u.jsx("div",{className:"mb-8",children:u.jsx(jD,{})}),u.jsx("div",{className:"mt-8",children:e.role===je.Admin?u.jsx(zD,{}):u.jsx(HD,{})})]})]}):null},OD=KC,$D=sT,JD=GD,YD=()=>{const{currentClient:e}=ce();return u.jsxs(oC,{children:[u.jsx(js,{path:"/",element:e?u.jsx(Xi,{to:"/dashboard"}):u.jsx(OD,{})}),u.jsx(js,{path:"/login",element:e?u.jsx(Xi,{to:"/dashboard"}):u.jsx($D,{})}),u.jsx(js,{path:"/dashboard",element:e?u.jsx(JD,{}):u.jsx(Xi,{to:"/login"})}),u.jsx(js,{path:"*",element:u.jsx(Xi,{to:"/"})})]})},KD=YD,XD=()=>{const{currentClient:e,logout:t}=ce(),n=S.useCallback(()=>{t()},[t]);return S.useEffect(()=>{if(!e)return;const o=60*60*1e3;let s;const i=()=>{clearTimeout(s),s=window.setTimeout(n,o)},r=["mousemove","mousedown","keypress","scroll","touchstart"];return r.forEach(c=>{window.addEventListener(c,i)}),i(),()=>{clearTimeout(s),r.forEach(c=>{window.removeEventListener(c,i)})}},[e,n]),null},QD=()=>(S.useEffect(()=>{const e=document.getElementById("root");e&&(e.style.opacity="1")},[]),u.jsx(BC,{children:u.jsxs(wC,{children:[u.jsx(XD,{}),u.jsx(KD,{})]})})),hx=document.getElementById("root");if(!hx)throw new Error("Could not find root element to mount to");const WD=m0.createRoot(hx);WD.render(u.jsx(ol.StrictMode,{children:u.jsx(QD,{})}));
